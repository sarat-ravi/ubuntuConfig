<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Customization Points</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="Xtext User Guide">
<link rel="up" href="jvmtypes.html" title="Referring to Java Types">
<link rel="prev" href="jvmtypes.html" title="Referring to Java Types">
<link rel="next" href="special_languages.html" title="Typical Language Configurations">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Customization Points</h1>
<p>There are several customization hooks in the runtime layer and on the editor side as well:</p>
<p>The 
				<a class="ulink" href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.tmf/org.eclipse.xtext/plugins/org.eclipse.xtext.common.types/src/org/eclipse/xtext/common/types/xtext/AbstractTypeScopeProvider.java?root=Modeling_Project&view=co" target="_new">AbstractTypeScopeProvider</a> 
				can be used to create scopes for members with respect to
				the override semantics of the Java language. Of course it is possible to use this implementation to
				create scopes for types as well.
			</p>
<p>As the Java VM types expose a lot of information about visibility, parameter- and return types, generic,
				available annotations or enumeration literals, it is very easy to define constraints for the referred types.</p>
<p>The 
				<a class="ulink" href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.tmf/org.eclipse.xtext/plugins/org.eclipse.xtext.common.types.ui/src/org/eclipse/xtext/common/types/xtext/ui/ITypesProposalProvider.java?root=Modeling_Project&view=co" target="_new">ITypesProposalProvider</a> can be
				used to provide optimized proposals based on various filter criteria. 
				The most common selector can be used directly via 
				<span class="emphasis"><em>createSubTypeProposals</em></span>. The implementation is optimized
				and uses the JDT Index directly to minimize the effort for object instantiation. The class 

				<a class="ulink" href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.tmf/org.eclipse.xtext/plugins/org.eclipse.xtext.common.types.ui/src/org/eclipse/xtext/common/types/xtext/ui/TypeMatchFilters.java?root=Modeling_Project&view=co" target="_new">TypeMatchFilters</a>
				provides a comprehensive set of reusable filters that can be easily combined to reduce the list of proposals
				to a smaller number of valid entries.
			</p>
<div class="literallayout">
<p>
<code class="code">import&nbsp;static&nbsp;org.eclipse.xtext.common.types.xtext.ui.TypeMatchFilters.*;&nbsp;<br>
..<br>
..<br>

<br>
&nbsp;&nbsp;proposalProvider.createSubTypeProposals(factory,&nbsp;context,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and(not(canInstantiate()),&nbsp;isPublic()),&nbsp;acceptor);<br>
&nbsp;<br>
&nbsp;<br>

</code>
</p>
</div>
<p>
				
<span class="emphasis"><em>Since Xtext 1.0.1:</em></span>
			
</p>
<p>Proposals can be created by means of a scoped proposal provider that is actually aware of existing import 
				statements and scoping rules while still leveraging the JDT index for faster proposal creation. Use the 

				<span class="emphasis"><em>ITypesProposalProvider.IScopableTypesProposalProvider</em></span> to create a scoped proposal provider and use this 
				one instead of the plain implementation.
			</p>
<div class="literallayout">
<p>
<code class="code">@Override<br>
public&nbsp;void&nbsp;complete&lt;TypeName&gt;_&lt;ReferenceName&gt;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;EObject&nbsp;model,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Assignment&nbsp;assignment,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ContentAssistContext&nbsp;context,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ICompletionProposalAcceptor&nbsp;acceptor)&nbsp;{<br>
&nbsp;&nbsp;IScope&nbsp;scope&nbsp;=&nbsp;getScopeProvider().getScope(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;MyDsl&gt;Package.Literals.&lt;POINTER_TO_REFERENCE&gt;);<br>
&nbsp;&nbsp;ITypesProposalProvider&nbsp;scopedProposalProvider&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scopableProposalProvider.getScopedProposalProvider(model,&nbsp;scope);<br>
&nbsp;&nbsp;scopedProposalProvider.create...<br>
}<br>

<br>

<br>

</code>
</p>
</div>
</body>
</html>
