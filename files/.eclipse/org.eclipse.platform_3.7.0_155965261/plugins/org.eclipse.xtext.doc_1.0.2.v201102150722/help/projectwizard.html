<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Project Wizard</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="Xtext User Guide">
<link rel="up" href="IDEConcepts.html" title="IDE Concepts">
<link rel="prev" href="highlighting.html" title="Syntax Coloring">
<link rel="next" href="jvmtypes.html" title="Referring to Java Types">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Project Wizard</h1>
<p>Optionally, Xtext can generate a 
				<span class="emphasis"><em>New Project Wizard</em></span> for your DSL. Using this wizard a user can create a new 
				project with only a few clicks that is configured with the right dependencies and natures. By default 
				it contains a sample model file and workflow that serve as a scaffold for the user. Furthermore it 
				has the Xtext nature and thereby the builder assigned. You enable the generation of the project wizard by adding the 

				<span class="emphasis"><em>SimpleProjectWizardFragment</em></span> fragment to the 
				<a class="link" href="configuration.html#generator_fragment" title="Generator Fragments">workflow</a>:
			</p>
<div class="literallayout">
<p>
<code class="code">import&nbsp;org.eclipse.xtext.ui.generator.*&nbsp;<br>

<br>
//&nbsp;project&nbsp;wizard&nbsp;fragment<br>
fragment&nbsp;=&nbsp;projectWizard.SimpleProjectWizardFragment&nbsp;{<br>
&nbsp;&nbsp;generatorProjectName&nbsp;=&nbsp;"${projectName}.generator"<br>
&nbsp;&nbsp;modelFileExtension&nbsp;=&nbsp;file.extensions<br>
}<br>

<br>

</code>
</p>
</div>
<p>Here</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>the 
						<span class="emphasis"><em>generatorProjectName</em></span> is used to specify the project that contains the workflows and templates used to generate artifacts from your DSL. The generated project wizard uses this to add a corresponding dependency to the created project.
					</p>
</li>
<li class="listitem">
<p>and the 
						<span class="emphasis"><em>modelFileExtension</em></span> specifies the default file extension associated with your DSL. When the user clicks the 
						<span class="emphasis"><em>Finish</em></span> button the project wizard will look for a file with the given extension in the created project and open a editor. 
					</p>
</li>
</ul>
</div>
<p>After running the Xtext generator, the DSL&rsquo;s UI project will contain a new Xpand template 

				<span class="emphasis"><em>MyDslNewProject.xpt</em></span> in the 
				<span class="emphasis"><em>src</em></span> folder in the package 
				<span class="emphasis"><em>.ui.wizard</em></span>. 
				Note: It may be necessary to manually merge the new entry in the _plugin.xml___gen_ into your 

				<span class="emphasis"><em>plugin.xml</em></span> of the UI project to enable the wizard contribution.
			</p>
<p>The generated Xpand template will be expanded by the project wizard when the user clicks the 
				<span class="emphasis"><em>Finish</em></span> button 
				and it is responsible for initializing the project with some sample content. When finishing the wizard 
				the template will be used to create a sample model file and a simple workflow to run the 
				model through the generator project&rsquo;s 
				<span class="emphasis"><em>MyDslGenerator.mwe</em></span> workflow. However, this is only a pragmatic default.
				As the Xpand template is in the 
				<span class="emphasis"><em>src</em></span> source folder you may of course modify it to generate whatever 
				initial content you want for a new project. Just make sure to leave the top-level 
				<span class="emphasis"><em>main</em></span> definition 
				in place, as that is the interface for the project wizard.
			</p>
<p>
				
<span class="bold"><strong>Note:</strong></span> To edit the generated Xpand template you should check that the 
				<span class="emphasis"><em>JavaBeans meta model contributor</em></span> 
				is enabled under 
				<span class="emphasis"><em>Preferences &gt; Xtend/Xpand</em></span>. Further you should also configure the UI project with the 
				Xpand/Xtend nature using 
				<span class="emphasis"><em>Configure &gt; Add Xpand/Xtend Nature</em></span> in the context menu.
			</p>
<div class="section" title="Customizing the Project Wizard">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CustomizingtheProjectWizard"></a>Customizing the Project Wizard</h3>
</div>
</div>
</div>
<p>To further customize the creation of the project you can implement your own 
					<span class="emphasis"><em>project creator</em></span>. 
					The default project creator is represented by the generated class 
					<span class="emphasis"><em>MyDslProjectCreator</em></span> in the

					<span class="emphasis"><em>src-gen</em></span> folder. It is highly extensible. Without any changes it will simply create a new plug-in project 
					with the Xtext nature assigned. Afterwards it will execute the 
					<span class="emphasis"><em>main</em></span> definition of the Xpand template 
					as described above.
				</p>
<p>To add more pages or input fields to the project wizard you should subclass the class 

					<span class="emphasis"><em>MyDslNewProjectWizard</em></span> as appropriate. Don&rsquo;t forget to register the subclass in the UI project&rsquo;s 

					<span class="emphasis"><em>MyDslUiModule</em></span>. You may also want to make additionally entered user data available to the Xpand template. 
					In this case you should enhance the 
					<span class="emphasis"><em>MyDslProjectInfo</em></span> to allow that one to hold the information. This is the 
					context object which gets passed to the template when it&rsquo;s executed. Don&rsquo;t forget that your specialized 

					<span class="emphasis"><em>MyDslNewProjectWizard</em></span> has to populate the data fields of your 
					<span class="emphasis"><em>MyDslProjectInfo</em></span>.
				</p>
</div>
</body>
</html>
