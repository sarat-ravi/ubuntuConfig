/*

 Includes:

 Sizzle CSS Selector Engine
 Copyright 2011, The Dojo Foundation
 Released under the MIT, BSD, and GPL Licenses.
 More information: http://sizzlejs.com/
 VigLink JavaScript Library -- http://www.viglink.com

 Permission is hereby granted to create derivative works, but only for use
 with the VigLink web service.

 Copyright (c) 2011 VigLink. Rights reserved and patent(s) pending.
*/
(function(e){var b;b={each:function(a,c){var b,g;b=0;for(g=a.length;b<g;b++)c(a[b],b)},extend:function(a){var c,b,g,j,e=arguments.length,a=a||{};for(b=1;b<e;b++)if(j=arguments[b],j!==void 0&&j!==null)for(g in j)c=j[g],a!==c&&c!==void 0&&(a[g]=c);return a}};b.extend(b,{addClass:function(a,c){if(!b.hasClass(a,c))a.className=(a.className?a.className+" ":"")+c},attrValues:function(a,c,b){return(c=a[c])?c.split(b||" "):[]},bind:function(a,c){return function(){return a.apply(c,arguments)}},browser:function(){var a=
{},c,d=navigator.userAgent.toLowerCase().replace(/\s*[()]\s*/g,"; ").replace(/(\/[\w.]+)\s+/g,"$1; ").replace(/\;\s*$/,"").split(/;\s*/);b.each(d,function(b){c=(/[\/ :]([^\/ :]+)$/.exec(b)||[])[1];a[c?b.substr(0,b.length-c.length-1).replace(/\d*$/,""):b]=c||!0});return{aol:a.aol,blackberry:a.blackberry,ie:a.msie,ios:a.mobile&&a.safari,opera:a.opera,playstation:a.playstation,version:parseFloat(a.version)||!1}}(),cache:function(){var a={},c="vglnk_"+(new Date).getTime(),b=0;return function(g,j,e){if(g){var f=
g[c];if(f||e!==void 0)return f||(f=++b),a[f]||(g[c]=f,a[f]={}),e!==void 0&&(a[f][j]=e),typeof j==="string"?a[f][j]:a[f]}}}(),canonicalizeHostname:function(a){typeof a==="string"&&(a=b.createA(a));return a.hostname?a.hostname.toString().toLowerCase().replace(/^www\./,"").replace(/:.*$/,""):""},clone:function(a){return b.extend({},a)},contains:function(a,c){return b.indexOf(a,c)!==-1},contextIsAncestor:function(a){for(var c=window.self;c.parent&&c.parent!==c;)if(c=c.parent,c===a)return!0;return!1},
cors:function(a){var c,b=function(){eval(c.responseText)};c=new window.XMLHttpRequest;c.onreadystatechange=function(){c.readyState===4&&c.status===200&&b()};c.open("GET",a);c.withCredentials=!0;c.send()},createA:function(a,c){return b.createEl("a",{href:a,target:c})},createEl:function(a,c,d,g){var j,a=(g||document).createElement(a),c=c||{},d=d||{};for(j in c)c[j]!==void 0&&(a[j]=c[j]);b.css(a,d);return a},css:function(a,c){for(var b in c)try{a.style[b]=c[b]}catch(g){}return a},destructing:function(a){return function(a){var b=
!1,g;return function(){b||(g=a.apply(null,arguments),b=!0);return g}}(a)},escapeRegExp:function(){var a;return function(b){a=a||RegExp("([.*+?^${}()|[\\]\\\\])","g");return b.replace(a,"\\$1")}}(),eventLink:function(a){var b,d=a.target||a.srcElement;do{try{b=d.nodeType}catch(g){break}if(b===1&&(a=d.tagName.toUpperCase(),a==="A"||a==="AREA"))return d;d=d.parentNode}while(d)},exceptionLogger:function(){var a=!1,b=function(){};return function(d,g){if(g!==void 0)a=g,b=d;else return function(){if(a)try{return d.apply(this,
arguments)}catch(g){b(g)}else return d.apply(this,arguments)}}}(),hasAttrValue:function(a,c,d,g){return c?b.contains(b.attrValues(a,c,g),d):!1},hasClass:function(a,c){return b.hasAttrValue(a,"className",c)},hasRel:function(a,c){return b.hasAttrValue(a,"rel",c)},indexOf:function(){return Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){var d,g;d=0;for(g=a.length;d<g;d++)if(a[d]===b)return d;return-1}}(),isArray:function(a){return b.type(a)==="array"},isDefaultPrevented:function(b){return b.isDefaultPrevented&&
b.isDefaultPrevented()||b.returnValue===!1||b.defaultPrevented===!0},jsonp:function(a){var c=document.getElementsByTagName("script")[0],a=b.createEl("script",{type:"text/javascript",src:a});c.parentNode.insertBefore(a,c)},map:function(a,c){var d=[];b.each(a,function(b,a){b!==void 0&&(d[a]=c(b))});return d},on:function(){var a;return function(c,d,g){var j,f;if(arguments.length===1)a=c;else{if(arguments.length===2){if(!a)return;g=d;d=c;c=a}try{j=c["on"+d]}catch(e){}typeof j==="function"&&(c["on"+d]=
b.bind(function(a){var a=a||window.event,d=j.apply(c,arguments);this.exceptionLogger(function(){if(a){if(d!==void 0&&a.returnValue!==!1)a.returnValue=d;b.isDefaultPrevented(a)&&b.type(a.preventDefault)==="function"&&a.preventDefault();return a.returnValue}return d})()},this));f=b.exceptionLogger(function(){if(a.enabled())return g.apply(null,arguments)});c.addEventListener?c.addEventListener(d,f,!1):c.attachEvent&&c.attachEvent("on"+d,f)}}}(),position:function(b){var c,d=0,g=0,j=0,f=0;if(!b.offsetParent)return!1;
c=b;do d+=c.offsetLeft,g+=c.offsetTop,c=c.offsetParent;while(c);c=b;do j+=c.scrollLeft,f+=c.scrollTop,c=c.parentNode;while(c&&c!==document.body);return{x:d-j,y:g-f}},preventDefault:function(b){b.preventDefault&&b.preventDefault();return b.returnValue=!1},ready:function(){var a=!1,c=[],d=!1,g,f,e,l,m;document.addEventListener?e=function(){document.removeEventListener("DOMContentLoaded",e,!1);m()}:document.attachEvent&&(l=function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",
l),m())});g=function(){if(!a){a=!0;if(document.readyState==="complete")return m();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",l);var c=!1;try{c=window.frameElement===null}catch(d){}document.documentElement.doScroll&&c&&f()}b.on(window,"load",m)}};f=function(){if(!d){try{document.documentElement.doScroll("left")}catch(a){setTimeout(b.exceptionLogger(f),1);return}m()}};m=function(){if(!d){if(!document.body)return setTimeout(b.exceptionLogger(m),
13);d=!0;c&&(b.each(c,function(b){b()}),c=null)}};return function(b){g();d?b():c.push(b)}}(),reformatKeys:function(a){var c,d,g=function(b){return"_"+b.toLowerCase()};for(c in a)d=c.replace(/([A-Z])/g,g),b.type(a[c])==="object"&&(a[c]=b.reformatKeys(a[c])),d!==c&&(a[d]=a[c],delete a[c]);return a},removeClass:function(a,c){if(b.hasClass(a,c)){var d,g,f=b.attrValues(a,"className");d=0;for(g=f.length;d<g;d++)f[d]===c&&delete f[d];a.className=f.join(" ")}},request:function(a,c,d){var g,f,d=b.extend({fn:function(){},
"return":!1,timeout:null},d);typeof d.fn==="string"?c=b.extend(c,{jsonp:d.fn}):typeof d.fn==="function"&&(g=b.destructing(d.fn),f=b.uniqid("vglnk_jsonp_"),c=b.extend(c,{jsonp:f}),window[f]=b.exceptionLogger(function(){g.apply(this,arguments);window[f]=void 0}),d.timeout!==null&&setTimeout(b.exceptionLogger(g),d.timeout));c=b.extend({format:"jsonp"},c);c=b.toQuery(c);a=a+(c.length?"?":"")+c;return d["return"]?a:b.traits.cors?b.cors(a):b.jsonp(a)},toQuery:function(b){var c,d="";for(c in b)b[c]!==null&&
b[c]!==void 0&&(d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return d.substr(1)},type:function(b){return b===null?"null":b===void 0?"undefined":Object.prototype.toString.call(b).slice(8,-1).toLowerCase()},updateUrl:function(a,c){return b.extend(b.createA(a),c).href},uniqid:function(){var b=0;return function(c){return(c||"")+(new Date).getTime()+b++}}()});b.traits={basicCompatibility:!(b.browser.blackberry||b.browser.playstation),cors:window.XMLHttpRequest&&(new window.XMLHttpRequest).withCredentials!==
void 0,crossWindowCommunication:!(b.browser.ios&&b.browser.version&&(b.browser.version<5||b.browser.version>5)),jsRedirectSetsReferrer:b.browser.aol||!(b.browser.ie||b.browser.opera),quirksMode:!Boolean(window.addEventListener),windowLevelHandlers:Boolean(window.addEventListener)};var f,s,n,p;p={api:function(a,c,d){a=f.api_url+"/"+a;c=b.extend({cuid:f.cuid,key:f.key,drKey:f.key?null:f.dr_key,loc:location.href,subId:f.sub_id,v:1},c);if(c.subId&&c.key!==f.key)c.subId=null;return b.request(a,c,d)},addEventListener:function(b,
c){this.fire(b,c)},click:function(){var a=function(a){if(a==="_self")return window.self;else if(b.traits.crossWindowCommunication&&b.traits.jsRedirectSetsReferrer)return a=window.open("",a),a.focus(),a},c=function(a){var c,f,e=a.previousSibling,l=a.nextSibling,m=["",a.textContent,""],n=function(b,a,i){c=0;for(f=arguments.length;c<f;c++)arguments[c]=arguments[c].replace(/\s+/g," ");b=b.replace(/^\s+/,"");a.substr(0,1)===" "&&(a=a.substr(1),b+=b.substr(b.length-1,1)!==" "?" ":"");a.substr(a.length-
1,1)===" "&&(a=a.substr(0,a.length-1),i=(i.substr(0,1)!==" "?" ":"")+i);i=i.replace(/\s+$/,"");return[b,a,i]};!b.cache(a,"type")&&m[1]!==void 0&&(m[0]=e&&e.nodeType===3?e.data:"",m[2]=l&&l.nodeType===3?l.data:"",m=n.apply(this,m),m[0]!==""&&m[2]!==""&&(m[0]=m[0].split(" ").reverse().slice(0,10+(m[0].substr(m[0].length-1,1)===" "?1:0)).reverse().join(" "),m[2]=m[2].split(" ").slice(0,10).join(" "),a={type:"context",before:m[0],after:m[2],txt:m[1],loc:location.href,out:a.href,v:2},p.log("info",b.toQuery(a))))};
return function(d,g){var g=d.target||g,g=!g||g===window.name||g==="_top"&&window.top===window.self||g==="_parent"&&window.parent===window.self?"_self":g,e,n,l=a(g),m;if(g!=="_self"&&(!b.traits.crossWindowCommunication||!b.traits.jsRedirectSetsReferrer))m="go";else try{if(l.document===void 0)throw!0;m="jsonp"}catch(p){m="go"}e=b.destructing(b.bind(function(){f.time_click&&arguments.length&&this.logTime("clk");var b=Array.prototype.slice.call(arguments);b.unshift(d,l,g);this.onApiClick.apply(this,b)},
this));b.cache(this,"link",typeof d==="string"?d:d.href);if(typeof d==="string"&&(d=b.createA(d,g),!this.preprocessLink(d)))return e();if(!f.enabled)return e();n=this.clickParams(d,m);this.logTime();if(m==="go")this.redirect(this.api("click",n,{"return":!0}),l,g);else if(l===window.self)this.api("click",n,{fn:e,timeout:f.click_timeout});else if(b.contextIsAncestor(l))return this.redirect(d.href,l,g);else e=b.exceptionLogger(e),setTimeout(function(){e()},f.click_timeout),l.document.open(),l.callback=
e,l.document.write("<html><head><title>"+d.href+'</title><script type="text/javascript" src="'+this.api("click",n,{fn:"callback","return":!0})+'"><\/script></head></html>'),l.document.close();f.log_context&&c(d)}}(),clickParams:function(a,c){var d=b.extend(b.cache(a,"params"),{format:c,libid:f.library_id,out:a.href,ref:document.referrer||null,reaf:f.reaffiliate||null,title:document.title,txt:a.innerHTML},{key:b.cache(a,"key"),type:b.cache(a,"type")});if(d.txt.length>128)d.txt=d.txt.replace(/<[^>]+>/g,
""),d.txt=d.txt.length>128?d.txt.substr(0,125)+"...":d.txt;return d},enabled:function(){if(f.enabled&&s!==window&&window.vglnk&&(window.vglnk.key||typeof window.vglnk==="function"))f.enabled=!1;return f.enabled},expose:function(a,c){if(c=c||this[a])typeof c==="function"?c=b.exceptionLogger(b.bind(c,this)):typeof c==="object"&&(c=b.clone(c)),n[a]||(n[a]=c)},fire:function(){var a={};return function(c,d){var c=c.toLowerCase(),f=a[c]||{fired:!1,listeners:[]};typeof d==="function"?f.fired?d({type:c}):
f.listeners.push(d):(f.fired=!0,b.each(f.listeners,function(b){typeof b==="function"&&b({type:c})}),f.listeners=[]);a[c]=f}}(),handleRightClick:function(a,c){if(f.rewrite_modified&&a&&c)switch(c){case "setup":b.cache(a,"href")||b.cache(a,"href",a.href);a.href=this.api("click",this.clickParams(a,"go"),{"return":!0});setTimeout(b.exceptionLogger(b.bind(function(){this.handleRightClick(a,"teardown")},this)),0);break;case "teardown":a.href=b.cache(a,"href"),b.cache(a,"href",null)}},harmony:function(){b.harmony=
{UNSAFE_QUIRKSMODE_HANDLERS:1};return function(b){return f.harmony_level<b}}(),init:b.exceptionLogger(function(){this.initLibEvents();this.initNamespace();this.initOptions();b.exceptionLogger(b.bind(this.logException,this),!f.dev);this.initDRApi();this.initApi();this.enabled()&&(this.initLegacyCallbacks(),this.ping())}),initApi:function(){var a,c={};if(window.vglnk)for(a in window.vglnk)a.substr(-7)==="_plugin"&&(c[a]=window.vglnk[a]);n=s[e]=function(){};this.expose("click");this.expose("link",p.preprocessLink);
this.expose("opt");this.expose("$",b.clone(b));b.extend(n,n===window.vglnk?c:{})},initDRApi:function(){var a=!1;window.DrivingRevenue=b.exceptionLogger(b.destructing(b.bind(function(){a=!0;f.dr_key=window.DR_id;this.enabled()&&this.ping()},this)));b.on("DOMReady",function(){if(!a)try{delete window.DrivingRevenue}catch(b){window.DrivingRevenue=void 0}})},initLibEvents:function(){b.on(p);b.ready(b.bind(function(){this.fire("DOMReady")},this))},initNamespace:function(){window.vglnk&&window.vglnk.key&&
(e="vglnk");var b=window,c=e.split("."),d;for(e=c.pop();c.length>0;)d=c.shift(),b[d]=b[d]||{},b=b[d];s=b;n=s[e]=s[e]||{}},initOptions:function(){var a;this.initLegacyOptions();f=b.extend(this.publicOptions({api_url:"//api.viglink.com/api",cuid:null,dev:!1,dr_key:null,enabled:b.traits.basicCompatibility,key:null,sub_id:null,reaffiliate:!1,harmony_level:0,rewrite_modified:!1}),f,n,{click_timeout:1E3,hop_timeout:2E3,debug:!1,library_id:null,log_context:!0,nofollow:{},norewrite:{},plugins:{modified_clicks:{}},
swap:{},time_click:!1,time_ping:!1});for(a in f)a.substr(-7)==="_plugin"&&delete f[a]},initLegacyOptions:function(){var b,c={DR_id:"dr_key",vglnk_api_key:"key",vglnk_cuid:"cuid",vglnk_domain:"api_url",vglnk_reaf:"reaffiliate",vglnk_subid:"sub_id"};for(b in c)window[b]!==void 0&&(n[c[b]]=window[b],b==="vglnk_domain"&&(n[c[b]]+="/api"))},initLegacyCallbacks:function(){var a,c={vl_cB:b.bind(this.onApiClick,this),vl_disable:function(){f.enabled=!1}};for(a in c)window[a]=c[a]},initLinks:function(){b.each(document.links,
b.bind(this.preprocessLink,this))},initPlugins:function(){var a,c=1,d=[],f=function(){var e=[],l=function(b){return function(){if(b){var a=Array.prototype.slice.call(arguments);a.unshift("custom",b);p.log.apply(this,a)}}};a=null;b.each(d,function(a){var c;c=a[0];var d=a[1],f=a[2];(c=window.vglnk&&window.vglnk[c+"_plugin"])?(a=b.type(c.run)==="function"?c.run:c,c=b.type(c.setup)==="function"?c.setup:null,d&&d.mode===1?(c&&c(d,b.clone(b),n,l(d.key)),delete d.mode):a&&(c&&!f&&c(d,b.clone(b),n,l(d.key)),
a(d,b.clone(b),n,l(d.key)))):e.push(a)});d=e;d.length>0&&(a=setTimeout(b.exceptionLogger(f),Math.min(Math.max(Math.pow(2,++c),100),5E3)))},e=function(b,e){return function(b,e){return function(){d.push([b,e,!0]);c=1;clearTimeout(a);f()}}(b,e)};return function(b){for(var a in b)typeof b[a]==="object"&&b[a].enabled!==!1&&(d.push([a,b[a]]),b[a].mode===1&&this.expose("init_"+a,e(a,b[a])));f()}}(),isRewritable:function(){var a=b.canonicalizeHostname(document.location);return function(c){var d,e="";try{d=
c.hostname,e=c.protocol,d.charAt(0)}catch(j){return!1}d!==""&&(d=b.canonicalizeHostname(c));return!(d===""||a===d||!e.match(/^https?:$/i)||f.norewrite[d]||b.hasRel(c,"norewrite")||b.hasRel(c,"noskim"))}}(),initEvents:b.destructing(function(){var a=b.traits.windowLevelHandlers?window:document;b.on(a,"mousedown",function(a){a=a||window.event;if((a=b.eventLink(a))&&!b.cache(a,"evented"))b.on(a,"click",function(){}),b.cache(a,"evented",!0)});if(!b.traits.quirksMode||p.harmony(b.harmony.UNSAFE_QUIRKSMODE_HANDLERS))b.on(a,
"click",b.bind(p.onClick,p)),b.on(a,"contextmenu",b.bind(p.onContextmenu,p))}),log:function(a,c,d,e){var j=b.toQuery({nocache:b.uniqid()}),n="pixel.gif";if(a==="custom")j+="&"+b.toQuery({key:c,type:d}),b.each(b.type(e)==="array"?e:[e],function(a){b.each(["e","i","o"],function(b){delete a[b]});j+="&"+b.toQuery(a)});else{j+="&"+b.toQuery({key:f.key,drKey:f.key?null:f.dr_key});if(a==="time")n="time.gif",a={libId:f.library_id,time:d,type:c};else if(a==="exception")a={e:c,o:d};else if(a==="info")a={i:c};
else return;j+="&"+b.toQuery(a)}b.createEl("img").src=f.api_url+"/"+n+"?"+j},logException:function(a){if(f.debug){var c={link:b.cache(this,"link"),loc:document.location.href,UA:navigator.userAgent};typeof a==="string"?c.message=a:c=b.extend(c,a);this.log("exception",a,b.toQuery(c))}},logTime:function(){var b;return function(c){arguments.length===0?b=(new Date).getTime():this.log("time",c,(new Date).getTime()-b)}}(),onApiClick:function(a,c,d,e,j){var n=e||a.href,e=b.bind(function(){this.redirect(n,
c,d)},this);typeof j==="object"&&(j.tracking||j.image)?(a=b.createEl(j.tracking?"iframe":"img",{src:j.tracking||j.image},{height:0,width:0,visibility:"hidden"}),document.body.appendChild(a),setTimeout(b.exceptionLogger(e),j.timeout||f.hop_timeout)):e()},onApiPing:function(a,c,d,e,j,n){var j=b.reformatKeys(j||{}),l,m,s;m=function(a){var c={},i=function(i){b.isArray(i)?c[i[0]]=i[1]:c[i]=1};b.isArray(a)&&b.each(a,i);return c};s=b.extend(f.plugins,j.plugins);f=b.extend(f,j);delete f.plugins;f.library_id=
a;f.click_timeout=c;f.time_ping&&this.logTime("png");b.extend(f.norewrite,m(d));b.extend(f.swap,m(e));b.extend(f.nofollow,m(n));for(l in f)l.toLowerCase().substr(0,2)==="on"&&l.length>2&&b.type(f[l])==="function"&&(b.on(p,l.toLowerCase().substr(2),b.bind(f[l],window)),delete f[l]);this.initLinks();this.initPlugins(s);this.initEvents();this.fire("libready")},onClick:function(a){var a=a||window.event,c=a.ctrlKey||a.metaKey||a.altKey||a.shiftKey,d=a.which&&a.which===1||a.button===0,e=b.eventLink(a);
if(e&&this.isRewritable(e)&&!c&&d&&!b.isDefaultPrevented(a))return this.click(e),b.preventDefault(a)},onContextmenu:function(a){(a=b.eventLink(a||window.event))&&this.isRewritable(a)&&this.handleRightClick(a,"setup")},opt:function(b,c){c!==void 0&&this.publicOptions()[b]!==void 0&&(f[b]=c);return f[b]},ping:function(){var a=!1;return function(){if(!a&&(f.key||f.dr_key))a=!0,this.logTime(),this.api("ping",null,{fn:b.bind(this.onApiPing,this)})}}(),preprocessLink:function(a){if(this.isRewritable(a)){if(f.swap[a.href])a.href=
f.swap[a.href];if(f.nofollow[a.href]&&!b.hasRel(a,"nofollow"))a.rel=(a.rel?a.rel+" ":"")+"nofollow";if(window.IPBoard&&window.IPBoard.prototype&&window.IPBoard.prototype.delegate&&b.hasRel(a,"external"))a.rel=a.rel.replace(/(^| )external( |$)/,""),a.target="_blank";return a}},publicOptions:function(){var a={};return function(c){b.type(c)==="object"&&(a=c);return b.extend({},a)}}(),redirect:function(a,c,d){!b.traits.crossWindowCommunication&&!c?(d=window.open(a,d),d.focus()):b.traits.jsRedirectSetsReferrer?
setTimeout(b.exceptionLogger(function(){!c||c===window.self?window.location=a:b.contextIsAncestor(c)?c.location=a:c.location.replace(a)}),0):(d==="_blank"&&(d=b.uniqid("win_")),d=b.createA(a,d),d.rel="norewrite",document.body.appendChild(d),d.click(),d.parentNode.removeChild(d))}};p.init()})(typeof vglnk_self==="undefined"?"vglnk":vglnk_self);window.vglnk=window.vglnk||{};window.vglnk.modified_clicks_plugin={run:function(e,b,f){f.opt("rewrite_modified",!0)}};window.vglnk=window.vglnk||{};
window.vglnk.dr_search_box_plugin={run:function(e,b,f){if(e.key){var s={init:function(){b.each(this.getDRSearchForms(),function(e){var f=e.p,a=function(){f.value||b.css(f,{"background-image":"url(http://cdn.viglink.com/images/ebay_watermark.gif)"})};e.onsubmit=null;f.onfocus=null;f.onblur=null;b.on(f,"focus",function(){b.css(f,{"background-image":"none"})});b.on(f,"blur",a);a();b.on(e,"submit",function(b){s.onSubmit(b,e)})})},getDRSearchForms:function(){var e=[];b.each(document.getElementsByTagName("form"),
function(b){b.p&&b.id.match(/^DR-ebay-search(CSS|2)?$/i)&&e.push(b)});return e},onSubmit:function(n,p){var n=n||window.event,a="http://shop.ebay.com/i.html?"+b.toQuery({_nkw:p.p.value}),a=b.createA(a,"_blank");b.cache(a,"key",e.key);f.click(a);return b.preventDefault(n)}};b.on("DOMReady",b.bind(s.init,s))}}};window.vglnk=window.vglnk||{};window.vglnk.page_harmony_plugin={run:function(e,b,f){e=Math.abs(parseInt(e.level,10));isFinite(e)&&f.opt("harmony_level",e)}};window.vglnk=window.vglnk||{};
window.vglnk.product_linker_plugin=function(){var e,b,f,s,n={LITE:1,HEAVY:2,BOTH:3},p=null,a,c,d={},g,j={num_inserted:0,num_lite:0,num_heavy:0,num_url:0};return{setup:function(u,l,m,v){b=l;f=m;s=v;e=b.extend({cat:null,platform:null,api_url:b.updateUrl(f.opt("api_url"),{pathname:"/api/insert"}),feedback:!1,key:null,link_phrases:!0,link_urls:!0,link_target:null,per_page:null,per_phrase:5,scope:null,type:n.LITE,ui:!0,background_color:"#000",color:"#eee",label_color:"#999",opacity:0.9,title_color:"#f4d789"},
u);!e.api_url||!e.key||!e.platform&&!(e.type===n.LITE||e.type===n.BOTH)?this.run=function(){}:(b=b.extend(b,{createWrapper:function(a){var c,i=b.createEl("div");return i.outerHTML?(c=b.createEl("div"),i.appendChild(c),c.outerHTML="<pre>"+a+"</pre>",i.childNodes[0]):(i.innerHTML=a,i)},select:window.vglnk.Sizzle||function(){return[]}}),a={bbp:{id_finder:["li",/^post-(\d+)$/],scope:"li .post"},hdlr:{id_finder:["div",/^post_(\d+)$/],scope:".post-content-area"},ipb:{id_finder:["div",/^post_id_(\d+)$/],
scope:".post_body .post"},phpb:{id_finder:["div.post",/^p(\d+)$/],scope:".postbody .content, .postbody .signature"},ubb:{id_finder:["a",/^Post(\d+)$/,"name"],scope:".post_inner *[id^='body'], .post_inner .signature"},vb3:{id_finder:["td",/^td_post_(\d+)$/],scope:"td[id^='td_post_'] div[id^='post_message_'],td[id^='td_post_'] div[id^='post_message_'] ~ div:not([class])"},vb4:{id_finder:["li",/^post_(\d+)$/],scope:".postbody .content, .postbody .signature"},wppr:{id_finder:["div",/^post-(\d+)$/],scope:null}}[e.platform]||
{},c={addPhrasesToMatcher:function(a){var c="";b.type(a)==="regexp"?c=a.source:b.type(a)==="array"&&(c="(?:^|[\\s\"'\\(])("+b.map(a,b.escapeRegExp).join("|")+")(?=\\s|\\W*$|\\W{2})");c!==""&&(g=RegExp(g?"(?:"+c+"|"+g.source+")":c,"i"))},focusLink:function(a){if(!a.id)a.id=b.uniqid("vl-link-");location.href.hash="#"+a.id;window.scrollBy(0,-150)},getPhrases:function(a){b.request(e.api_url,{cat:e.cat,key:e.key,mode:e.mode,pt:e.platform,i:a?a.join("|"):null,u:location.href,type:e.type},{fn:b.bind(c.onInsertApi,
c)})},getPostIDs:function(){var c=[],d=a?a.id_finder:null;d&&b.each(b.select(d[0]),function(b){var a=d[2]||"id";(b=b[a]?b[a].match(d[1]):null)&&c.push(b[1])});return c.length?c:null},initBubble:function(){var a,g,i,k,t,o=!1,w=!1,h={height:75,width:285,bevel:1,outline:1,shadow:7,padding:10,pointer:5,link_margin:0,viewport_padding:10},x=(h.padding+h.outline+h.bevel)*2,r=h.height-x,j=h.width-x,l=function(a,c){var k=function(){b.css(i,{display:"none"});b.cache(i,"visible",!1)};clearTimeout(t);c===!0?
k():t=setTimeout(function(){!o&&!w&&k()},500)},n=function(){if(!i){var c,k;i=b.createEl("iframe",{allowTransparency:"true",border:0,frameBorder:0,outline:0,scrolling:"no",height:h.height+h.shadow+Math.max(h.pointer,h.shadow),width:h.width+h.shadow*2},{backgroundColor:"transparent",border:"none",display:"none",position:"absolute",top:0,left:0,zIndex:9999});document.body.appendChild(i);g=i.contentDocument||i.contentWindow?i.contentWindow.document:i.document;b.on(window,"beforeunload",function(b){l(b,
!0)});b.on(i,"mouseover",function(){w=!0});b.on(i,"mouseout",function(b){w=!1;l(b)});if(g)g.open(),g.write("<!doctype html><html><head></head><body/></html>"),g.close(),g.body.innerHTML='<div id="background"></div><div id="wrapper"><div id="content"></div></div><div id="pointer"><div id="pleft"></div><div id="pright"></div></div>',e.opacity=parseFloat(e.opacity),e.opacity=isNaN(e.opacity)?1:Math.max(0,Math.min(1,e.opacity)),c=b.createEl("style",{type:"text/css"},{},g),k="body {background-color: transparent;padding: "+
h.shadow+"px;padding-bottom: "+Math.max(h.pointer,h.shadow)+"px;font-family: helvetica, arial, sans-serif;font-size: 12px;margin: 0;overflow: hidden;width: "+h.width+"px;}body * {position: absolute;}body, a {color: "+e.color+";}a {display: block;text-decoration: none;}a:hover {text-decoration: underline;}#background, #wrapper {height: "+r+"px;padding: "+(h.padding+h.outline)+"px;width: "+j+"px;}#background {border-radius: 8px;-moz-border-radius: 8px;-webkit-border-radius: 8px;box-shadow: 0 0 0 "+
h.outline+"px "+e.background_color+",0 1px "+h.shadow+"px 1px rgba(0,0,0,0.7);-moz-box-shadow: 0 0 0 "+h.outline+"px "+e.background_color+",0 1px "+h.shadow+"px 1px rgba(0,0,0,0.7);-webkit-box-shadow: 0 0 0 "+h.outline+"px "+e.background_color+",0 1px "+h.shadow+"px 1px rgba(0,0,0,0.7);background-color: "+e.background_color+";background-image: -moz-linear-gradient(rgba(255, 255, 255, 0.3), transparent 100%);background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0.3)), to(transparent));border: "+
h.bevel+"px solid "+e.background_color+";border-color: rgba(255,255,255,0.5) rgba(0,0,0,0.5) rgba(0,0,0,1) rgba(255,255,255,0.25);filter: progid:DXImageTransform.Microsoft.Alpha(opacity="+e.opacity*100+") progid:DXImageTransform.Microsoft.Gradient(startColorstr=#4CFFFFFF,endColorstr=#00FFFFFF) ;opacity: "+e.opacity+";}#wrapper {border: "+h.bevel+"px solid transparent;}#content {height: "+r+"px;width: "+j+"px;}#pointer {top: "+(h.height+h.bevel+h.shadow)+"px;opacity: "+(e.opacity<1?e.opacity-0.075:
1)+";filter: progid:DXImageTransform.Microsoft.Alpha(opacity="+e.opacity*100+");height: "+h.pointer+"px;width: "+h.pointer*2+"px;}#pointer * {border-bottom: "+h.pointer+"px solid transparent;bottom: 0;}#pleft {border-right: "+h.pointer+"px solid "+e.background_color+";}#pright {border-left: "+h.pointer+"px solid "+e.background_color+";left: "+h.pointer+"px;}#product {color: "+e.title_color+";font-weight: bold;left: 0;margin-top: -1px;right: 0;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}#price, #merchant {position: static;vertical-align: bottom;margin-top: 14px;}#price {float: left;}#merchant {text-align: right;}#merchant * {display: inline;position: static;}#merchant span {font-size: 10px;}#image {-moz-border-radius: 4px;-webkit-border-radius: 4px;top: 0;left: 0;overflow: hidden;height: "+
r+"px;width: "+r+"px;}#footer {bottom: -2px;right: 0;left: 0;position: absolute;font-size: 9px;text-align: left;}#footer a {display: inline;position: static;}#feedback {right: -2px;bottom: 0;text-align: right;white-space: nowrap;}#feedback * {position: static;}#feedback .give {cursor: pointer;}#feedback .give + .gave {display: none;}#feedback .give a {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAJCAYAAADHP4f4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDE5Qjc0NDc1RDYyMTFFMEFBRThEOEU4RDQ0MDc0N0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDE5Qjc0NDg1RDYyMTFFMEFBRThEOEU4RDQ0MDc0N0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MTlCNzQ0NTVENjIxMUUwQUFFOEQ4RThENDQwNzQ3RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MTlCNzQ0NjVENjIxMUUwQUFFOEQ4RThENDQwNzQ3RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk31epYAAADkSURBVHjaYvz//z8DEnCB0nsYcAOYBkY0cRA/BIhjgVgXiP8C8T0gbmRBs2A3lO1KwCJMm//9Z2JkYhQFMtmA+DFQhAloL8gcSQaQT4DY5T8mcIHKoWMYwCbH8OvzZ7Y/f/8JAdnhUHVncFmAzyK8lkBxIBA/AeILQGwFFuzp6cFqAJI4KZY4A/FzIL4DxFIgMSYig9wFGuH/0RLAf6TEAgO/gfgCEK8G4mcQlcS7kth40wbiRiDOBmJhcOolMShciEgYsAi/CcSKIDEWBtLAHmjyxpeX7gLxNiD+DMSPQAIAAQYAKAi3gy60bLEAAAAASUVORK5CYII=);background-repeat: no-repeat;display: inline-block;height: 9px;line-height: 50px;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=30);opacity: 0.3;overflow: hidden;width: 9px;}#feedback .give a:hover {filter: progid:DXImageTransform.Microsoft.Alpha(opacity=90);opacity: 0.9;}#feedback .give a + a {background-position: -9px 0;}#feedback .give a + a + a {background-position: -18px 0;}#merchant span, #footer {color: "+
e.label_color+";}body.image #content {padding-left: "+(h.padding+r)+"px;width: "+(j-h.padding-r)+"px;}body.image #product,body.image #merchant,body.image #footer,body.image #price {left: "+(h.padding+r)+"px;}",c.styleSheet?(k+="* html body {padding-top: "+(h.shadow+Math.max(h.shadow,h.pointer))+"px;padding-bottom: 0;}* html #pointer,* html #feedback {display: none;}* html #price {margin-bottom: -10px;}* html #product,* html #footer {width: 100%;}",document.documentMode&&document.documentMode<=8&&
(k+="#pointer {margin-top: -1px;}"),c.styleSheet.cssText=k):c.appendChild(g.createTextNode(k)),g.getElementsByTagName("head")[0].appendChild(c),a=g.getElementById("content")}},m=function(i,k){var d=function(b,i,a){a=Math.max(a/b,a/i);return{width:b*a,height:i*a}},t=new Image;b.on(t,"load",function(){var o=t;if(o.src===i){var w={},e=b.extend({border:0,src:o.src},d(o.width,o.height,h.height-h.padding*2)),f=b.createEl("a",{id:"image"},{},g),o=b.createEl("img",e,{},g);b.addClass(g.body,"image");w[e.width<
e.height?"top":"left"]="-"+(Math.max(e.width,e.height)-Math.min(e.width,e.height))/2+"px";b.css(o,w);f.appendChild(o);a.appendChild(f);c.initLink(f,k,"_top")}});t.src=i},q=function(b,i){var a,c,k=i&&(i.srcElement||i.target),d=b.getElementsByTagName("span");if(d[0].offsetTop!==d[d.length-1].offsetTop&&k&&k.tagName&&k.tagName.toLowerCase()==="span"){a=0;for(c=d.length;a<c;a++)if(d[a].offsetTop===k.offsetTop)return d[a]}return b},p=function(i){var k=function(c,k,d,h){c=b.createEl(c,{id:k},{},g);h=h||
a;if(d||d!==null&&k&&i[k])c.appendChild(g.createTextNode(d||i[k]));h.appendChild(c);return c},d=function(a){b.on(a,"click",function(c){a.parentNode.parentNode.removeChild(a.parentNode);i.gave_feedback=!0;b.jsonp(b.updateUrl(f.opt("api_url"),{pathname:"/api/feedback"}),{key:e.key,loc:location.href,phrase:i.phrase,url:i.url,type:b.hasClass(a,"up")?"up":b.hasClass(a,"down")?"down":"none"});return b.preventDefault(c)})};a.innerHTML="";b.removeClass(g.body,"image");i.img&&m(i.img,i);k("a","product",i.product);
k("a","price",i.price?"$"+i.price:null);k("div","merchant",null);k("div","footer");g.getElementById("footer").innerHTML=(e.feedback&&!i.gave_feedback?'<span id="feedback"><span class="give">Rate this link: <a class="feedback up" title="This link is good!">&#8593;</a><a class="feedback down" title="This link is not so good.">&#8595;</a><a class="feedback" title="I\'m not sure.">?</a></span><span class="gave">Thanks!</span></span>':"")+'Link added by <a href="http://www.viglink.com/?vgtag=lii">VigLink</a>';
i.merchant&&(k("span",null,"Sold by ",g.getElementById("merchant")),k("a",null,i.merchant,g.getElementById("merchant")));b.each(g.getElementsByTagName("a"),function(a){b.hasClass(a,"feedback")?d(a):c.initLink(a,i,"_top")});i.search_link&&(b.css(g.getElementById("price"),{display:"none"}),b.css(g.getElementById("merchant"),{textAlign:"left"}))},s=function(a){var c={},d;d=function(){var i,c,k=a,d=a.parentNode.getElementsByTagName("span");if(a.tagName.toLowerCase()==="span"){i=0;for(c=d.length;i<c;i++)d[i].offsetTop===
a.offsetTop&&(k=d[i])}i=b.position(a);return b.extend(i,{height:a.offsetHeight,width:b.position(k).x-i.x+k.offsetWidth})}();(function(){var a={x:document.body.scrollLeft+document.documentElement.scrollLeft,y:document.body.scrollTop+document.documentElement.scrollTop},k={height:document.documentElement.clientHeight||document.body.clientHeight,width:document.documentElement.clientWidth||document.body.clientWidth};c.x=d.x+d.width/2-i.width/2;c.y=d.y-i.offsetHeight+Math.max(0,h.shadow-h.pointer)-h.link_margin;
k.width-i.width<h.viewport_padding*2?c.x=(k.width-i.width)/2+a.x:(c.x=Math.min(c.x,k.width-i.width-h.viewport_padding+a.x),c.x=Math.max(c.x,h.viewport_padding+a.x));if(c.y-a.y<h.viewport_padding)c.y=d.y+d.height+h.link_margin;b.css(i,{top:c.y+"px",left:c.x+"px"})})();(function(){var a,o;k?(o=k,o=o.pageX||o.pageY?{x:o.pageX,y:o.pageY}:o.clientX||o.clientY?{x:o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:o.clientY+document.body.scrollTop+document.documentElement.scrollTop}:
null):o={x:d.x+d.width/2,y:d.y};a=o;o=g.getElementById("pointer");var t=a.x-c.x-h.pointer;c.y>d.y?b.css(o,{display:"none"}):(t=Math.min(t,h.width+(i.width-h.width)/2-h.bevel-h.padding-h.pointer*2),t=Math.max(t,h.shadow+h.padding+h.bevel),a=c.x+t+h.pointer,a>d.x&&a<d.x+d.width?(b.css(o,{display:""}),b.css(o,{left:t+"px"})):b.css(o,{display:"none"}))})()},u=function(a){if(a&&(a=d[a.toLowerCase()],a.img))b.createEl("img").src=a.img},v=function(a,c){var h=b.cache(a,"phrase"),o=q(a,k),w=function(){n();
b.css(i,{display:"block",visibility:"hidden"});s(o);p(d[h.toLowerCase()]);b.css(i,{visibility:"visible"});b.cache(i,"visible",!0);b.cache(i,"segment",o)};clearTimeout(t);u(h);c?w():t=setTimeout(w,500)};if(e.mode===1)f._showLinkBubble=b.bind(function(b){e.feedback=!0;v(b,!0)},this);return function(a){b.on(a,"mouseover",function(c){c=b.extend({},c||window.event);o=!0;b.cache(i,"visible")&&b.cache(i,"segment")===q(a,c)||(k=c,v(a))});b.on(a,"mousemove",function(a){b.cache(i,"visible")||(k=b.extend({},
a||window.event))});b.on(a,"mouseout",function(b){o=!1;l(b)})}}(),initLink:function(a,c,i){if(i=e.link_target||i)a.target=i;a.rel="nofollow";if(!a.href)a.href=c.url;b.cache(a,"key",e.key);b.cache(a,"params",{exp:p,merchant:c.merchant});b.cache(a,"type","i");f.link(a)},isLitePhrase:function(b){return b.url&&!(b.img||b.merchant||b.price||b.product)},insertLinks:function(){var a={timing:!1,data:e.link_phrases?!1:e.link_urls},f=function(a,i){var k,d=e.type===n.LITE||e.type===n.BOTH&&c.isLitePhrase(i);
k=b.createEl("a");k.innerHTML=d?a:a.replace(/([a-z0-9]+ *|[^a-z0-9]+)/ig,"<span>$1</span>");k.className="vglnk";b.cache(k,"phrase",a);if(e.ui)d?k.title="Link added by VigLink":c.initBubble(k);c.initLink(k,i);return k},i=function(a){var b;if(g.test(a.data)){b=a;var i,k,x,r,l=document.createDocumentFragment();l.appendChild(document.createTextNode(b.data));for(b=l.childNodes[0];b&&b.data&&Boolean(x=b.data.match(g));){k=x[0];r=x.slice(1).join("");i=d[r.toLowerCase()];k=b.data.indexOf(k)+k.length-r.length;
k>0&&(b=b.splitText(k));k=b.length<=r.length?null:b.splitText(r.length);if(r&&(!i||!e.per_phrase||!i.count||i.count<e.per_phrase)&&(!e.per_page||j.num_inserted<e.per_page))i?c.isLitePhrase(i)?j.num_lite++:j.num_heavy++:(i={url:r.match(/^https?:\/\//i)?r:"http://"+r},j.num_url++),l.insertBefore(f(r,i),b),l.removeChild(b),i.count++,j.num_inserted++;b=k}b=a.parentNode;b.insertBefore(l,a);b.removeChild(a)}},k=function(a){var c,d=function(a){return",a,applet,embed,object,head,img,input,link,map,meta,param,select,button,iframe,option,script,style,svg,textarea,title,".indexOf(","+
a.nodeName.toLowerCase()+",")!==-1||b.hasClass(a,"nolinks")||b.hasClass(a,"atma-nolink")||b.hasClass(a,"atma-no-link")};if(a){if(!d(a))for(c=a.firstChild;c;)a=c.nextSibling,c.nodeType===1?k(c):c.nodeType===3&&i(c),c=a}else b.each(b.select(e.scope),function(a){var b;a:for(var i=a;i.parentNode;)if(i=i.parentNode,i.nodeType===1&&d(i)){b=!0;break a}b||k(a)})};return function(i){a=b.extend(a,i);a.timing&&a.data&&(k(),c.log())}}(),loadPhrases:function(a){var b,i,c,t=[];b=0;for(i=a.results.length;b<i;b++)if(c=
a.results[b],c.phrase&&c.url)c.phrase=c.phrase.toLowerCase(),t.push(c.phrase),d[c.phrase]={count:d[c.phrase]?d[c.phrase].count:0,phrase:c.phrase,img:c.img,merchant:c.merchant,price:c.price,product:c.title,url:c.url};t.length>0&&this.addPhrasesToMatcher(t);this.insertLinks({data:!0})},log:function(){var b,a,i={heavy:[],lite:[]},c=function(a,b){return b.split(",")[0]-a.split(",")[0]};for(b in d)a=parseInt(d[b].count,10),a>0&&(a=[a,b.replace(/\|/g,"%7C")].join(","),i[this.isLitePhrase(d[b])?"lite":"heavy"].push(a));
i.lite.sort(c);i.heavy.sort(c);s("insert",[{ct:j.num_inserted,cl:j.num_lite,ch:j.num_heavy,cu:j.num_url,exp:p},{pl:i.lite.join("|")},{ph:i.heavy.join("|")}])},onInsertApi:function(a){if(b.type(a)==="object"&&a.results)p=a.exp,this.loadPhrases(a)},setup:function(){var b;e.scope=e.scope||a.scope||"body";e.link_urls&&(b=function(){var a={http_scheme:"https?://",www_domain_part:"www\\d{0,3}\\.",domain_parts:"(?:[a-z0-9-]+\\.)+",tld:"[a-z]{2,4}",nonparen_path_char:"[^\\s()<>]",hard_start:"(?:^|\\s)\\W*",
soft_start:"\\b"};a.balanced_parens="\\((?:"+a.nonparen_path_char+"|(?:\\("+a.nonparen_path_char+"+\\)))*\\)";return"(?:(?:"+a.soft_start+"("+a.http_scheme+")|"+a.hard_start+"("+a.www_domain_part+"|"+a.domain_parts+a.tld+"/))((?:"+a.nonparen_path_char+"+|"+a.balanced_parens+")+(?:"+a.balanced_parens+"|[^\\s`!()\\[\\]{};:'\".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))|"+a.hard_start+"("+a.domain_parts+"com(?:/|\\b)))"}(),this.addPhrasesToMatcher(RegExp(b,"i")));e.link_phrases&&this.getPhrases(this.getPostIDs())}},
c.setup())},run:function(){b.on("DOMReady",function(){c.insertLinks({timing:!0})})}}}();
(function(){function e(a,b,c,d,e,h){for(var e=0,f=d.length;e<f;e++){var g=d[e];if(g){for(var j=!1,g=g[a];g;){if(g.sizcache===c){j=d[g.sizset];break}if(g.nodeType===1&&!h)g.sizcache=c,g.sizset=e;if(g.nodeName.toLowerCase()===b){j=g;break}g=g[a]}d[e]=j}}}function b(a,b,d,o,e,h){for(var e=0,f=o.length;e<f;e++){var g=o[e];if(g){for(var j=!1,g=g[a];g;){if(g.sizcache===d){j=o[g.sizset];break}if(g.nodeType===1){if(!h)g.sizcache=d,g.sizset=e;if(typeof b!=="string"){if(g===b){j=!0;break}}else if(c.filter(b,
[g]).length>0){j=g;break}}g=g[a]}o[e]=j}}}var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s=0,n=Object.prototype.toString,p=!1,a=!0;[0,0].sort(function(){a=!1;return 0});var c=function(a,b,e,o){var e=e||[],w=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return e;var h,j,r,m,p,s=!0,z=c.isXML(b),q=[],u=a;do if(f.exec(""),h=f.exec(u))if(u=h[3],q.push(h[1]),h[2]){m=h[3];break}while(h);
if(q.length>1&&g.exec(a))if(q.length===2&&d.relative[q[0]])j=A(q[0]+q[1],b);else for(j=d.relative[q[0]]?[b]:c(q.shift(),b);q.length;)a=q.shift(),d.relative[a]&&(a+=q.shift()),j=A(a,j);else if(!o&&q.length>1&&b.nodeType===9&&!z&&d.match.ID.test(q[0])&&!d.match.ID.test(q[q.length-1])&&(h=c.find(q.shift(),b,z),b=h.expr?c.filter(h.expr,h.set)[0]:h.set[0]),b){h=o?{expr:q.pop(),set:l(o)}:c.find(q.pop(),q.length===1&&(q[0]==="~"||q[0]==="+")&&b.parentNode?b.parentNode:b,z);j=h.expr?c.filter(h.expr,h.set):
h.set;for(q.length>0?r=l(j):s=!1;q.length;)h=p=q.pop(),d.relative[p]?h=q.pop():p="",h==null&&(h=b),d.relative[p](r,h,z)}else r=[];r||(r=j);r||c.error(p||a);if(n.call(r)==="[object Array]")if(s)if(b&&b.nodeType===1)for(a=0;r[a]!=null;a++)r[a]&&(r[a]===!0||r[a].nodeType===1&&c.contains(b,r[a]))&&e.push(j[a]);else for(a=0;r[a]!=null;a++)r[a]&&r[a].nodeType===1&&e.push(j[a]);else e.push.apply(e,r);else l(r,e);m&&(c(m,w,e,o),c.uniqueSort(e));return e};c.uniqueSort=function(b){if(v&&(p=a,b.sort(v),p))for(var c=
1;c<b.length;c++)b[c]===b[c-1]&&b.splice(c--,1);return b};c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0};c.find=function(a,b,c){var e;if(!a)return[];for(var f=0,h=d.order.length;f<h;f++){var g,j=d.order[f];if(g=d.leftMatch[j].exec(a)){var l=g[1];g.splice(1,1);if(l.substr(l.length-1)!=="\\"&&(g[1]=(g[1]||"").replace(/\\/g,""),e=d.find[j](g,b,c),e!=null)){a=a.replace(d.match[j],"");break}}}e||(e=typeof b.getElementsByTagName!=="undefined"?
b.getElementsByTagName("*"):[]);return{set:e,expr:a}};c.filter=function(a,b,e,o){for(var f,h,g=a,j=[],l=b,m=b&&b[0]&&c.isXML(b[0]);a&&b.length;){for(var n in d.filter)if((f=d.leftMatch[n].exec(a))!=null&&f[2]){var p,q,s=d.filter[n];q=f[1];h=!1;f.splice(1,1);if(q.substr(q.length-1)!=="\\"){l===j&&(j=[]);if(d.preFilter[n])if(f=d.preFilter[n](f,l,e,j,o,m)){if(f===!0)continue}else h=p=!0;if(f)for(var u=0;(q=l[u])!=null;u++)if(q){p=s(q,f,u,l);var v=o^!!p;e&&p!=null?v?h=!0:l[u]=!1:v&&(j.push(q),h=!0)}if(p!==
void 0){e||(l=j);a=a.replace(d.match[n],"");if(!h)return[];break}}}if(a===g)if(h==null)c.error(a);else break;g=a}return l};c.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var d=c.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var d=typeof b==="string",e=d&&!/\W/.test(b),d=d&&!e;e&&(b=b.toLowerCase());for(var e=0,f=
a.length,h;e<f;e++)if(h=a[e]){for(;(h=h.previousSibling)&&h.nodeType!==1;);a[e]=d||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}d&&c.filter(b,a,!0)},">":function(a,b){var d,e=typeof b==="string",f=0,h=a.length;if(e&&!/\W/.test(b))for(b=b.toLowerCase();f<h;f++){if(d=a[f])d=d.parentNode,a[f]=d.nodeName.toLowerCase()===b?d:!1}else{for(;f<h;f++)(d=a[f])&&(a[f]=e?d.parentNode:d.parentNode===b);e&&c.filter(b,a,!0)}},"":function(a,c,d){var f,g=s++,h=b;typeof c==="string"&&!/\W/.test(c)&&(f=c=c.toLowerCase(),
h=e);h("parentNode",c,g,a,f,d)},"~":function(a,c,d){var f,g=s++,h=b;typeof c==="string"&&!/\W/.test(c)&&(f=c=c.toLowerCase(),h=e);h("previousSibling",c,g,a,f,d)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),e=0,h=d.length;e<h;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,
b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,h){a=" "+a[1].replace(/\\/g,"")+" ";if(h)return a;for(var h=0,f;(f=b[h])!=null;h++)f&&(e^(f.className&&(" "+f.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(f):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||c.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");
var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&c.error(a[0]);a[0]=s++;return a},ATTR:function(a,b,c,e,f,h){b=a[1]=a[1].replace(/\\/g,"");!h&&d.attrMap[b]&&(a[1]=d.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(/\\/g,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,e,g,j){if(a[1]==="not")if((f.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=c(a[3],null,null,b);else return a=
c.filter(a[3],b,e,1^j),e||g.push.apply(g,a),!1;else if(d.match.POS.test(a[0])||d.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!c(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},
text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},
setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,e,f){var g=b[1],h=d.filters[g];if(h)return h(a,e,b,f);else if(g==="contains")return(a.textContent||a.innerText||c.getText([a])||"").indexOf(b[3])>=0;else if(g==="not"){b=
b[3];e=0;for(f=b.length;e<f;e++)if(b[e]===a)return!1;return!0}else c.error(g)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return!1;return!0;case "nth":var c=b[2],e=b[3];if(c===1&&e===0)return!0;var h=b[0],f=a.parentNode;if(f&&(f.sizcache!==h||!a.nodeIndex)){for(var g=0,d=f.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++g;f.sizcache=
h}d=a.nodeIndex-e;return c===0?d===0:d%c===0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=d.attrHandle[c]?d.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=c+"",f=b[2],h=b[4];return c==null?f==="!=":f==="="?e===h:f==="*="?e.indexOf(h)>=0:f==="~="?(" "+e+" ").indexOf(h)>=
0:!h?e&&c!==!1:f==="!="?e!==h:f==="^="?e.indexOf(h)===0:f==="$="?e.substr(e.length-h.length)===h:f==="|="?e===h||e.substr(0,h.length+1)===h+"-":!1},POS:function(a,b,c,e){var f=d.setFilters[b[2]];if(f)return f(a,c,b,e)}}},g=d.match.POS,j=function(a,b){return"\\"+(b-0+1)},u;for(u in d.match)d.match[u]=RegExp(d.match[u].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[u]=RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[u].source.replace(/\\(\d+)/g,j));var l=function(a,b){a=Array.prototype.slice.call(a,
0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(m){l=function(a,b){var c=0,d=b||[];if(n.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var v,y;document.documentElement.compareDocumentPosition?v=function(a,b){return a===b?(p=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?
-1:1:a.compareDocumentPosition(b)&4?-1:1}:(v=function(a,b){var c,d,e=[],f=[];c=a.parentNode;d=b.parentNode;var g=c;if(a===b)return p=!0,0;else if(c===d)return y(a,b);else if(c){if(!d)return 1}else return-1;for(;g;)e.unshift(g),g=g.parentNode;for(g=d;g;)f.unshift(g),g=g.parentNode;c=e.length;d=f.length;for(g=0;g<c&&g<d;g++)if(e[g]!==f[g])return y(e[g],f[g]);return g===c?y(a,f[g],-1):y(e[g],b,1)},y=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});
c.getText=function(a){for(var b="",d,e=0;a[e];e++)d=a[e],d.nodeType===3||d.nodeType===4?b+=d.nodeValue:d.nodeType!==8&&(b+=c.getText(d.childNodes));return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime(),c=document.documentElement;a.innerHTML="<a name='"+b+"'/>";c.insertBefore(a,c.firstChild);if(document.getElementById(b))d.find.ID=function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!==
"undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},d.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b};c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)d.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);
c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")d.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=c,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){c=function(b,e,f,g){e=e||document;if(!g&&!c.isXML(e)){var j=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);
if(j&&(e.nodeType===1||e.nodeType===9))if(j[1])return l(e.getElementsByTagName(b),f);else if(j[2]&&d.find.CLASS&&e.getElementsByClassName)return l(e.getElementsByClassName(j[2]),f);if(e.nodeType===9){if(b==="body"&&e.body)return l([e.body],f);else if(j&&j[3]){var k=e.getElementById(j[3]);if(k&&k.parentNode){if(k.id===j[3])return l([k],f)}else return l([],f)}try{return l(e.querySelectorAll(b),f)}catch(n){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=(j=e.getAttribute("id"))||
"__sizzle__",m=e.parentNode,p=/^\s*[+~]/.test(b);j?k=k.replace(/'/g,"\\$&"):e.setAttribute("id",k);if(p&&m)e=e.parentNode;try{if(!p||m)return l(e.querySelectorAll("[id='"+k+"'] "+b),f)}catch(q){}finally{j||e.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)c[e]=a[e];b=null}}();(function(){var a=document.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,e=!1;try{b.call(document.documentElement,"[test!='']:sizzle")}catch(f){e=!0}if(b)c.matchesSelector=
function(a,f){f=f.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!c.isXML(a))try{if(e||!d.match.PSEUDO.test(f)&&!/!=/.test(f))return b.call(a,f)}catch(g){}return c(f,null,null,[a]).length>0}})();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==1))d.order.splice(1,0,"CLASS"),d.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==
"undefined"&&!c)return b.getElementsByClassName(a[1])},a=null})();c.contains=document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};c.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":!1};var A=function(a,b){for(var e,f=[],g="",h=b.nodeType?[b]:b;e=d.match.PSEUDO.exec(a);)g+=e[0],a=a.replace(d.match.PSEUDO,
"");a=d.relative[a]?a+"*":a;e=0;for(var j=h.length;e<j;e++)c(a,h[e],f);return c.filter(g,f)};window.vglnk.Sizzle=c})();