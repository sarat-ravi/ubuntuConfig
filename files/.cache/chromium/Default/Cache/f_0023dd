var isCSS,isW3C,isIE4,isNN4,isIE6CSS;function initDHTMLAPI(){if(document.images){isCSS=(document.body&&document.body.style)?true:false;isW3C=(isCSS&&document.getElementById)?true:false;isIE4=(isCSS&&document.all)?true:false;isNN4=(document.layers)?true:false;isIE6CSS=(document.compatMode&&document.compatMode.indexOf("CSS1")>=0)?true:false}}window.onload=initDHTMLAPI;function seekLayer(d,b){var a;for(var c=0;c<d.layers.length;c++){if(d.layers[c].name==b){a=d.layers[c];break}if(d.layers[c].document.layers.length>0){a=seekLayer(document.layers[c].document,b)}}return a}function getRawObject(b){var a;if(typeof b=="string"){if(isW3C){a=document.getElementById(b)}else{if(isIE4){a=document.all(b)}else{if(isNN4){a=seekLayer(document,b)}}}}else{a=b}return a}function getObject(b){var a=getRawObject(b);if(a&&isCSS){a=a.style}return a}function shiftTo(d,a,e){var c=getObject(d);if(c){if(isCSS){var b=(typeof c.left=="string")?"px":0;c.left=a+b;c.top=e+b}else{if(isNN4){c.moveTo(a,e)}}}}function setDisplay(c,a){var b=document.getElementById(c);if(b){b.style.display=a}}function show(b){var a=getObject(b);if(a){a.visibility="visible"}}function hide(b){var a=getObject(b);if(a){a.visibility="hidden"}}function getElementPosition(d){var a=document.getElementById(d);var c=0;var b=0;while(a){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}if(navigator.userAgent.indexOf("Mac")!=-1&&typeof document.body.leftMargin!="undefined"){c+=document.body.leftMargin;b+=document.body.topMargin}return{left:c,top:b}}function trim(a){if(a){return a.replace(/^\s*|\s*$/g,"")}}function addEvent(e,c,b,a){var d=true;if(e.addEventListener){e.addEventListener(c,b,a)}else{if(e.attachEvent){d=e.attachEvent("on"+c,b)}else{e["on"+c]=b}}return d}function addEventById(f,c,b,a){var d=false;var e=document.getElementById(f);if(e){d=addEvent(e,c,b,a)}return d}function stopPropagation(a){if(window.event&&typeof window.event.cancelBubble=="boolean"){window.event.cancelBubble=true}else{if(a&&a.stopPropagation){a.stopPropagation()}}}function preventDefault(a){if(window.event){window.event.returnValue=false}else{if(a&&a.preventDefault){a.preventDefault()}}return false}function replaceNode(a,b,c){if(document.replaceChild&&b){a.replaceChild(c,b)}else{window.alert("document.replaceChild not supported on this browser")}}function cloneNode(b,a){if(document.cloneNode){return b.cloneNode(a)}else{window.alert("document.cloneNode not supported on this browser")}}function purge(f){var c=f.attributes,e,b,g;if(c){b=c.length;for(e=0;e<b;e+=1){g=c[e].name;if(typeof f[g]==="function"){f[g]=null}}}c=f.childNodes;if(c){b=c.length;for(e=0;e<b;e+=1){purge(f.childNodes[e])}}}Logger.prototype.writeMsg=function(c){var b=document.getElementById(this.idUL);if(b){if(b.style.display&&b.style.display.match("none")){b.style.display="block"}var a=document.createElement("li");a.appendChild(document.createTextNode(c));b.appendChild(a)}};Logger.prototype.log=function(b,a){if(b<=this.level){this.writeMsg(a)}};Logger.NONE=-1;Logger.ERROR=0;Logger.WARN=1;Logger.INFO=2;Logger.DEBUG=3;Logger.prototype.debug=function(a){this.log(Logger.DEBUG,a)};Logger.prototype.info=function(a){this.log(Logger.INFO,a)};Logger.prototype.warn=function(a){this.log(Logger.WARN,a)};Logger.prototype.error=function(a){this.log(Logger.ERROR,a)};function Logger(a){this.level=Logger.DEBUG;this.idUL=a}Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var k=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var j=Math.floor((b-e+7)/7);if(j===k){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){j=53}else{j=52}}return j};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var q=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),p=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}return this.moveToDayOfWeek(j,this._orient)}};for(var f=0;f<q.length;f++){g[q[f]]=g[q[f].substring(0,3)]=l(f)}var h=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};for(var d=0;d<p.length;d++){g[p[d]]=g[p[d].substring(0,3)]=h(d)}var e=function(k){return function(){if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var b=function(j){return function(){this._dateElement=j;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(k){var l=k.match(j);if(l){return([l[0],k.substring(l[0].length)])}else{throw new a.Exception(k)}}},token:function(j){return function(k){return c.rtoken(new RegExp("^s*"+k+"s*"))(k)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(k){var l=[],n=null;while(k.length){try{n=j.call(this,k)}catch(m){l.push(n[0]);k=n[1];continue}break}return[l,k]}},many:function(j){return function(k){var n=[],l=null;while(k.length){try{l=j.call(this,k)}catch(m){return[n,k]}n.push(l[0]);k=l[1]}return[n,k]}},optional:function(j){return function(k){var l=null;try{l=j.call(this,k)}catch(m){return[null,k]}return[l[0],l[1]]}},not:function(j){return function(k){try{j.call(this,k)}catch(l){return[null,k]}throw new a.Exception(k)}},ignore:function(j){return j?function(k){var l=null;l=j.call(this,k);return[null,l[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(l){var j={},k=null;return function(m){try{k=j[m]=(j[m]||l.call(this,m))}catch(n){k=j[m]=n}if(k instanceof a.Exception){throw k}else{return k}}},any:function(){var j=arguments;return function(l){var m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){m=null}if(m){return m}}throw new a.Exception(l)}},each:function(){var j=arguments;return function(l){var p=[],m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){throw new a.Exception(l)}p.push(m[0]);l=m[1]}return[p,l]}},all:function(){var k=arguments,j=j;return j.each(j.optional(k))},sequence:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;if(j.length==1){return j[0]}return function(t){var u=null,v=null;var x=[];for(var p=0;p<j.length;p++){try{u=j[p].call(this,t)}catch(w){break}x.push(u[0]);try{v=k.call(this,u[1])}catch(n){v=null;break}t=v[1]}if(!u){throw new a.Exception(t)}if(v){throw new a.Exception(v[1])}if(l){try{u=l.call(this,u[1])}catch(m){throw new a.Exception(u[1])}}return[x,(u?u[1]:t)]}},between:function(k,l,j){j=j||k;var m=c.each(c.ignore(k),l,c.ignore(j));return function(n){var p=m.call(this,n);return[[p[0][0],r[0][2]],p[1]]}},list:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(k)),j.slice(-1),c.ignore(l)):c.each(c.many(c.each(j,c.ignore(k))),px,c.ignore(l)))},set:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return function(D){var m=null,t=null,n=null,u=null,v=[[],D],C=false;for(var x=0;x<j.length;x++){n=null;t=null;m=null;C=(j.length==1);try{m=j[x].call(this,D)}catch(A){continue}u=[[m[0]],m[1]];if(m[1].length>0&&!C){try{n=k.call(this,m[1])}catch(B){C=true}}else{C=true}if(!C&&n[1].length===0){C=true}if(!C){var y=[];for(var w=0;w<j.length;w++){if(x!=w){y.push(j[w])}}t=c.set(y,k).call(this,n[1]);if(t[0].length>0){u[0]=u[0].concat(t[0]);u[1]=t[1]}}if(u[1].length<v[1].length){v=u}if(v[1].length===0){break}}if(v[0].length===0){return v}if(l){try{n=l.call(this,v[1])}catch(z){throw new a.Exception(v[1])}v[1]=n[1]}return v}},forward:function(j,k){return function(l){return j[k].call(this,l)}},replace:function(k,j){return function(l){var m=k.call(this,l);return[j,m[1]]}},process:function(k,j){return function(l){var m=k.call(this,l);return[j.call(this,m[0]),m[1]]}},min:function(j,k){return function(l){var m=k.call(this,l);if(m[0].length<j){throw new a.Exception(l)}return m}}};var h=function(j){return function(){var k=null,n=[];if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){for(var m=0,l=k.shift();m<l.length;m++){k.unshift(l[m]);n.push(j.apply(null,k));k.shift();return n}}else{return j.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(k){var l=[];for(var g=0;g<k.length;g++){if(k[g] instanceof Array){l=l.concat(f(k[g]))}else{if(k[g]){l.push(k[g])}}}return l};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var k=g.replace(/[^\d\+\-]/g,"");if(k.length){this.timezoneOffset=Number(k)}else{this.timezone=g.toLowerCase()}}},day:function(g){var k=g[0];return function(){this.day=Number(k.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var k=Number(g);this.year=((g.length>2)?k:(k+(((k+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var k=new Date();this.year=k.getFullYear();this.month=k.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var l=0;l<g.length;l++){if(g[l]){g[l].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){m.set({timezone:this.timezone})}else{if(this.timezoneOffset){m.set({timezoneOffset:this.timezoneOffset})}}return m},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var n=0;n<g.length;n++){if(typeof g[n]=="function"){g[n].call(this)}}if(this.now){return new Date()}var k=Date.today();var s=null;var p=!!(this.days!=null||this.orient||this.operator);if(p){var q,m,l;l=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";q=(Date.getDayNumberFromName(this.weekday)-k.getDay());m=7;this.days=q?((q+(l*m))%m):(l*m)}if(this.month){this.unit="month";q=(this.month-k.getMonth());m=12;this.months=q?((q+(l*m))%m):(l*m);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*l}return k.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(k.addDays((Date.getDayNumberFromName(this.weekday)-k.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return k.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,j;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(n){var m=a[n];if(!m){var p=Date.CultureInfo.regexPatterns;var l=n.split(/\s+/),k=[];for(var g=0;g<l.length;g++){k.push(b.replace(b.rtoken(p[l[g]]),l[g]))}m=a[n]=b.any.apply(null,k)}return m};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));j=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=j(e.d,e.dd);e.month=j(e.M,e.MMM);e.year=j(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);j=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=j(e.ddd,e.month,e.day,e.year);e.ymd=j(e.ddd,e.year,e.month,e.day);e.dmy=j(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(k){if(k instanceof Array){var l=[];for(var g=0;g<k.length;g++){l.push(c(k[g]))}return b.any.apply(null,l)}else{return c(k)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var k=e._formats.call({},g);if(k[1].length===0){return k}}catch(l){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};function checkDate(c){var b,j,p;var m=c;var h=/\b\d{1,2}[\/-]\d{1,2}[\/-]\d{4}\b/;var n=/\b\d{1,2}[\/-]\d{1,2}[\/-]\d{2}\b/;var a=(h.test(m))||(n.test(m));if(!a){return sysdate}else{if(a){var l=(m.indexOf("/")!=-1)?"/":"-";var f=m.indexOf(l);var e=m.lastIndexOf(l);b=parseInt(m.substring(0,f),10)-1;j=parseInt(m.substring(f+1,e),10);p=parseInt(m.substring(e+1),10);if(p<100){var g=new Date();var q=parseInt(g.getFullYear()/100)*100;var d=(g.getFullYear()+15)-q;if(p>d){p+=q-100}else{p+=q}}var k=new Date(p,b,j);if(dateisnotValid(k)){return k=sysdate}if((k.getDate()==j)&&(k.getMonth()==b)&&(k.getFullYear()==p)){c.value=b+"/"+j+"/"+p;return k}else{return k=sysdate}}}}function dateisPastValid(c){var e=c.getMonth();var b=c.getYear();var a=sysdate.getMonth();var f=sysdate.getYear();var d=c.getTime()-sysdate.getTime();var d=daysDifference(c);if(e<a&&b==f){return true}if(Math.round(d)<=dayspast){return true}return false}function dateisBeyondValid(b){var a=new Date(sysdate);a.setFullYear(a.getFullYear()+1);if(b>=a){return true}return false}function dateisnotValid(a){if(dateisBeyondValid(a)){return true}if(dateisPastValid(a)){return true}return false}function daysDifference(a){var b=a.getTime()-sysdate.getTime();return Math.floor(b/(1000*60*60*24))}function checkDateSimple(d){var c=/\b\d{1,2}[\/-]\d{1,2}[\/-]\d{4}\b/;if(c.test(d)){var f="/";if(d.indexOf("-")>=0){f="-"}var b=d.split(f);if(b&&b[0]&&b[1]&&b[2]){var e=+b[0];var a=+b[1];var g=+b[2];if(e>=1&&e<=12&&a>=1&&a<=31){return Date.parse(d)}}}return null}function day(a){this.cal=new Date(a);this.dayofweek=this.cal.getDay();this.dayofmonth=this.cal.getDate();this.calsmonth=this.cal.getMonth();this.calsyear=this.cal.getFullYear();this.milliseconds=this.cal.getTime();this.senddate=new Date(a.sendonDate);this.deliverdate=new Date(deliveronDate);this.ebillduedate=ebillduedate;this.maxyears=1;this.isToday=isToday;this.isWeekend=isWeekend;this.isPast=isPast;this.isTooFarInFuture=isTooFarInFuture;this.isHoliday=isHoliday;this.isNonBusinessDay=isNonBusinessDay;this.isSelectable=isSelectable;this.isSelectableSingleCalendar=isSelectableSingleCalendar;this.isSendon=isSendon;this.isDeliveron=isDeliveron;this.formatDay=formatDay;this.nextAvailable=nextAvailable;this.previousAvailable=previousAvailable;this.isEbillDueon=isEbillDueon;this.isPastCutoffTime=isPastCutoffTime}function isToday(){var a=false;if((this.dayofmonth==sysdate.getDate())&&(this.calsmonth==sysdate.getMonth())&&(this.calsyear==sysdate.getFullYear())){a=true}return a}function isWeekend(){var a=false;if(this.dayofweek==0||this.dayofweek==6){a=true}return a}function isPast(){var a=false;if(this.isToday()){a=false}else{if(parseInt(this.milliseconds)<parseInt(sysdate.getTime())){a=true}}return a}function isTooFarInFuture(){var b=false;var a=new Date(sysdate);if((this.cal.getFullYear()-this.maxyears)==a.getFullYear()){if(this.cal.getMonth()==a.getMonth()){if(this.cal.getDate()>=a.getDate()){b=true}}else{if(this.cal.getMonth()>a.getMonth()){b=true}}}else{if((this.cal.getFullYear()-this.maxyears)>a.getFullYear()){b=true}}return b}function isHoliday(){var e=false;for(var f=0;f<holidayDB.length;f++){var a=holidayDB[f].getMonth();var b=holidayDB[f].getDate();var d=holidayDB[f].getFullYear();if(this.calsmonth==a&&this.dayofmonth==b&&this.calsyear==d){e=true}}return e}function isNonBusinessDay(){var a=false;if(this.isWeekend()||this.isHoliday()){a=true}return a}function isPastCutoffTime(){var a=false;if(sysHour>18){a=true}return a}function isSelectable(){var a=true;if(this.isPast()||this.isNonBusinessDay()||this.isTooFarInFuture()){a=false}else{if(this.isToday()&&this.isPastCutoffTime()){a=false}}return a}function isSelectableSingleCalendar(){var a=true;if(this.isPast()||this.isTooFarInFuture()){a=false}else{if(this.isToday()&&this.isPastCutoffTime()){a=false}}return a}function isSendon(){var a=false;if((this.dayofmonth==this.senddate.getDate())&&(this.calsmonth==this.senddate.getMonth())&&(this.calsyear==this.senddate.getFullYear())){a=true}return a}function isDeliveron(){var a=false;if((this.dayofmonth==this.deliverdate.getDate())&&(this.calsmonth==this.deliverdate.getMonth())&&(this.calsyear==this.deliverdate.getFullYear())){a=true}return a}function formatDay(){var c=formatMonthofyear(this.calsmonth+1);var b=this.calsyear;var a=formatDayofmonth(this.dayofmonth);return c+"/"+a+"/"+b}function nextAvailable(){var b=false;var a=new Date(sysdate);if(!(a.getTime()>this.milliseconds)){a.setFullYear(a.getFullYear()+this.maxyears);if(parseInt(a.getFullYear())==parseInt(this.calsyear)){if(parseInt(a.getMonth())>=parseInt(this.calsmonth)){b=true}}else{if(parseInt(a.getFullYear())>parseInt(this.calsyear)){b=true}else{if(parseInt(a.getFullYear())<parseInt(this.calsyear)){b=false}}}}return b}function previousAvailable(){var a=false;var b=new Date(sysdate);if(parseInt(b.getFullYear())==parseInt(this.calsyear)){if(parseInt(b.getMonth())<=parseInt(this.calsmonth)){a=true}}else{if(parseInt(b.getFullYear())<parseInt(this.calsyear)){a=true}}return a}function isEbillDueon(){var a=false;if((this.dayofmonth==this.ebillduedate.getDate())&&(this.calsmonth==this.ebillduedate.getMonth())&&(this.calsyear==this.ebillduedate.getFullYear())){a=true}return a}var calendarLastDayId;var launchElement;function checkClick(a){var a=(a)?a:event;var b=a.target||a.srcElement;var c=(launchElement!=undefined)?launchElement.id:"";if(!(b.id.indexOf("days")>-1||b.id.indexOf("showit")>-1||b.id.indexOf("navt")>-1||b.id.indexOf("navb")>-1||b.id.indexOf("Header")>-1||b.id.indexOf("calendar")>-1||b.id.indexOf("singleCalendar")>-1)&&(b.id!=c)){hideAll()}}function findClosestWorkingDay(c,b){var d=calculateLeadDays(c,b);var a=new day(b.setDate(b.getDate()+d));return a.formatDay()}function findExpectedDeliveryDate(b,c){var e=new day(c);var a=new day(c);var f=new Date(c);while(e.isNonBusinessDay()){e=new day(f.setDate(f.getDate()+1))}for(var d=0;d<b;d++){a=new day(f.setDate(f.getDate()+1));while(a.isNonBusinessDay()){a=new day(f.setDate(f.getDate()+1))}}return a.cal}function populateTextFields(c){var a=document.getElementsByTagName("input");for(var b=0;b<a.length;b++){if((a[b].id).indexOf("days")>-1){a[b].value=c}}}function populateReadOnlyField(b,a){document.getElementById(b).innerHTML=a}function getColumnDates(a,f){var c=new Date();c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);var h=document.getElementsByTagName("span");var g=0;for(var d=0;d<h.length;d++){if(document.getElementById(a+d)){populateReadOnlyField(a+d,"");var b=document.getElementById(f+d);if(b){var e=checkDateSimple(b.value);if(e){g=leaddaysDB[d];if((e.getTime()>=c.getTime())&&e.getTime()<=c.getTime()+(1000*60*60*24*364)){populateReadOnlyField(a+d,formatDate(findExpectedDeliveryDate(g,e)))}}}}else{return}}}function getSingleColumnDate(d,c,b,e){var a=d.which;if(!a){if(window.event){a=window.event.keyCode}}if(a==37||a==39||a==13){return}populateSingleColumnDate(c,b,e)}function populateSingleColumnDate(d,f,j){var g=new Date();g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0);var e=0;var c=f+d;if(document.getElementById(c)){populateReadOnlyField(c,"");var b=document.getElementById(j+d);if(b){var a=b.value;var h=checkDateSimple(b.value);if(h){e=leaddaysDB[d];if((h.getTime()>=g.getTime())&&h.getTime()<=g.getTime()+(1000*60*60*24*364)){populateReadOnlyField(c,formatDate(findExpectedDeliveryDate(e,h)))}}}}}function checkDateField(c,b){var a=new Date(c.value);c.value=findClosestWorkingDay(0,a);getColumnDates(b)}function getFirstDay(c,a){var b=new Date(c,a,1);return b.getDay()}function getMonthLen(c,a){var b=new Date(c,a+1,1);b.setHours(b.getHours()-3);return b.getDate()}function xClientWidth(){var b=0,c=document,a=window;if(c.compatMode=="CSS1Compat"&&!a.opera&&c.documentElement&&c.documentElement.clientWidth){b=c.documentElement.clientWidth}else{if(c.body&&c.body.clientWidth){b=c.body.clientWidth}else{if(xDef(a.innerWidth,a.innerHeight,c.height)){b=a.innerWidth;if(c.height>a.innerHeight){b-=16}}}}return b}function showCalendar(a,d){a=(a)?a:event;if(a){var b=(a.target)?a.target:a.srcElement;if(b.nodeType==1&&b.tagName.toUpperCase()=="A"){var c=b.getElementsByTagName("IMG");if(c.length>0){b=c[0]}}setCalendarPosition(b,d);show(d)}}function getWindowDimensions(b){var c=0;var a=0;if(b.offsetParent){do{c+=b.offsetLeft;a+=b.offsetTop}while(b=b.offsetParent)}return[c,a]}function setCalendarPosition(b,f){var d=document.getElementById(f);var e=getWindowDimensions(launchElement);var a=20;var g=launchElement.getAttribute("specialOffset");if(g){a=a*1+g*1}var h=(e[0]+launchElement.offsetWidth+a);d.style.left=h+"px";var c=(e[1]-(d.offsetHeight/2));d.style.top=c+"px";var j=(d.offsetHeight+c)-(pageHeight()+posTop());if(j>0){window.scrollTo(0,posTop()+j+50)}}function hideAll(){if(document.getElementById("calendar")!=null&&document.getElementById("calendar").style.visibility=="visible"){hide("calendar");hide(document.getElementById("navbn"));hide(document.getElementById("navtn"));hide(document.getElementById("navbp"));hide(document.getElementById("navtp"))}if(document.getElementById("singleCalendar")!=null&&document.getElementById("singleCalendar").style.visibility=="visible"){hide("singleCalendar");hide(document.getElementById("navtn2"));hide(document.getElementById("navtp2"))}}function formatDate(b){var d=formatMonthofyear(b.getMonth()+1);var c=b.getFullYear();var a=formatDayofmonth(b.getDate());return d+"/"+a+"/"+c}function calcDeliveryDate(c,b){var a;var d;a=new Date(b);d=calculateLeadDays(c,a);a.setDate(a.getDate()+d);return a}function calculateLeadDays(e,f){var d=0;var b=0;var c=new Date(f);if(e>0){var a=new day(c.setDate(c.getDate()+1));while(b!=e){if(!a.isNonBusinessDay()){b++}d++;a=new day(c.setDate(c.getDate()+1))}}else{var a=new day(c.setDate(c.getDate()));while(a.isNonBusinessDay()){d++;a=new day(c.setDate(c.getDate()+1))}}return d}function createSummary(d,e,h){var f=new day(h);if(!f.isSelectable()){h=new Date(setSelectabledate(h))}var g=formatDate(this.ebillduedate);var c=new Array();c[0]={label:"<span>Send on:</span>&nbsp;",html:"<span id='sendOnDisplay'></span>&nbsp;<span id='senddaylabel'></span>&nbsp;<span id='senddate'></span>"};c[1]={label:"<span>Delivery Time:</span>&nbsp;",html:"<span id='delivery'></span><span>",leadDays:lead,endhtml:"&nbsp;business days </span>"};c[2]={label:"<span>Deliver By:</span>&nbsp;",html:"<span id='deliverbyDisplay'></span>&nbsp;<span id='deliverdaylabel'></span>&nbsp;<span id='deliverdate'></span>"};var l=new Date(0);if(this.ebillduedate!=null&&this.ebillduedate.getTime()!=l.getTime()){var j=contentPath+"/images/icons/ico_eBills_Active_29x11.gif";var a="<img alt='eBill' id='ebillicon' border='0' align='top' src='"+j+"'/>";c[3]={label:"<span>"+a+"&nbsp;Due:&nbsp;</span>",html:"<span id='ebillduebyDisplay'>",dayname:formatDayofmonth(this.ebillduedate.getDate()),midhtml:"</span><span id='ebillduelabel'>&nbsp;",wkdy:dayz[this.ebillduedate.getDay()],plushtml:"</span><span id='ebillduedate'>",fulldate:g,endhtml:"</span>"}}var e=document.getElementById(e);var n,m;while(e.rows.length>0){e.deleteRow(0)}for(var k=0;k<c.length;k++){n=e.insertRow(e.rows.length);m=n.insertCell(n.cells.length);if(k==3){m.className="ebillrow label"}else{m.className="label"}m.innerHTML=c[k].label;m=n.insertCell(n.cells.length);if(k==3){m.className="ebillrow data"}else{m.className="data"}switch(k){case 1:if(lead==1){c[k].endhtml=" business day </span>"}m.innerHTML=c[k].html+c[k].leadDays+c[k].endhtml;break;case 3:m.innerHTML=c[k].html+c[k].dayname+c[k].midhtml+c[k].wkdy+",&nbsp;"+c[k].plushtml+c[k].fulldate+c[k].endhtml;break;default:m.innerHTML=c[k].html;break}}document.getElementById("DT_ID").style.display="block";document.getElementById("sendOnDisplay").style.backgroundColor="#FFFFFF";document.getElementById("sendOnDisplay").style.borderColor="#FFFFFF";document.getElementById("deliverbyDisplay").style.backgroundColor="#FFFFFF";document.getElementById("deliverbyDisplay").style.borderColor="#FFFFFF"}function createSummary0vdp(d,f,h){var k=new day(h);if(!k.isSelectable()){h=new Date(setSelectabledate(h))}var p=formatDate(this.ebillduedate);var c=new Array();c[0]={label:"<span>Send on:</span>&nbsp;",html:"<span id='sendOnDisplay'></span>&nbsp;<span id='senddaylabel'></span>&nbsp;<span id='senddate'></span>"};c[1]={label:"<span>Deliver By:</span>&nbsp;",html:"<span id='deliverbyDisplay'></span>&nbsp;<span id='deliverdaylabel'></span>&nbsp;<span id='deliverdate'></span>"};var a=new Date(0);if(this.ebillduedate!=null&&this.ebillduedate.getTime()!=a.getTime()){var e=contentPath+"/images/icons/ico_eBills_Active_29x11.gif";var g="<img alt='eBill' id='ebillicon' border='0' align='top' src='"+e+"'/>";c[2]={label:"<span>"+g+"&nbsp;Due:&nbsp;</span>",html:"<span id='ebillduebyDisplay'>",dayname:formatDayofmonth(this.ebillduedate.getDate()),midhtml:"</span><span id='ebillduelabel'>&nbsp;",wkdy:dayz[this.ebillduedate.getDay()],plushtml:"</span><span id='ebillduedate'>",fulldate:p,endhtml:"</span>"}}var j=document.getElementById(f);var n,m;while(j.rows.length>0){j.deleteRow(0)}for(var l=0;l<c.length;l++){n=j.insertRow(j.rows.length);m=n.insertCell(n.cells.length);if(l==2){m.className="ebillrow label"}else{m.className="label"}m.innerHTML=c[l].label;m=n.insertCell(n.cells.length);if(l==2){m.className="ebillrow data"}else{m.className="data"}switch(l){case 2:m.innerHTML=c[l].html+c[l].dayname+c[l].midhtml+c[l].wkdy+",&nbsp;"+c[l].plushtml+c[l].fulldate+c[l].endhtml;break;default:m.innerHTML=c[l].html;break}}document.getElementById("DT_ID").style.display="none";document.getElementById("sendOnDisplay").style.backgroundColor="#FFFFFF";document.getElementById("sendOnDisplay").style.borderColor="#FFFFFF";document.getElementById("deliverbyDisplay").style.backgroundColor="#FFFFFF";document.getElementById("deliverbyDisplay").style.borderColor="#FFFFFF"}function getInputDate(b,g){var e;var c;b=(b)?b:((window.event)?event:null);if(b){var d=(b.target)?b.target:((b.srcElement)?b.srcElement:null);if(d){var h=d.id;if(h.indexOf("showit")==0||h.indexOf("days-")==0||h.indexOf("calendarLink")==0||h.indexOf("payExactly.")==0){if(this.calendar=="singleCalendar"){c=document.getElementById(g);if(c){e=checkDateSimple(c.value);if(!e){e=sysdate}}}else{var a;if(g==parseInt(g)){a="days-"+g}else{a=g}var f=document.getElementById(a);if(f){e=checkDate(f.value)}else{e=new Date(sysdate)}}}else{if(h.indexOf("nav")==0||checkKey(b)==13){if(h=="navtopprev"||h=="navbottomprev"||h=="navtopprev2"||h=="navtp"||h=="navbp"||h=="navtp2"){e=new Date(previousMonth)}else{if(h=="navtopnext"||h=="navbottomnext"||h=="navtopnext2"||h=="navtn"||h=="navbn"||h=="navtn2"){e=new Date(nextMonth)}else{e=new Date(sysdate)}}}else{e=new Date(sysdate)}}}}return e}function checkKey(b){var a;if(window.event){a=window.event.keyCode}else{if(b){a=b.which}}return a}function launchCalendar(e,a,d,c,f,b){if(document.getElementById("bean["+e+"].sameDayPayment.true")){if(document.getElementById("bean["+e+"].sameDayPayment.true").checked){return}}if(document.getElementById("calendar")!=null&&document.getElementById("calendar").style.visibility=="visible"&&this.payee==e){return}if(document.getElementById("singleCalendar")!=null&&document.getElementById("singleCalendar").style.visibility=="visible"&&this.payee==e){return}populateLaunchElement(e);createCalendar(e,a,d,c,f,b)}function createCalendar(n,a,m,f,k,g){if(f==null||f==""){this.calendar="calendar"}else{this.calendar=f}if(k==null||k==""){this.maxyears=1}else{this.maxyears=k}var j=null;var s=null;var l=null;var q=null;var h=null;this.payee=n;this.startDate=new Date();this.ebillduedate=new Date(0);if(m!=""||m!=null){this.lead=m}sendonDate=getInputDate(a,n);var e=(a.target)?a.target:((a.srcElement)?a.srcElement:null);var b=e.id;if(b.indexOf("showit")==0||b.indexOf("days")==0||b.indexOf("calendarLink")==0){var p=getInputDate(a,n);if(p){if(p.getMilliseconds()>=new Date().getMilliseconds()){this.startDate=p}}hideAll()}if(g!=null&&g.length>2){this.ebillduedate=new Date(g)}if(ebillsduedateDB[n]){this.ebillduedate=new Date(ebillsduedateDB[n])}j=new day(sendonDate);j.maxyears=this.maxyears;if(this.calendar=="calendar"){if(!j.isSelectable()){sendonDate=new Date(getNextAvailableDate(sendonDate))}}else{if(this.calendar=="singleCalendar"){if(!j.isSelectableSingleCalendar()){sendonDate=new Date()}}}s=new Date(sendonDate);l=new Date(s);l.setSeconds(0);l.setMinutes(0);l.setHours(0);l.setDate(1);q=new Date(l);h=new Date(l);q.setMonth(l.getMonth()+1);if(l.getMonth()==0){h.setMonth(11);h.setFullYear(l.getFullYear()-1)}else{h.setMonth(l.getMonth()-1)}populateNavigation(h,q,n,this.calendar,m,this.maxyears);populateTables("first","second",s,q,n,this.calendar,this.maxyears);setCalendarUsedLogFields();if(s.getMonth()==sendonDate.getMonth()){var c=this.lead;if(this.calendar=="calendar"){if(c==0){createSummary0vdp(n,"summtable",this.startDate)}else{createSummary(n,"summtable",this.startDate)}changeDisplay(sendonDate,this.lead)}if(sendonDate){var d=formatDate(sendonDate);if(document.getElementById(d)){if(c!=0){document.getElementById(d).firstChild.className="bluehighlight"}}}}if(b.indexOf("nav")==-1){showCalendar(a,this.calendar)}if(this.calendar=="calendar"){document.getElementById("closeCalendar").focus()}else{document.getElementById("closeSingleCalendar").focus()}}function setCalendarUsedLogFields(){var a=parseInt(document.forms[0].calendarOpenedCounter.value);a++;document.forms[0].calendarViewed.value="Yes";document.forms[0].calendarOpenedCounter.value=a}function populateNavigation(b,a,g,e,f,h){var d=new day(b);var c=new day(a);d.maxyears=h;c.maxyears=h;nextMonth=c.formatDay();previousMonth=d.formatDay();if(e=="calendar"){if((!document.all)&&(document.getElementById)){if(c.nextAvailable()){document.getElementById("navtn").setAttribute("onclick","createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");document.getElementById("navbn").setAttribute("onclick","createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtn"));show(document.getElementById("navbn"))}else{hide(document.getElementById("navtn"));hide(document.getElementById("navbn"))}if(d.previousAvailable()){document.getElementById("navtp").setAttribute("onclick","createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");document.getElementById("navbp").setAttribute("onclick","createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtp"));show(document.getElementById("navbp"))}else{hide(document.getElementById("navtp"));hide(document.getElementById("navbp"))}}if((document.all)&&(document.getElementById)){if(c.nextAvailable()){document.getElementById("navbn")["onclick"]=new Function("createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");document.getElementById("navtn")["onclick"]=new Function("createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtn"));show(document.getElementById("navbn"))}else{hide(document.getElementById("navtn"));hide(document.getElementById("navbn"))}if(d.previousAvailable()){document.getElementById("navtp")["onclick"]=new Function("createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");document.getElementById("navbp")["onclick"]=new Function("createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtp"));show(document.getElementById("navbp"))}else{hide(document.getElementById("navtp"));hide(document.getElementById("navbp"))}}}if(e=="singleCalendar"){if((!document.all)&&(document.getElementById)){if(c.nextAvailable()){document.getElementById("navtn2").setAttribute("onclick","createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtn2"))}else{hide(document.getElementById("navtn2"))}if(d.previousAvailable()){document.getElementById("navtp2").setAttribute("onclick","createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtp2"))}else{hide(document.getElementById("navtp2"));document.getElementById("navtp2").disabled=true}}if((document.all)&&(document.getElementById)){if(c.nextAvailable()){document.getElementById("navtn2")["onclick"]=new Function("createCalendar('"+g+"',event,'"+f+"','"+e+"',"+h+",'"+this.ebillduedate+"')");show(document.getElementById("navtn2"))}else{hide(document.getElementById("navtn2"))}if(d.previousAvailable()){document.getElementById("navtp2")["onclick"]=new Function("createCalendar('"+g+"',event,'"+f+"','"+e+"','"+h+"','"+this.ebillduedate+"')");show(document.getElementById("navtp2"))}else{hide(document.getElementById("navtp2"))}}}}function populateTables(f,b,c,a,e,d,g){deleteTable(f,d);if(d=="calendar"){deleteTable(b,d)}populateTable(f,c,e,d,g);if(d=="calendar"){populateTable(b,a,e,d,g)}}function deleteTable(d,c){var a=c=="calendar"?d+"CalendarBody":d+"CalendarBody2";var b=document.getElementById(a);while(b.rows.length>0){b.deleteRow(0)}}function populateTable(y,m,s,z,p){var v=z=="singleCalendar"?y+"CalendarHeader2":y+"CalendarHeader";var g=z=="singleCalendar"?y+"CalendarBody2":y+"CalendarBody";var q=document.getElementById(y+"TableBody");q.summary="Calendar for "+months[m.getMonth()]+", "+m.getFullYear();var h=getFirstDay(m.getFullYear(),m.getMonth());var x=getMonthLen(m.getFullYear(),m.getMonth());var j=1;var l=document.getElementById(g);var e=new Date(m);document.getElementById(v).innerHTML=months[m.getMonth()]+" "+m.getFullYear();var a,d;var n=false;var w="";while(!n){a=l.insertRow(l.rows.length);if(a){for(var u=0;u<7;u++){d=a.insertCell(a.cells.length);e.setDate(j);if(l.rows.length==1&&u<h){d.innerHTML="&nbsp;";d.id=0;continue}if(j==x){n=true}if(j<=x){var c=new day(e);c.maxyears=p;var f=c.formatDay();var b=c.isEbillDueon();d.id=f;if(z=="calendar"){var k=c.isSelectable();if(!k){d.innerHTML="<div>"+j+"</div>"}else{if(k){calendarLastDayId="datelink-"+m.getMonth()+"-"+j;d.innerHTML="<a id='"+calendarLastDayId+"'  class='datelink'  onMouseOut=revert('"+f+"','"+this.lead+"');  onblur=revert('"+f+"','"+this.lead+"');   onMouseOver=changeDisplay('"+f+"','"+this.lead+"');   onfocus=changeDisplay('"+f+"','"+this.lead+"');  onClick=chooseDate('"+this.lead+"','"+f+"','"+s+"','"+z+"');  href='javascript:void(0);' >"+j+"</a>"}}if(!k){w+=" notselectable"}}else{if(z=="singleCalendar"){var t=c.isSelectableSingleCalendar();if(!t){d.innerHTML="<div>"+j+"</div>"}else{calendarLastDayId="datelink-"+m.getMonth()+"-"+j;d.innerHTML="<a id='"+calendarLastDayId+"'  class='datelink'  onmouseover='clearDateClasses()'  onfocus='clearDateClasses()'  onClick=chooseDate('"+this.lead+"','"+f+"','"+s+"','"+z+"');  href='javascript:void(0);' >"+j+"</a>"}if(!t){w+=" notselectable"}}}if(b){w+=" ebillcell"}d.className=w;j++;w=""}else{d.id=0;d.innerHTML="&nbsp;"}}}else{n=true}}}function setLastDayFocus(){if(calendarLastDayId){if(document.getElementById(calendarLastDayId)){document.getElementById(calendarLastDayId).focus()}}}function chooseDate(j,b,h,n){var d=parseInt(h);var c=calcDeliveryDate(j,b);var g="expectedDeliverySpan-"+d;var k=document.getElementById(g);if(k){k.innerHTML=formatDate(c)}var f="days-"+h;var l=document.getElementById(f);if(l){l.value=b}else{if(document.getElementById(this.payee)){document.getElementById(this.payee).value=b}}var e="populatedByCalendar-"+h;var m=document.getElementById(e);if(m){m.value="Yes"}setDateChosenLogFields();hideAll();var a="days-"+this.payee;if(document.getElementById(a)){document.getElementById("days-"+this.payee).focus()}navAwayConfirmRequired=true}function setDateChosenLogFields(){var a="calendarDateSelectedCounter";var b=document.getElementById(a);if(b){var d=parseInt(b.value);d++;b.value=d}var c="paymentDateSelectedFromCalendar";var e=document.getElementById(c);if(e){e.value="Yes"}}function clearDateClasses(){var c=document.getElementById(this.calendar).getElementsByTagName("td");for(var b=0;b<c.length;b++){if(c[b].childNodes[0].nodeType!=3){var a=c[b].childNodes[0];var d=a.id;if(d.indexOf("nav")<0&&d.indexOf("ebill")<0){a.style.border="";a.style.color="";a.style.backgroundColor="";a.className="datelink"}}else{c[b].style.backgroundColor="";c[b].className=""}}}function changeDisplay(m,l){var h;var j;clearDateClasses();m=new Date(m);j=calcDeliveryDate(l,m);var c=document.getElementById("sendOnDisplay");if(c){if(l==0){c.innerHTML=formatDayofmonth(m.getDate());c.style.backgroundColor="#FC0";c.style.color="#000";c.style.border="1px solid #333"}else{c.innerHTML=formatDayofmonth(m.getDate());c.style.backgroundColor="#369";c.style.border="1px solid #666"}}var a=document.getElementById("deliverbyDisplay");if(a){a.innerHTML=formatDayofmonth(j.getDate());a.style.backgroundColor="#FC0";a.style.border="1px solid #333"}var g=document.getElementById("senddaylabel");if(g){g.innerHTML=dayz[m.getDay()]+","}var k=document.getElementById("deliverdaylabel");if(k){k.innerHTML=dayz[j.getDay()]+","}var e=document.getElementById("senddate");if(e){e.innerHTML=formatDate(m)}var f=document.getElementById("deliverdate");if(f){f.innerHTML=formatDate(j)}if(document.getElementById(formatDate(j))!=null&&l>=0){document.getElementById(formatDate(j)).firstChild.style.color="#000";document.getElementById(formatDate(j)).firstChild.style.backgroundColor="#FC0";document.getElementById(formatDate(j)).firstChild.style.border="1px solid #333"}h=new Date(m);clleaddays=calculateLeadDays(l,m);for(var d=1;d<clleaddays;d++){h.setDate(h.getDate()+1);var b=formatDate(h);if(document.getElementById(b)!=null){if(document.getElementById(b).childNodes[0].nodeType!=3){document.getElementById(b).childNodes[0].style.backgroundColor="#C0C0C0"}else{document.getElementById(b).style.backgroundColor="#C0C0C0"}}}}function revert(a,e){var h;var f;var d;var l;var k;var g;h=new Date(a);f=new Date(a);d=calculateLeadDays(e,h);f.setDate(f.getDate()+d);if(document.getElementById(formatDate(sendonDate))!=null){document.getElementById(formatDate(sendonDate)).firstChild.className="datelink"}if(document.getElementById(formatDate(f))!=null){document.getElementById(formatDate(f)).firstChild.className="datelink"}l=new Date(h);for(var c=1;c<=d;c++){l.setDate(l.getDate()+1);var j=formatDate(l);if(document.getElementById(j)!=null){if(document.getElementById(j).childNodes[0].nodeType!=3){var b=document.getElementById(j).childNodes[0];b.style.backgroundColor="";b.style.color="";b.style.border="";b.className="datelink"}else{document.getElementById(j).style.backgroundColor=""}}}g=new Date(sendonDate);k=calculateLeadDays(e,this.sendonDate);g.setDate(g.getDate()+k)}function setSelectabledate(b){b=new Date(b);tmp=new day(b);var a=false;while(!a){if(!tmp.isSelectable()){b.setDate(b.getDate()+1)}a=true}return b}function getNextAvailableDate(c){var b=new Date(c);var a=new day(b);while(!a.isSelectable()&&!a.isTooFarInFuture()){b.setDate(b.getDate()+1);a=new day(b)}return b}function formatDayofmonth(b){var a=b+"";if(a.length==1){a="0"+a}return a}function formatMonthofyear(a){var b=a+"";if(b.length==1){b="0"+b}return b}function disableCalendar(b){var c="ashowit-"+b;if(document.getElementById(c)){document.getElementById(c).onclick=""}var a="days-"+b;if(document.getElementById(a)){document.getElementById(a).onclick=""}}function enableCalendar(b){var c="ashowit-"+b;if(document.getElementById(c)){document.getElementById(c).onclick=new Function("createCalendar('"+b+"',event,leaddaysDB["+b+"])")}var a="days-"+b;if(document.getElementById(a)){document.getElementById(a).onclick=new Function("createCalendar('"+b+"',event,leaddaysDB["+b+"])")}}function populateExpected(d){var c=d;var f=d.id;var g=f.substring(f.indexOf("-")+1);var a=leaddaysDB[g];var e=document.getElementById("spanExpectedDelivery"+g);var b=calcDeliveryDate(a,c.value);e.innerHTML=formatDate(b)}function populateLaunchElement(a){if(a=="payExactly.startDate"){launchElement=document.getElementById("payExactly.startDate")}else{if(a=="payExactly.endDate"){launchElement=document.getElementById("payExactly.endDate")}else{if(a=="paymentReminderTypicalDueDate"){launchElement=document.getElementById("paymentReminderTypicalDueDate")}else{if(document.getElementById("days-"+a)){launchElement=document.getElementById("days-"+a)}else{launchElement=document.getElementById(a)}}}}}function pageWidth(){return window.innerWidth!=null?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body!=null?document.body.clientWidth:null}function pageHeight(){return window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:null}function posLeft(){return typeof window.pageXOffset!="undefined"?window.pageXOffset:document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft?document.body.scrollLeft:0}function posTop(){return typeof window.pageYOffset!="undefined"?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function posRight(){return posLeft()+pageWidth()}function posBottom(){return posTop()+pageHeight()}function _onLoad(){if(isValidCookie()==0){document.location=document.location+"?"+new Date().getTime()}}function isValidCookie(){cookieName="KCOOKIE";cookieName2="SMSESSION";if(document.cookie.length>0){index=document.cookie.indexOf(cookieName);index2=document.cookie.indexOf(cookieName2);if(index!=-1||index2!=-1){return 1}else{return 0}}else{return 0}}function editPayment(b,a){document.forms[0].paymentId.value=a;Validate(b)}function setValuesForPaymentInquiry(a){var b;var c=document.forms[0].reasonForInquiry.value;b=document.forms[0].callTime.selectedIndex;document.forms[0].bestTimeToCall.value=document.forms[0].callTime.options[b].text;b=document.forms[0].timeZone.selectedIndex;document.forms[0].livingTimeZone.value=document.forms[0].timeZone.options[b].text;Validate(a)}function clearBillPaimentPastDue(){var a=document.forms[0];a.paymentPastDue[0].checked=false;a.paymentPastDue[1].checked=false}function setBillPaimentPastDue(a){a.checked=a.form.reasonForInquiry[2].checked}function checkLength(b){if(b.length>255){alert("Comments cannot be more than 255 characters.");var a=document.forms[0].comments.value=document.forms[0].comments.value.substring(0,255);return false}return true}function Validate(c,a){if(c=="CancelPaymentEvent"){if(!confirm('Select "OK" if you want to stop scheduling these payment(s).')){return false}}else{if(c=="AddPayeeSubmitEvent"){if(document.forms[0].buttonClicked.value=="save"){if((getElementValue(document.forms[0]["paymentDetails.pmId"])=="0")&&(getElementValue(document.forms[0]["paymentDetails.payActId"])=="0")){if(!confirm("Do you want to set up this payee without Default Payment Account?")){return false}}}}else{if(c=="EditPayeeSubmitEvent"){var b=document.forms[0]["buttonClicked"];if(b!=null){if(b.value=="save"){if((getElementValue(document.forms[0]["paymentDetails.pmId"])=="0")&&(getElementValue(document.forms[0]["selectedOption"])=="4")){if(!confirm("Do you want to set up this payee without Default Payment Account?")){return false}}}}}else{if(c=="ReportPreferenceEvent"){document.forms[0].action="ReportPreference";document.forms[0].eventName.value=c;document.forms[0].sourceEventName.value="GenerateReportEvent";document.forms[0].submit();return}}}}document.forms[0].eventName.value=c;if(!a){document.forms[0].acceptCharset="UTF-8";document.forms[0].submit()}}function addPopularPayee(c,b,a,d){document.forms[0].popularMerID.value=c;document.forms[0].popularMerName.value=b;document.forms[0].popularMerRemAddrID.value=a;document.forms[0].popularMerRemAddrName.value=d;document.forms[0].submit()}function validateEditPayment(a){return Validate(a)}function StripComma(d){var g=d.value;var a;var c=g.lastIndexOf(",");var f=g;while(c!=-1){var b=g;c=g.lastIndexOf(",");var h=b.substring(0,c);var e=b.substring(c+1);g=h+e}d.value=g}function StripDollar(a){var b=a.value;if(b.charAt(0)=="$"){b=b.substring(1);a.value=b}}function handlePayeeDetailsNoAccountSelect(){if($("#noPayeeAcctNo").attr("checked")){acctStr=$("#payeeAcctNo").val();$("#payeeAcctNo").val("");$("#payeeAcctNo").attr("disabled",true);$("#payeeAcctNo").addClass("pnpInputDisabled")}else{$("#payeeAcctNo").val(acctStr);$("#payeeAcctNo").attr("disabled",false);$("#payeeAcctNo").removeClass("pnpInputDisabled")}}function validateAmountWithoutAlerts(q){var k=q.value;str1=k;str1=str1.replace(/\$/g,"");str1=str1.replace(/\./g,"");str1=str1.replace(/,/g,"");if(isNaN(str1)){return false}var g=k.lastIndexOf("$");val1=k.substring(g+1);RemoveSpace(q);if(q.value==""){return false}else{if(q.value<=0){return false}else{if(val1<=0){return false}}}var d;var t=k.indexOf("$");if(t!=-1){d=k.substring(t+1);if(d.indexOf("$")!=-1){return false}}else{d=k}var f=d.lastIndexOf(",");var b=d;while(f!=-1){var a=b;f=a.lastIndexOf(",");var c=a.substring(0,f);var e=a.substring(f+1);var b=c+e}if(a<=0){return false}var h=k.indexOf(".");if(h>=0){val1=k.substring(0,h);val2=k.substring(h);if(val2.length>3){q.value=k;return false}val2=k.substring(h,h+3);if(val2.length==2){val2=val2+"0"}else{if(val2.length==1){val2=val2+"00"}}q.value=val1+""+val2}else{q.value=q.value+".00";k=k+".00"}if(q.value<1&&q.value.indexOf(".")==0){q.value="0"+q.value}var n=1;var m,j;while(n!=-1){n=k.lastIndexOf(",");firstcom=k.indexOf(",");if(n!=-1){var p=k.substring(0,n);var l=k.substring(n+1);var h=l.indexOf(".");if(h!=-1){m=l.substring(0,h);j=l.substring(h);if(m.length!=3){return false}}else{if(n!=firstcom){return l.length==3&&p.length==3}else{return l.length==3}}k=p}else{return true}}}function checkCancelRecurPayments(c,b){var a=confirm("Do you want to skip this Automatic (Recurring) payment?\nTo cancel your entire automatic (recurring) payment series, select the Payees tab at the \ntop of the screen, then click on the payee name.");if(a){document.forms[0].eventName.value=c;document.forms[0].paymentId.value=b;document.forms[0].submit()}}function validateSchedCancelPaymentsFromHistory(e,b,f,c,d){var a=confirm("Are you sure you want to cancel this Payment?");if(a==true){document.forms[0].eventName.value=e;document.forms[0].paymentId.value=b;document.forms[0].mpaId.value=f;document.forms[0].sortKey.value=c;document.forms[0].ascending.value=d;Validate(e)}}function checkCancelRecurPaymentsFromHistory(e,b,f,c,d){var a=confirm("Do you want to skip this Automatic (Recurring) payment?\nTo cancel your entire automatic (recurring) payment series, select the Payees tab at the \ntop of the screen, then click on the payee name.");if(a==true){document.forms[0].eventName.value=e;document.forms[0].paymentId.value=b;document.forms[0].mpaId.value=f;document.forms[0].sortKey.value=c;document.forms[0].ascending.value=d;document.forms[0].submit()}}function validateSchedCancelPayments(c,b){var a=confirm("Are you sure you want to cancel this Payment?");if(a==true){document.forms[0].eventName.value=c;document.forms[0].paymentId.value=b;document.forms[0].submit()}}function setActionForCategory(a,b,c){document.forms[0].eventName.value=a;document.forms[0].categoryId.value=b;document.forms[0].actionId.value=c;if(c==2){if(!confirm("Are you sure you want to delete this category? ")){return}}Validate(a)}function setMarkPaid(a,b){if(confirm("The bill status cannot be reverted once set to marked paid.\n Are you sure you want to mark the bill as paid ?")==false){return}else{document.forms[0].eventName.value=a;document.forms[0].billId.value=b;document.forms[0].submit()}}function validatePayExactlyAndSubmit(b){var c=document.forms[0]["payExactly.amount"];var a=c.value;if(c.value!=null&&c.value!=""&&notZero(c.value)&&validateAmountWithoutAlerts(c)&&(getElementValue(document.forms[0]["selectedOption"])=="3")){StripDollar(c);StripComma(c);if(c.value>=10000&&c.value<=50000&&!confirm("Are you sure you want to make a payment in the amount of "+c.value+"?")){return}}document.forms[0]["payExactly.amount"].value=a;Validate(b)}function validateReportPayeeList(){var b=0;if(document.forms[0].payeeId!=null){if(document.forms[0].payeeId.length){for(var a=0;a<document.forms[0].payeeId.length;a++){if(document.forms[0].payeeId[a].checked){b++}}}else{if(document.forms[0].payeeId.checked){b++}}}return b!=0}function validateReportPaymentMethodList(){var b=0;if(document.forms[0].payMethodId!=null){if(document.forms[0].payMethodId.length){for(var a=0;a<document.forms[0].payMethodId.length;a++){if(document.forms[0].payMethodId[a].checked){b++}}}else{if(document.forms[0].payMethodId.checked){b++}}}return b!=0}function RemoveSpace(d){var a=getSubString(d.value," ");var c="";var b=0;for(b=0;b<(a.length-1);b++){if(a[b].length==0){continue}c=c+a[b]}c=c+a[b];d.value=c}function getSubString(f,d){var e=-1;var c=0;var b=new Array();b[0]="";var a=f.length;if(a==0){return b}while(e!=0){e=f.indexOf(d)+1;if(e!=0){b[c]=f.substring(0,e-1)}else{b[c]=f;return(b)}f=f.substring(e,f.length);++c}return b}function setSortForOverView(a,b){document.forms[0].processedSortField.value=a;document.forms[0].processedSortAscending.value=b;document.forms[0].action="OverviewSort";document.forms[0].eventName.value="OverViewSortEvent";document.forms[0].repeatCall.value=false;document.forms[0].submit()}function setSortForPendingPayments(d,e,g,b){var a="sort["+b+"].sortKey";var f="sort["+b+"].ascending";var c="sort["+b+"].fundingAccountId";for(i=0;i<document.forms[0].elements.length;i++){if(document.forms[0].elements[i].name==a){document.forms[0].elements[i].value=d}if(document.forms[0].elements[i].name==f){document.forms[0].elements[i].value=e}if(document.forms[0].elements[i].name==c){document.forms[0].elements[i].value=g}}document.forms[0].action=document.forms[0].action+"#"+g;document.forms[0].submit()}function setSortForProcessedPayments(a,b){document.forms[0].processedSortField.value=a;document.forms[0].processedSortAscending.value=b;document.forms[0].action=document.forms[0].action+"#processedPayments";document.forms[0].submit()}function DeletePayment(a){document.forms[0].elements[a].value="true";document.forms[0].eventName.value="DeletePaymentEvent";document.forms[0].submit()}function DisplayMakePayment(b,a){if(!a){document.forms[0].eventName.value=b;document.forms[0].submit()}else{document.getElementById(a).eventName.value=b;document.getElementById(a).submit()}}function ForwardToEvent(a){document.forms[0].eventName.value=a;document.forms[0].submit()}function billDetailsOpenURL(b,a,c){if(a!=""){b=b+"?"+a+"="+c}window.returnValue=c;openLargeOffsetWindow(b,"BillDetails")}function initLoad(a){if(a==2){alert("To edit this single payment, please enter changes.\nTo edit the entire automatic (recurring) payment series, select the Payees tab at the top of the screen, then click on the payee name.")}}var nWins=1;var wins=new makeWinArray(null);function makeWinArray(b){this.length=nWins;for(var a=0;a<nWins;a++){this[a]=b}return this}function openURL(k,g,e,b,l,n,j){var h=openURL.arguments;var d=openURL.arguments.length;var m=(d>3)?h[3]:640;var a=(d>4)?h[4]:480;var n=(d>5)?h[5]:200;var j=(d>6)?h[6]:200;var f=",menubar=no,status=no";var c="scrollbars=no, titlebar=yes, personalbar=no, toolbar=no, location=no, directories=no, menubar=no, status=no, resizable=yes, width="+m+", height="+a+", screenX="+n+", screenY="+j+", left="+n+", top="+j;if((wins[k]==null)||(wins[k].closed)){wins[k]=window.open(g,e,c)}else{wins[k].close();wins[k]=window.open(g,e,c);wins[k].focus()}}function openHelpWindow(a){help_window=window.open(a,"Help","menubar,width=500,height=350,scrollbars,resizable");help_window.focus()}function openMediumWindow(a,b){help_window=window.open(a,b,"menubar,width=500,height=350,scrollbars,resizable");help_window.focus()}function openLargeWindow(a,b){help_window=window.open(a,b,"toolbar,width=700,height=400,scrollbars,resizable");help_window.focus()}function openLargeOffsetWindow(a,b){help_window=window.open(a,b,"screenX=200,screenY=200,left=200,top=200,toolbar,width=700,height=400,scrollbars,resizable,menubar");help_window.focus()}function validateQuickPickSelect(c){var a=false;var b=document.forms[0].elements;for(i=0;i<b.length;i++){var d=b[i];if(d.name.indexOf("bean")>=0){if(d.checked){a=true;break}}}if(a){Validate(c)}else{alert("Please select a payee");return false}}function openOverdraftText(a){var c="582";var n="330";var l="no";var d="yes";var f="yes";var m="no";var e="yes";var b=350;var h=300;var k="OverdraftProtection";var j="width="+c+", height="+n+", scrollbars="+l+", location="+m;var g=",  status="+f+", menubar="+d+", resizable="+e+", screenX="+b+", screenY="+h;overdraft=popWindow(a,k,j+g);overdraft.focus()}function popWindow(a,b,c){return window.open(a,b,c)}function notZero(d){tmp=d;if(d==0){return false}else{if(d.indexOf("$")!=-1){var c=tmp.indexOf("$");var a=tmp.lastIndexOf("$");if(a>c){return true}var b=d.substring(a+1);if(b.indexOf("$")!=-1){return true}else{if(b==0){return false}}return true}else{return true}}}function getElementValue(e){var ret;if(e){if(e.type==void (0)&&e.length>0){for(var i=0;i<e.length;i++){if(e[i].checked){ret=e[i].value;break}}}else{switch(e.type){case"select-one":case"select-multiple":with(e){ret=e.options[selectedIndex].value}break;case"checkbox":case"radio":if(e.checked){ret=e.value}break;default:ret=e.value}}}return ret}function regularPaymentSelected(a){var b="days-"+a;document.getElementById(b).readOnly=false;handleSDPClick(a)}function sameDayPaymentSelected(b,a){var c="days-"+b;document.getElementById(c).value=formatDate(sysdate);document.getElementById(c).readOnly=true;hideAll();if(!a){handleSDPClick(b)}}function sameDayPaymentSelectedSimple(a){var b="days-"+a;document.getElementById(b).readOnly=true;hideAll();handleSDPClick(a)}function regularPaymentSelectedSimple(a){var b="days-"+a;document.getElementById(b).readOnly=false;handleSDPClick(a)}function disableSDPRadioButtonIfCreditCard(e,f){if(f!=0){var d=pmIdMap[e]["X"+f].pmTypId;var c=document.getElementById("bean["+e+"].sdpBlrId").value;if(c>0){var b="bean["+e+"].sameDayPayment";if(d>0){document.getElementsByName(b)[0].checked=true;var a=document.getElementById("days-"+e);a.disabled=false;a.readOnly=false;regularPaymentSelected(e);document.getElementsByName(b)[1].disabled=true}else{if(d==0){document.getElementsByName(b)[1].disabled=false}}}}}function processNonDDAAccts(){for(var a=0;a<nonDDAMap.length;a++){if(nonDDAMap[a]){disableSDPRadioButtonIfCreditCard(a,nonDDAMap[a].pmId)}}}function checkAllEBFM(){var b=document.forms[0].checked.length;if(b!=null){for(var a=0;a<b;a++){document.forms[0].checked[a].checked=true}}else{document.forms[0].checked.checked=true}}function uncheckAllEBFM(){var b=document.forms[0].checked.length;if(b!=null){for(var a=0;a<b;a++){document.forms[0].checked[a].checked=false}}else{document.forms[0].checked.checked=false}}function expandInvestCheckAccount(c){var b=expandMini(c,"investchk");var e=document.getElementById("invest_btn_on");var d=document.getElementById("invest_btn_off");if(b){e.style.display="none";d.style.display="inline";var a=document.getElementById("instruction").innerHTML;if(!miniInvestBalanceExpanded&&moreInvestCheckNotShown==true){document.getElementById("expandedInstruction").style.display="inline"}miniInvestBalanceExpanded=true}else{colapseMini(c,"investchk");e.style.display="inline";d.style.display="none";document.getElementById("investCheckingTitle").title="Cash Command Accounts. Display more below."}}function expandMiniCheckAccount(c){var b=expandMini(c,"checking");var e=document.getElementById("chk_btn_on");var d=document.getElementById("chk_btn_off");if(b){e.style.display="none";d.style.display="inline";var a=document.getElementById("instruction").innerHTML;if(!miniBalanceExpanded&&!miniCreditBalanceExpanded&&moreCheckingNotShown==true){document.getElementById("expandedInstruction").style.display="inline"}miniBalanceExpanded=true}else{colapseMini(c,"checking");e.style.display="inline";d.style.display="none";document.getElementById("checkingTitle").title="Checking Accounts. Display more below."}}function expandMiniCreditAccount(c,b,a){var g=expandMini(c,"credit");var f=expandMini(b,"loc");var h=expandMini(a,"homeeq");var j=(g||f||h);var e=document.getElementById("credit_btn_on");var d=document.getElementById("credit_btn_off");if(j){e.style.display="none";d.style.display="inline";document.getElementById("creditTitle").title="Credit Accounts. Display fewer below."}else{colapseMini(c,"credit");colapseMini(b,"loc");colapseMini(a,"homeeq");e.style.display="inline";d.style.display="none";document.getElementById("creditTitle").title="Credit Accounts. Display more below."}}function expandMini(b,f){var e=navigator.userAgent;var d=(e.indexOf("MSIE")>-1)?true:false;var a=false;b++;for(i=1;i<b;i++){var c=document.getElementById(f+i);if(c.style.display=="none"){if(d){c.style.display="block"}else{c.style.display="table-row"}a=true}}return a}function colapseMini(a,c){a++;for(i=1;i<a;i++){var b=document.getElementById(c+i);if(b.getAttribute("hide")=="true"){b.style.display="none"}}}function chkBoxSetWritabilty(a,f,q,m){var l=window.event?window.event:a;var g=l.target?l.target:l.srcElement;var n=g.form[g.name];var k;for(var d=0;d<n.length;d++){if(n[d].checked){k=n[d].value;break}}var h;var e;if(k){if(k==q){e=true}else{if(k==f){e=false}}for(var b=3;b<arguments.length;b++){var p=g.form[arguments[b]];if(!p){continue}if(!p.name&&p.length){for(var c=0;c<p.length;c++){p[c].readOnly=e}}else{if(p.tagName=="INPUT"||p.tagName=="TEXTAREA"){h="readOnly"}else{if(p.tagName=="SELECT"){h="disabled"}}p[h]=e}}}}function greyOut(a,e){var j=window.event?window.event:a;var f=j.target?j.target:j.srcElement;var k=f.form[f.name];var b=f.form;var h;for(var c=0;c<k.length;c++){if(k[c].checked){h=k[c].value;break}}if(h==2){document.getElementById(e+".daysAfterEbillReceived").disabled=true;document.getElementById(e+".daysBeforeDue").disabled=false}if(h==5){document.getElementById(e+".daysAfterEbillReceived").disabled=false;document.getElementById(e+".daysBeforeDue").disabled=true}if(h==1){var g=document.getElementById(e+".daysBeforeDue");g.disabled=true;g=document.getElementById(e+".daysAfterEbillReceived");g.disabled=true}}function greyOut_exact(e,c){var a=window.event?window.event:e;var h=a.target?a.target:a.srcElement;var f=h.form[h.name];var d=h.form;var g;for(var b=0;b<f.length;b++){if(f[b].checked){g=f[b].value;break}}updateElementStatus(g)}function updateElementStatus(a){if(a==0){document.getElementById("payExactly.recurNumPayments").disabled=true;document.getElementById("payExactly.endDate").disabled=true;document.getElementById("calendarLink1").onclick=""}if(a==1){document.getElementById("payExactly.recurNumPayments").disabled=false;document.getElementById("payExactly.endDate").disabled=true;document.getElementById("calendarLink1").onclick=""}if(a==2){document.getElementById("payExactly.recurNumPayments").disabled=true;document.getElementById("payExactly.endDate").disabled=false;document.getElementById("calendarLink1").onclick=attachCalendar("payExactly.endDate","0","singleCalendar",3)}}function attachCalendar(a,d,c,b){return function(f){var e=window.event?window.event:f;launchCalendar(a,e,d,c,b)}}function replaceNode(a,b,c){if(document.replaceChild&&b){a.replaceChild(c,b)}else{window.alert("document.replaceChild not supported on this browser")}}function cloneNode(b,a){if(document.cloneNode){return b.cloneNode(a)}else{window.alert("document.cloneNode not supported on this browser")}}var tourWin=null;function openTourWin(){tourWin=window.open("https://www.wellsfargo.com/tour/overview","tourWin");tourWin.onbeforeunload=function(){if(opener&&!opener.closed){opener.tourWin=null}};return false}function paramOpenTourWin(a){tourWin=window.open(a,"tourWin");tourWin.onbeforeunload=function(){if(opener&&!opener.closed){opener.tourWin=null}};return false}function sdebugInit(){var a=document.getElementById("sidebar");a.innerHTML="<div>&nbsp;</div>"}function sdebug(b){var a=document.getElementById("sidebar");a.innerHTML=a.innerHTML+b+"<br><br>"}Array.prototype.iterate=function(b){for(var a=0;a<this.length;a++){b(this[a],a)}};Function.prototype.bind=function(b){var a=this;return function(){return a.apply(b,arguments)}};if(!Array.prototype.each){Array.prototype.each=Array.prototype.iterate}function findPos(a){var b=curtop=0;if(a.offsetParent){do{b+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent)}return[b,curtop]}function jscss(b,f,d,c){switch(b){case"swap":f.className=!jscss("check",f,d)?f.className.replace(c,d):f.className.replace(d,c);break;case"add":if(!jscss("check",f,d)){f.className+=f.className?" "+d:d}break;case"remove":var e=f.className.match(" "+d)?" "+d:d;f.className=f.className.replace(e,"");break;case"check":return new RegExp("\\b"+d+"\\b").test(f.className);break}}function hideError(){var a=document.getElementById("aboveError");if(a){a.innerHTML="";a.style.display="none"}}function showError(b){var c=document.getElementById("aboveError");if(c){c.style.display="";var a='<div class="shadedError" style="padding: 5px 10px 10px;"><img src="'+defaultContentPath+'/images/icons/error.gif" alt="Error" style="margin-right: 4px;" border="0">'+b+"</div>";c.innerHTML=a}}var BillPayCommon={restrictTabbing:function(a,b){a.data("tabElement",b).live("keydown",function(c){if(c.which==9&&c.shiftKey){c.preventDefault();$(this).data("tabElement").focus()}});b.data("tabElement",a).live("keydown",function(c){if(c.which==9&&!c.shiftKey){c.preventDefault();$(this).data("tabElement").focus()}})}};ContentLoader.prototype.objectToRequestString=function(a){var b="";for(var c in a){b=b+c+"="+escape(a[c])+"&"}return b};ContentLoader.prototype.send=function(b){var c=false;if(b){this.index=b.index;if(b.mpaId){this.mpaId=b.mpaId}}if(!this.callActive){this.httpRequester=this.getRequestObject();if(this.callback){this.httpRequester.onreadystatechange=this.callback}this.httpRequester.open(this.method,this.url,this.isAsync);if(this.headers){for(var a in this.headers){this.httpRequester.setRequestHeader(a,this.headers[a])}}this.callActive=true;c=this.httpRequester.send(this.objectToRequestString(b))}startCountdown();return c};ContentLoader.prototype.getStatus=function(){var a=-1;if(this.httpRequester){a=this.httpRequester.status}return a};ContentLoader.prototype.getResponse=function(){var a;if(this.httpRequester){a=this.httpRequester.responseText}return a};ContentLoader.prototype.getResponseXML=function(){var a;if(this.httpRequester){a=this.httpRequester.responseXML}return a};ContentLoader.prototype.getRequestObject=function(){var a;if(window.ActiveXObject){a=new window.ActiveXObject("Microsoft.XMLHTTP")}else{a=new window.XMLHttpRequest()}return a};function ContentLoader(a){if(a){this.url=a.url;this.method=a.method?a.method:"POST";this.callback=a.callback;this.isAsync=true;this.extra=a.extra;this.callActive=false;this.headers=a.headers;this.username=a.username;this.password=a.password;this.index=a.index}}paymentSummaryContentLoader;var currMemId;var currMpaId;var currIndex;function hideSummaryRows(){var d=document.getElementById("overviewTable");var e=d.getElementsByTagName("tbody");for(var a=0;a<e.length;a++){if(jscss("check",e[a],"topTable")){var c=e[a].getElementsByTagName("a");for(anchorIndex in c){if(c[anchorIndex]){if(jscss("check",c[anchorIndex],"hideDetailsLink")){jscss("swap",c[anchorIndex],"showDetailsLink","hideDetailsLink");c[anchorIndex].innerHTML="Show Payment Summary"}}}jscss("remove",e[a],"showDetails")}if(e[a].className=="bottomTable"){var b=e[a].getElementsByTagName("tr")[0];b.style.display="none"}}}function fetchPaymentSummary(a,b,g){var d=document.getElementById("pmtSummaryLoad"+paymentSummaryContentLoader.index);if(d){d.className="none";d.innerHTML=""}paymentSummaryContentLoader.mpaId=g;var h=document.getElementById("row"+a);var f=document.getElementById("showPaymentSummary"+a);var e=document.getElementById("paymentSummaryRow"+a);if(e.style.display==""){e.style.display="none";f.innerHTML="Show Payment Summary";f.title="Show Payment Summary";f.className="showDetailsLink";h.className="topTable";currIndex=null;currMemId=null;currMpaId=null}else{hideSummaryRows();var d=document.getElementById("pmtSummaryLoad"+a);d.className="loader";d.innerHTML="Loading ";var c=findPos(f);d.style.left=c[0]+140+"px";d.style.top=c[1]+1+"px";hideError();paymentSummaryContentLoader.send({memId:b,mpaId:g,index:a});currMemId=b;currMpaId=g;currIndex=a;jscss("add",h,"showDetails")}}var paymentSummaryContentLoader;paymentSummaryContentLoader=new ContentLoader({url:"../application/AjaxPaymentSummary",callback:cbPaymentSummaryLoad,headers:{"content-type":"application/x-www-form-urlencoded"}});function cbPaymentSummaryLoad(){var a;var c;if(paymentSummaryContentLoader.httpRequester.readyState==4){var j=document.getElementById("pmtSummaryLoad"+paymentSummaryContentLoader.index);j.className="none";j.innerHTML="";a=paymentSummaryContentLoader.getStatus();var f=document.getElementById("showPaymentSummary"+paymentSummaryContentLoader.index);if(a==200){c=paymentSummaryContentLoader.getResponse();var h=c.indexOf("session is no longer active")==-1?false:true;if(h){window.location=timeoutPage;return}var g=document.getElementById("bean["+paymentSummaryContentLoader.index+"].mpaId").value;showPaymentReminderForPayee(g,d)}else{if(a==500){e()}else{window.location=timeoutPage}}paymentSummaryContentLoader.callActive=false}function d(k){if(k){b()}else{e()}}function b(){var m=paymentSummaryContentLoader.index;var s=document.getElementById("showPaymentSummary"+m);var k=document.getElementById("remittanceAddress"+m);k.innerHTML=c;var q=document.getElementById("paymentSummaryRow"+m);q.style.display="";s.innerHTML="Hide Payment Summary";s.className="hideDetailsLink";s.title="Hide Payment Summary";var n=c.indexOf("duedate-");if(n>=0){var p=c.substr(n,50);var l=p.substr(p.indexOf(">")+1,10);ebillsduedateDB[paymentSummaryContentLoader.index]=l}$("a",$("#remittanceAddress"+m)).not(".skipConfirm").click(function(){if(navAwayConfirmRequired){return confirm("If you leave this page, none of the information you entered will be saved.")}else{return true}})}function e(){showError("The system is temporarily unable to load the payment summary. Please try again later.");var k="row"+(paymentSummaryContentLoader.index*1);var l=document.getElementById(k);jscss("remove",l,"showDetails");currIndex=null;f.innerHTML="Show Payment Summary"}}function showPaymentReminderForPayee(d,b){var a=new ContentLoader({url:"../application/AjaxShowPaymentsDue",callback:c,headers:{"content-type":"application/x-www-form-urlencoded"}});hideError();a.send();function c(){var e;var k;if(a.httpRequester.readyState==4){e=a.getStatus();if(e==200){k=a.getResponseXML();if(!k){window.location=timeoutPage;return}if(b){b(true)}var n=document.getElementById("spanDueReminder-"+d);if(n){n.innerHTML=""}var h=document.getElementById("divDueReminder-"+d);if(h){h.style.display="none"}var l=document.getElementById("paymentDueShow-"+d);if(l){l.style.display="none"}var p=document.getElementById("paymentDueHide-"+d);if(p){p.style.display=""}var g=k.getElementsByTagName("reminder");for(var j=0;j<g.length;j++){var m=g[j];var f=m.getAttribute("mpaid");if(f==d){renderReminder(m)}}}else{if(e==500){if(b){b(false)}}else{window.location=timeoutPage}}a.callActive=false}}}var dismissPaymentReminderContentLoader;dismissPaymentReminderContentLoader=new ContentLoader({url:"../application/AjaxDismissPaymentReminder",callback:cbDismissPaymentReminder,headers:{"content-type":"application/x-www-form-urlencoded"}});function cbDismissPaymentReminder(){var e;var c;if(dismissPaymentReminderContentLoader.httpRequester.readyState==4){e=dismissPaymentReminderContentLoader.getStatus();if(e==200){c=dismissPaymentReminderContentLoader.getResponseXML();if(!c){window.location=timeoutPage;return}var d=document.getElementById("summaryDue1-"+dismissPaymentReminderContentLoader.mpaId);if(d){d.innerHTML="No upcoming payment reminder at this time.<br/>"}var b=document.getElementById("summaryDue2-"+dismissPaymentReminderContentLoader.mpaId);if(b){b.style.display="none"}var a=document.getElementById("summaryDue3-"+dismissPaymentReminderContentLoader.mpaId);if(a){a.style.display="none"}showPaymentReminderForPayee(dismissPaymentReminderContentLoader.mpaId)}else{if(e==500){showError("The system is temporarily unable to dismiss the payment reminder.  Please try again later")}else{window.location=timeoutPage}}dismissPaymentReminderContentLoader.callActive=false}}function dismissPaymentReminder(a,b){hideError();dismissPaymentReminderContentLoader.send({mpaId:b,index:a})}var neverShowFtueContentLoader;neverShowFtueContentLoader=new ContentLoader({url:"../application/NeverShowFTUE",callback:cbNeverShowFTUE,headers:{"content-type":"application/x-www-form-urlencoded"}});function cbNeverShowFTUE(){var b;var a;if(neverShowFtueContentLoader.httpRequester.readyState==4){b=neverShowFtueContentLoader.getStatus();if(b==200){a=neverShowFtueContentLoader.getResponseXML();if(!a){window.location=timeoutPage;return}}else{if(b==500){showError("The system is temporarily unable to Update the system.  Please try again later")}else{window.location=timeoutPage}}neverShowFtueContentLoader.callActive=false}}function neverShowFTUE(){hideError();$("#ftueTopContainer").hide();neverShowFtueContentLoader.send()}var showPaymentsDueContentLoader;showPaymentsDueContentLoader=new ContentLoader({url:"../application/AjaxShowPaymentsDue",callback:cbShowPaymentsDue,headers:{"content-type":"application/x-www-form-urlencoded"}});function cbShowPaymentsDue(){var f;var e;if(showPaymentsDueContentLoader.httpRequester.readyState==4){document.getElementById("paymentsDueLoader").style.display="none";document.getElementById("paymentsDueOn").style.display="";f=showPaymentsDueContentLoader.getStatus();if(f==200){e=showPaymentsDueContentLoader.getResponseXML();if(!e){window.location=timeoutPage;return}var c=e.getElementsByTagName("reminder");var g=0;for(var d=0;d<c.length;d++){var a=c[d];if(renderReminder(a)){g++}}var b=document.getElementById("nRemindersFoundSpan");b.style.color="#739600";if(b){b.innerHTML=""+g+"&nbsp;payment"+(g!=1?"s":"")+" due found";b.style.display=""}}else{if(f==500){showError("The system is temporarily unable to load the payments that are due. Please try again later.");var b=document.getElementById("nRemindersFoundSpan");b.style.display="none";document.getElementById("paymentsDueLoader").style.display="none";document.getElementById("paymentsDueOn").style.display=""}else{window.location=timeoutPage}}showPaymentsDueContentLoader.callActive=false}}function renderReminder(h){var f=h.getAttribute("mpaid");var w=h.getAttribute("duedate");var d=h.getAttribute("ebillstatus");var b=document.getElementById("indexFromMpaId["+f+"]");if(!b){return false}if(d){if(b){if(b.value){ebillsduedateDB[b.value]=w}}}var p=new Object();p.options=new Array();if(d){var k=h.getAttribute("currentamount");if(k){var C=k.replace(",","").replace("$","")*1;C=C.toFixed(2)}var A=h.getAttribute("minamount");if(A){var a=A.replace(",","").replace("$","")*1;a=a.toFixed(2)}if(C>0){var c=new Object();c.dropDowndisplay="Amount due: "+k;c.display=C;c.value=C;p.options.push(c);if((C!=a)&&a!=undefined&&a!=""){if(a>0){var t=new Object();t.dropDowndisplay="Minimum due: "+A;t.display=a;t.value=a;p.options.push(t)}}}}else{var B=h.getAttribute("typicalamount");var m=document.getElementById("lastPaid_"+b.value);var v;var u=undefined;var x=undefined;if(B){v=B.replace(",","").replace("$","")*1;v=v.toFixed(2)}if(m){x=trim(m.innerHTML);u=x.replace(",","").replace("$","")*1;u=u.toFixed(2)}if(v!=""){var s=new Object();s.dropDowndisplay="Typical amount due: "+B;s.display=v;s.value=v;p.options.push(s)}if((v!=u)&&u!=undefined&&u!=""){var y=new Object();y.dropDowndisplay="Last paid: "+x;y.display=u;y.value=u;p.options.push(y)}}if(p.options.length==0){return false}if(trim(B)=="$"){p.options.splice(0,1)}var q=new Object();q.dropDowndisplay="Other amount";q.display="";q.value="";p.options.push(q);var n=document.getElementById("paymentAmount-"+f);n.innerHTML="";var z=document.getElementById("amt-"+b.value);if(!z){z=document.getElementById("sdpamt-"+b.value)}var j=new wfdropdown({dd:n,dataHolder:z,content:p,header:false,titleText:"Amount to Pay",shadow:true,menuClass:"overViewMenu",type:"selectbox",editable:true,arrowImage:defaultContentPath+"/images/icons/pulldownButtonSmall.gif",ariaText:"To change selection, hit Enter and Tab through your options. Hit Enter again to select, or Escape to cancel."});j.render();var g=document.getElementById("spanDueReminder-"+f);if(g){g.innerHTML="Due:&nbsp;"+w}var e=document.getElementById("divDueReminder-"+f);if(e){e.style.display=""}var D=document.getElementById("paymentDueShow-"+f);if(D){D.style.display=""}var l=document.getElementById("paymentDueHide-"+f);if(l){l.style.display="none"}return true}function showPaymentsDue(){var a=document.getElementById("nRemindersFoundSpan");a.style.display="";a.style.color="black";document.getElementById("paymentsDueLoader").style.display="";document.getElementById("paymentsDueOn").style.display="none";a.innerHTML="Loading";hideError();showPaymentsDueContentLoader.send();if(currIndex!=null&&currMemId!=null&&currMpaId!=null){fetchPaymentSummaryOpened(currIndex,currMemId,currMpaId)}}var pmtSummContentLoaderOnShowPmtDue;pmtSummContentLoaderOnShowPmtDue=new ContentLoader({url:"../application/AjaxPaymentSummary",callback:cbPmtSummContentLoaderOnShowPmtDue,headers:{"content-type":"application/x-www-form-urlencoded"}});function fetchPaymentSummaryOpened(a,b,f){var g=document.getElementById("row"+a);var e=document.getElementById("showPaymentSummary"+a);var d=document.getElementById("pmtSummaryLoad"+a);d.className="loader";d.innerHTML="Loading.. ";var c=findPos(e);d.style.left=c[0]+140+"px";d.style.top=c[1]+1+"px";hideError();pmtSummContentLoaderOnShowPmtDue.send({memId:b,mpaId:f,index:a});currMemId=b;currMpaId=f;currIndex=a;jscss("add",g,"showDetails")}function cbPmtSummContentLoaderOnShowPmtDue(){var a;var c;if(pmtSummContentLoaderOnShowPmtDue.httpRequester.readyState==4){var h=document.getElementById("pmtSummaryLoad"+pmtSummContentLoaderOnShowPmtDue.index);h.className="none";h.innerHTML="";a=pmtSummContentLoaderOnShowPmtDue.getStatus();if(a==200){c=pmtSummContentLoaderOnShowPmtDue.getResponse();var f=c.indexOf("session is no longer active")==-1?false:true;if(f){window.location=timeoutPage;return}var j=document.getElementById("remittanceAddress"+pmtSummContentLoaderOnShowPmtDue.index);j.innerHTML=c;var b=document.getElementById("paymentSummaryRow"+paymentSummaryContentLoader.index);b.style.display="";var e=c.indexOf("duedate-");if(e>=0){var d=c.substr(e,50);var g=d.substr(d.indexOf(">")+1,10);ebillsduedateDB[pmtSummContentLoaderOnShowPmtDue.index]=g}}else{if(a==500){}else{window.location=timeoutPage}}pmtSummContentLoaderOnShowPmtDue.callActive=false}}function findPos(a){var b=curtop=0;if(a.offsetParent){do{b+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent)}return[b,curtop]}function launchPopup(){if(splashName.length>0){showDialog(splashName,this,"800","")}}function closeSplash(a){return removeDialog(a)}function markEBillAsPaid(c,e,a){var b;b=new ContentLoader({url:"../application/AjaxMarkBillPaid",callback:d,headers:{"content-type":"application/x-www-form-urlencoded"}});hideError();b.send({memId:c,mpaId:e,billId:a});function d(){var g;var f;if(b.httpRequester.readyState==4){g=b.getStatus();if(g==200){f=b.getResponseXML();if(!f){window.location=timeoutPage;return}document.getElementById("ajaxPaymentDiv-"+e).innerHTML="<strong>Most Recent eBill:</strong>&nbsp;&nbsp;Mark Paid<br/>";showPaymentReminderForPayee(e)}else{if(g==500){showError("The system is temporarily unavailable to mark the eBill as paid. Please try again later.")}else{window.location=timeoutPage}}}}}function onFTUEHide(){if(($.trim($("#ftueToggleContent").text()))=="Hide"){$.get("../application/HideFTUE");$("#ftueContainerContent").hide();$("#ftueToggleContent").text("Show")}else{$.get("../application/ShowFTUE");$("#ftueContainerContent").show();$("#ftueToggleContent").text("Hide")}}function payeeDeleteValidate(a){if(confirm("Deleting this payee will cancel any pending payments, \nautomatic (recurring) series and electronic bills set up for this payee.  \nAre you sure you want to delete this payee?")){Validate(a)}}function stopValidate(a,b,d,e){if(e==3){var c="";if(d){c='The electronic billing and any automatic payment instructions for this bill will be cancelled immediately. To schedule any future payments, please select "Bill Pay Overview" from the Bill Pay menu.  Bill Pay will deliver any eBill received for this payee within 5 days of deactivation to ensure that you do not miss a statement but this will not affect cancellation. Your eBill Receipt Status will display "Activate eBills" again.'}else{c='We will send a notice to your payee to stop electronic billing.  Please note that any automatic payment instructions for this bill will be cancelled immediately.  To schedule any future payments, please select "Bill Pay Overview" from the Bill Pay menu.\nYou may continue to receive bills online until your payee confirms that electronic billing has been cancelled.  Your eBill Receipt Status will display "Pending Deactivation" until the confirmation is received.'}if(confirm(c)){document.forms[0].mpaId.value=b;document.forms[0].viewModeId.value=2;document.forms[0].eventName.value=a;Validate(a)}}}function setValuesForDollar(b,c,e,d,a){document.forms[0].mpaId.value=c;document.forms[0].billStatusId.value=d;if(d==0){document.forms[0].billId.value=e}else{document.forms[0].billId.value=""}document.forms[0].mostRecent.value=a;Validate(b)}function chkBoxClearRelatedField(d,f){var b=window.event?window.event:d;var e=b.target?b.target:b.srcElement;if(e.checked){for(var a=1;a<arguments.length;a++){var c=e.form[arguments[a]];if(c.tagName.toLowerCase()=="select"){c.selectedIndex=0}else{if(c.value){e.form[arguments[a]].value=""}}}}}function chkBoxSetWritabilty(a,e,n,k){var j=window.event?window.event:a;var f=j.target?j.target:j.srcElement;var l=f.form[f.name];var h;for(var c=0;c<l.length;c++){if(l[c].checked){h=l[c].value;break}}var g;var d;if(h){if(h==n){d=true}else{if(h==e){d=false}}for(var b=3;b<arguments.length;b++){var m=f.form[arguments[b]];if(!m){continue}if(m.tagName=="INPUT"){g="readOnly"}else{if(m.tagName=="SELECT"){g="disabled"}}m[g]=d}}}function chkBoxBlurRelatedField(d,g){var b=window.event?window.event:d;var f=b.target?b.target:b.srcElement;var c=f.form;var h=f.name;var e=document.getElementById(g);if(!e){return}if(!e.checked){if(f.options){for(var a=0;a<f.options.length;a++){if(f.options[a].defaultSelected){f.selectedIndex=a;break}}}e.focus();return false}else{return true}}function chkBoxRevertToDefaultValue(e){var b=window.event?window.event:e;var f=b.target?b.target:b.srcElement;var d=f.form;var g=f.name;var c;if(f.checked){for(var a=1;a<arguments.length;a++){c=d[arguments[a]];if(!c){continue}if(d[c.name+"_default"]){c.value=d[c.name+"_default"].value}else{c.value=c.defaultValue}}}return false}function updateFaxDisclaimer(a){var d=a.target?a.target:a.srcElement;if(document.getElementById){var c=document.getElementById("faxDisclaimer");if(c){var b=(d.id=="receiveCopyFax")?"":"none";c.style.display=(d.id=="receiveCopyFax")?"":"none"}}}isIE6forTipDisplay=navigator.userAgent.toLowerCase().indexOf("msie 6")!=-1;function Utility(){}Utility.findElementPosition=function(b){var c=0;var a=0;if(b.offsetParent){do{c+=b.offsetLeft;a+=b.offsetTop}while(b=b.offsetParent)}return[c,a]};Utility.getWindowWidth=function(){if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth}else{if(document.body&&document.body.clientWidth){return document.body.clientWidth}}};Utility.getWindowHeight=function(){if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight}else{if(document.body&&document.body.clientHeight){return document.body.clientHeight}}};function Tip(a){this.element=a;this.elementX=0;this.elementY=0;this.contentElement=document.getElementById(a.id+"Content");this.selectOverlap=new Array();this.classNamePrefix="c61";var b=this;a.onclick=function(c){if(Tip.stayOn==false){Tip.stayOn=true}return false};a.onmouseover=function(c){if(Tip.displayingTip!=null&&Tip.displayingTip!=b){Tip.displayingTip.hide()}if(Tip.stayOn==false){b.show(c)}};a.onmouseout=function(c){if(Tip.stayOn==false){b.hide()}};a.onkeydown=function(d){var c;if(document.all){c=window.event.keyCode}else{if(d.keyCode!=null||d.keyCode!="undefined"){c=d.keyCode}else{c=keypressed.which}}if(c==13&&Tip.stayOn==false){b.show(d);b.contentElement.tabIndex=0;b.contentElement.style.outline="none";b.contentElement.hideFocus=true;b.contentElement.focus();return false}}}Tip.setClassNamePrefix=function(a){this.classNamePrefix=a};Tip.stayOn=false;Tip.displayingTip=null;Tip.prototype.show=function(a){if(Tip.displayingTip!=null&&Tip.displayingTip!=this){Tip.displayingTip.hide()}this.contentElement.style.display="block";this.setPosition(a);Tip.displayingTip=this;this.setCloseLink()};Tip.prototype.hide=function(){Tip.stayOn=false;Tip.displayingTip=null;this.contentElement.style.display="none";this.contentElement.removeAttribute("tabIndex");if(isIE6forTipDisplay){for(var a=0;a<this.selectOverlap.length;a++){this.selectOverlap[a].style.visibility="visible";this.selectOverlap.pop()}}this.element.focus()};Tip.prototype.setCloseLink=function(){var a=this.contentElement;var c=this;function b(g){var f=g.childNodes.length;for(var e=0;e<f;e++){var d=g.childNodes[e];if(d.nodeType==1&&d.tagName=="A"&&d.className.indexOf(c.classNamePrefix+"Close")>-1){d.onclick=function(){c.hide();return false};break}b(d)}}b(this.contentElement)};Tip.prototype.setPosition=function(d){var h=Utility.findElementPosition(this.element);this.elementX=h[0];this.elementY=h[1];var g=0;var j=0;var f={x:"",y:""};if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){g=document.body.scrollTop;j=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){g=document.documentElement.scrollTop;j=document.documentElement.scrollLeft}}if(Math.abs(this.elementY-g)>(this.contentElement.offsetHeight+5)){this.contentElement.style.top=(this.elementY-this.contentElement.offsetHeight-5)+"px";f.y="top"}else{if(Math.abs(this.elementY-g)<(this.contentElement.offsetHeight+5)){this.contentElement.style.top=(this.elementY+this.element.offsetHeight+5)+"px";f.y="bottom"}}if(Math.abs(this.elementX-j)>(this.contentElement.offsetWidth-0)){this.contentElement.style.left=this.elementX-(this.contentElement.offsetWidth*3/4)+"px";f.x="left"}else{this.contentElement.style.left=this.elementX+"px";f.x="right"}if(f.y=="top"&&f.x=="left"){this.contentElement.className=this.classNamePrefix+"Content"}else{if(f.y=="top"&&f.x=="right"){this.contentElement.className=this.classNamePrefix+"Content "+this.classNamePrefix+"TopRight"}else{if(f.y=="bottom"&&f.x=="left"){this.contentElement.className=this.classNamePrefix+"Content "+this.classNamePrefix+"BottomLeft"}else{if(f.y=="bottom"&&f.x=="right"){this.contentElement.className=this.classNamePrefix+"Content "+this.classNamePrefix+"BottomRight"}}}}if(isIE6forTipDisplay){var c=document.getElementsByTagName("select");var l=c.length;var b=Utility.findElementPosition(this.contentElement);for(var a=0;a<l;a++){var k=Utility.findElementPosition(c[a]);if(k[0]>b[0]&&k[0]<(b[0]+this.contentElement.offsetHeight+g)){if(k[1]>b[1]&&k[1]<(b[1]+this.contentElement.offsetHeight)){this.selectOverlap.push(c[a])}}}for(var a=0;a<this.selectOverlap.length;a++){this.selectOverlap[a].style.visibility="hidden"}}};function allLinks(){var a=document.links;for(var b=0;b<a.length;b++){if(a[b].className.indexOf("childSmall")>-1||a[b].className.indexOf("childMedium")>-1||a[b].className.indexOf("childLarge")>-1||a[b].className.indexOf("custom")>-1){a[b].onclick=childLinkOnClick;if(a[b].title){a[b].title=a[b].title+" New window."}else{a[b].title=a[b].innerHTML+". New window."}}else{if(a[b].className.indexOf("c60tab")>-1){var c=new Tab(a[b].parentNode)}}if(a[b].className.indexOf("c61Link")>-1){var d=new Tip(a[b])}else{addEvent(a[b],"click",function(){if(Tip.stayOn!=null&&Tip.stayOn){Tip.displayingTip.hide()}})}}}function setDatesForTimeFrame(){var j=0;var a=1;var n=2;var v=3;var y=4;var f=5;var t=6;var w=7;var p=8;var h=9;var b=10;var k=11;var z=12;var g=13;var d=14;var u=17;var c=18;var m=19;var e=15;var x=16;var s=20;var q=document.getElementById("timeframe").value;var l=document.forms[0].sysDate.value;if(q==j){document.forms[0].fromDate.value=last30StartDate(l);document.forms[0].toDate.value=l}else{if(q==a){document.forms[0].fromDate.value=CurrentMonthStartDate(l);document.forms[0].toDate.value=l}else{if(q==n){document.forms[0].fromDate.value=CurrentQtrStartDate(l);document.forms[0].toDate.value=l}else{if(q==v){document.forms[0].fromDate.value=CurrentYearStartDate(l);document.forms[0].toDate.value=l}else{if(q==y){document.forms[0].fromDate.value=CurrentMonthStartDate(l);document.forms[0].toDate.value=CurrentMonthEndDate(l)}else{if(q==s){document.forms[0].fromDate.value=NextMonthStartDate(l);document.forms[0].toDate.value=NextMonthEndDate(l)}else{if(q==f){document.forms[0].fromDate.value=CurrentQtrStartDate(l);document.forms[0].toDate.value=CurrentQtrEndDate(l)}else{if(q==t){document.forms[0].fromDate.value=CurrentYearStartDate(l);document.forms[0].toDate.value=CurrentYearEndDate(l)}else{if(q==w){document.forms[0].fromDate.value=CurrentWeekStartDate(l);document.forms[0].toDate.value=CurrentWeekEndDate(l)}else{if(q==p){document.forms[0].fromDate.value=NextWeekStartDate(l);document.forms[0].toDate.value=NextWeekEndDate(l)}else{if(q==h){document.forms[0].fromDate.value=l;document.forms[0].toDate.value=Next15EndDate(l)}else{if(q==b){document.forms[0].fromDate.value=l;document.forms[0].toDate.value=Next30EndDate(l)}else{if(q==k){document.forms[0].fromDate.value=lastMonthStartDate(l);document.forms[0].toDate.value=lastMonthEndDate(l)}else{if(q==z){document.forms[0].fromDate.value=lastQuarterStartDate(l);document.forms[0].toDate.value=lastQuarterEndDate(l)}else{if(q==g){document.forms[0].fromDate.value=lastYearStartDate(l);document.forms[0].toDate.value=lastYearEndDate(l)}else{if(q==u){document.forms[0].fromDate.value=last6MonStartDate(l);document.forms[0].toDate.value=l}else{if(q==d){document.forms[0].fromDate.value=last12MonStartDate(l);document.forms[0].toDate.value=l}else{if(q==c){document.forms[0].fromDate.value=last16MonStartDate(l);document.forms[0].toDate.value=l}else{if(q==e){document.forms[0].fromDate.value="04/01/1998";document.forms[0].toDate.value=""}else{document.forms[0].fromDate.value="";document.forms[0].toDate.value=""}}}}}}}}}}}}}}}}}}}}function CurrentMonthEndDate(d){var e=new Date(d);e.setHours(0);e.setMinutes(0);e.setSeconds(0);var c=e.getMonth();var b=e.getFullYear();var f=getNumOfDaysInMonth(c+1,b);var a=getDateStr(c,f,b);return a}function CurrentMonthStartDate(c){var d=new Date(c);d.setHours(0);d.setMinutes(0);d.setSeconds(0);var b=d.getMonth();var a=d.getFullYear();return getDateStr(b,1,a)}function NextMonthStartDate(c){var d=new Date(c);d.setHours(0);d.setMinutes(0);d.setSeconds(0);var b=d.getMonth();var a=d.getFullYear();if(++b>11){b=0;a++}return getDateStr(b,1,a)}function NextMonthEndDate(d){var e=new Date(d);e.setHours(0);e.setMinutes(0);e.setSeconds(0);var c=e.getMonth();var b=e.getFullYear();if(++c>11){c=0;b++}var f=getNumOfDaysInMonth(c+1,b);var a=getDateStr(c,f,b);return a}function CurrentQtrEndDate(e){var d=new Date(e);d.setHours(0);d.setMinutes(0);d.setSeconds(0);var c=d.getMonth();var b=d.getFullYear();var a;if(c<3){a=2}else{if(c>=3&&c<=6){a=5}else{if(c>6&&c<=9){a=8}else{a=11}}}return getDateStr(a,getNumOfDaysInMonth(a+1,b),b)}function CurrentQtrStartDate(e){var d=new Date(e);d.setHours(1);d.setMinutes(0);d.setSeconds(0);var c=d.getMonth();var b=d.getFullYear();var a;if(c<3){a=0}else{if(c>=3&&c<=6){a=3}else{if(c>6&&c<=9){a=6}else{a=9}}}return getDateStr(a,1,b)}function CurrentWeekEndDate(k){var d=new Date(k);d.setHours(0);d.setMinutes(0);d.setSeconds(0);var e=d.getTime();var b=d.getDate();var c=d.getMonth();var g=d.getFullYear();var h=d.getDay();var f=(6-h);var a=(f*24*60*60)*1000;var j=new Date(e+a);return getDateStr(j.getMonth(),j.getDate(),j.getFullYear())}function CurrentWeekStartDate(j){var d=new Date(j);d.setHours(1);d.setMinutes(0);d.setSeconds(0);var e=d.getTime();var b=d.getDate();var c=d.getMonth();var f=d.getFullYear();var g=d.getDay();var a=(g*24*60*60)*1000;var h=new Date(e-a);return getDateStr(h.getMonth(),h.getDate(),h.getFullYear())}function CurrentYearStartDate(c){var b=new Date(c);b.setHours(0);b.setMinutes(0);b.setSeconds(0);var a=b.getFullYear();return getDateStr(0,1,a)}function CurrentYearEndDate(c){var b=new Date(c);b.setHours(0);b.setMinutes(0);b.setSeconds(0);var a=b.getFullYear();return getDateStr(11,31,a)}function last30StartDate(e){var c=new Date(e);c.setHours(0);c.setMinutes(0);c.setSeconds(0);var b=c.getTime();var d=30*24*3600*1000;var a=new Date(b-d);return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function last12MonStartDate(f){var e=new Date(f);e.setHours(0);e.setMinutes(0);e.setSeconds(0);var d=e.getFullYear();var c=e.getMonth();var b=e.getDate();var a="";if((d%4)==0){if((d%100)==0){if((d%400)==0){if(b==29&&c==1){a=getDateStr(1,28,d-1)}else{a=getDateStr(c,b,d-1)}}}else{if(b==29&&c==1){a=getDateStr(1,28,d-1)}else{a=getDateStr(c,b,d-1)}}}else{a=getDateStr(c,b,d-1)}return a}function lastMonthEndDate(f){var e=new Date(f);e.setHours(0);e.setMinutes(0);e.setSeconds(0);var a=e.getTime();var b=e.getDate();var d=e.getMonth();var c=e.getFullYear();if(d==0){d=11;c=c-1}else{d=d-1}return getDateStr(d,getNumOfDaysInMonth(d+1,c),c)}function lastMonthStartDate(f){var e=new Date(f);e.setHours(0);e.setMinutes(0);e.setSeconds(0);var a=e.getTime();var b=e.getDate();var d=e.getMonth();var c=e.getFullYear();if(d==0){d=11;c=c-1}else{d=d-1}return getDateStr(d,1,c)}function lastQuarterEndDate(g){var f=new Date(g);f.setHours(0);f.setMinutes(0);f.setSeconds(0);var b=f.getTime();var c=f.getDate();var e=f.getMonth();var d=f.getFullYear();var a;if(e<=3){a=11;d=d-1}else{if(e>3&&e<=6){a=2}else{if(e>6&&e<=9){a=5}else{a=8}}}return getDateStr(a,getNumOfDaysInMonth(a+1,d),d)}function lastQuarterStartDate(g){var f=new Date(g);f.setHours(0);f.setMinutes(0);f.setSeconds(0);var b=f.getTime();var c=f.getDate();var e=f.getMonth();var d=f.getFullYear();var a;if(e<=3){a=9;d=d-1}else{if(e>3&&e<=6){a=0}else{if(e>6&&e<=9){a=3}else{a=6}}}return getDateStr(a,1,d)}function lastYearStartDate(e){var d=new Date(e);d.setHours(0);d.setMinutes(0);d.setSeconds(0);var b=d.getTime();var c=d.getFullYear();var a;return getDateStr(0,1,c-1)}function lastYearEndDate(e){var d=new Date(e);d.setHours(0);d.setMinutes(0);d.setSeconds(0);var b=d.getTime();var c=d.getFullYear();var a;return getDateStr(11,31,c-1)}function Next15EndDate(e){var c=new Date(e);c.setHours(0);c.setMinutes(0);c.setSeconds(0);var b=c.getTime();var d=15*24*3600*1000;var a=new Date(b+d);return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function Next30EndDate(e){var c=new Date(e);c.setHours(0);c.setMinutes(0);c.setSeconds(0);var b=c.getTime();var d=30*24*3600*1000;var a=new Date(b+d);return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function NextWeekEndDate(h){var d=7*24*3600*1000;var g=new Date(h);g.setHours(0);g.setMinutes(0);g.setSeconds(0);var c=g.getTime();var b=g.getDay();var e=(6-b);var f=(e*24*60*60)*1000;var a=new Date(c+d+f);return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function NextWeekStartDate(h){var g=new Date(h);g.setHours(0);g.setMinutes(0);g.setSeconds(0);var d=g.getTime();var c=g.getDay();var e=(6-c);var f=(e*24*60*60)*1000;var b=24*60*60*1000;var a=new Date(d+b+f);return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function last16MonStartDate(b){var c=new Date(b);var a=new Date(c.setMonth(c.getMonth()-16));return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function last6MonStartDate(b){var c=new Date(b);var a=new Date(c.setMonth(c.getMonth()-6));return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function last12MonStartDate(b){var c=new Date(b);var a=new Date(c.setMonth(c.getMonth()-12));return getDateStr(a.getMonth(),a.getDate(),a.getFullYear())}function getDateStr(d,b,c){var a;if(d<9){d=d+1;if(b<10){a="0"+d+"/0"+b+"/"+c}else{a="0"+d+"/"+b+"/"+c}}else{if(b<10){a=d+1+"/0"+b+"/"+c}else{a=d+1+"/"+b+"/"+c}}return a}function checkAll(a){if(a=="Payee"){if(document.forms[0].payeeId!=null){if(document.forms[0].payeeId.length){for(i=0;i<document.forms[0].payeeId.length;i++){document.forms[0].payeeId[i].checked=true}}else{document.forms[0].payeeId.checked=true}}}if(a=="PayMethod"){if(document.forms[0].payMethodId!=null){if(document.forms[0].payMethodId.length){for(i=0;i<document.forms[0].payMethodId.length;i++){document.forms[0].payMethodId[i].checked=true}}else{document.forms[0].payMethodId.checked=true}}else{if(!validateReportPayeeList()){alert("Please include at least one payee");return}if(!validateReportPaymentMethodList()){alert("Please include at least one payment method");return}}}}function uncheckAll(a){if(a=="Payee"){if(document.forms[0].payeeId!=null){if(document.forms[0].payeeId.length){for(i=0;i<document.forms[0].payeeId.length;i++){document.forms[0].payeeId[i].checked=false}}else{document.forms[0].payeeId.checked=false}}}if(a=="PayMethod"){if(document.forms[0].payMethodId!=null){if(document.forms[0].payMethodId.length){for(i=0;i<document.forms[0].payMethodId.length;i++){document.forms[0].payMethodId[i].checked=false}}else{document.forms[0].payMethodId.checked=false}}else{if(!validateReportPayeeList()){alert("Please include at least one payee");return}if(!validateReportPaymentMethodList()){alert("Please include at least one payment method");return}}}}function setTimeFrameStatus(){if(document.forms[0].reportId.value!=-999){document.forms[0].timeframe.style.display="none";document.getElementById("spanLabelTimeFrame").style.display="none"}else{document.forms[0].timeframe.style.display="inline";document.getElementById("timeframe").value=17;setDatesForTimeFrame();document.getElementById("spanLabelTimeFrame").style.display="inline"}}function ValidateDeleteReport(a){if(document.forms[0].reportId.value==-999){alert("This report has not been created and cannot be deleted");return}if(confirm("Are you sure you want to delete the report?")){document.forms[0].eventName.value=a;document.forms[0].submit()}}function getNumOfDaysInMonth(b,a){var c=(31,30,29,28);if(b==2){if((a%400==0)||((a%4==0)&&(a%100!=0))){return 29}else{return 28}}else{if((b<8&&b%2!=0)||(b>7&&b%2==0)){return 31}else{return 30}}}var pageMask;var dialogBoxes=new Array();function getScrollXY(){var b=0,a=0;if(typeof(window.pageYOffset)==="number"){a=window.pageYOffset;b=window.pageXOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollTop;b=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollTop;b=document.documentElement.scrollLeft}}}return[b,a]}function getWinSize(){var b=0,a=0;if(typeof(window.innerWidth)==="number"){b=window.innerWidth;a=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientWidth;a=document.documentElement.clientHeight}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientWidth;a=document.body.clientHeight}}}return[b,a]}function applyMask(){var b=getWinSize();var a=getScrollXY();this.bdy=document.getElementsByTagName("body");this.bg=document.createElement("div");this.bg.className="whiteTranslucentBG";this.bg.style.width=b[0]+a[0]-1+"px";this.bg.style.height=b[1]+a[1]-1+"px";this.bdy[0].appendChild(this.bg)}Dialog.prototype.positionBox=function(){var b=getWinSize();var a=getScrollXY();if(a[0]>0||this.container.offsetWidth>b[0]){this.container.style.left=0+"px"}else{this.container.style.left=((a[0]+b[0])-this.container.offsetWidth)/2+"px"}this.container.style.top=((a[1]+b[1])-this.container.offsetHeight)/2>=0?((a[1]+b[1])-this.container.offsetHeight)/2+"px":10+"px";this.coords=findPos(this.container);this.attachShim();this.addShadow()};Dialog.prototype.attachShim=function(){this.shim=document.createElement("iframe");this.shim.src='javascript:"";';this.shim.frameBorder="0";this.shim.className="transparent";this.shim.style.height=this.container.offsetHeight+"px";this.shim.style.width=this.container.offsetWidth+"px";this.shim.style.left=this.coords[0]+"px";this.shim.style.top=this.coords[1]+"px";document.getElementsByTagName("body")[0].appendChild(this.shim)};Dialog.prototype.addShadow=function(){var a=null;if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=new Number(RegExp.$1)}if(a===null||a>6){var b=5;var c=5;this.shadow=document.createElement("div");this.shadow.className="dialogDropShadow";this.shadow.style.height=this.container.offsetHeight+"px";this.shadow.style.width=this.container.offsetWidth+"px";document.getElementsByTagName("body")[0].appendChild(this.shadow);this.shadow.style.left=(this.coords[0]+c)+"px";this.shadow.style.top=(this.coords[1]+b)+"px";this.shadow.style.display=""}};Dialog.prototype.setFocus=function(){this.container.getElementsByTagName("*")[0].tabIndex=0;this.container.getElementsByTagName("*")[0].focus();this.container.getElementsByTagName("*")[0].style.outline="none"};function Dialog(c,b,a,d){this.shadow=null;this.coords=null;this.shim=null;this.name=c;var b=b||window.event;if(b.target){this.trigger=b.target}else{if(b.srcElement){this.trigger=b.srcElement}else{this.trigger=b}}this.bdy=document.getElementsByTagName("body");this.container=document.getElementById(c);this.container.className="dialogBox";if(a!=""&&a!=null){this.container.style.width=a+"px"}if(d!=""&&d!=null){this.container.style.height=d+"px"}document.getElementById(c).style.display="block";this.bdy[0].appendChild(this.container)}function lookForDialogBox(b){for(var a=0;a<dialogBoxes.length;a++){if(dialogBoxes[a].name==b){return a}}return -1}function showDialog(e,d,c,f){if(e!=null){pageMask=new applyMask()}this.dialog=e;var a=lookForDialogBox(e);if(a<0){var b=new Dialog(e,d,c,f);window.onresize=function(){pageMask.bg.style.width=getWinSize()[0]+getScrollXY()[0]+"px";pageMask.bg.style.height=getWinSize()[1]+getScrollXY()[1]+"px"};window.onscroll=function(){pageMask.bg.style.width=getWinSize()[0]+getScrollXY()[0]+"px";pageMask.bg.style.height=getWinSize()[1]+getScrollXY()[1]+"px"};dialogBoxes[dialogBoxes.length]=b;b.positionBox();b.setFocus()}else{dialogBoxes[a].container.style.display="block";dialogBoxes[a].positionBox();dialogBoxes[a].setFocus()}}removeDialog=function(b){var a=lookForDialogBox(b);if(pageMask!=null){pageMask.bdy[0].removeChild(pageMask.bg)}dialogBoxes[a].container.style.display="none";if(dialogBoxes[a].shadow!=null){document.getElementsByTagName("body")[0].removeChild(dialogBoxes[a].shadow)}if(dialogBoxes[a].shim!=null){document.getElementsByTagName("body")[0].removeChild(dialogBoxes[a].shim)}if(dialogBoxes[a].trigger.nodeName){dialogBoxes[a].trigger.tabIndex=0;dialogBoxes[a].trigger.style.outline="none";dialogBoxes[a].trigger.focus()}};if(typeof console=="undefined"){var console={log:function(){}}}var wfdOpenMenu;var wfddIndex=0;function wfdropdown(config){var _config=config;var _menuDivAttached=false;var _dataHolder;var _menuDiv;var _shadowDiv;var _displayDiv;var _displayTextDiv;var _displayInput;var _arrowDiv;var _arrowHref;var _placeHolderDiv;var _instanceIndex=wfddIndex++;var _closeFlag=false;var DEFAULT_TITLE="Select One";var DEFAULT_ARIATEXT="To change selection, hit Enter and Tab through your options. Hit Enter again to select, or Escape to cancel.";var _onSelect=null;var TAB_KEY=9;var ESCAPE_KEY=27;this.render=function(){_placeHolderDiv=_config.dd;_dataHolder=_config.dataHolder;_placeHolderDiv.className="wfdDropDown";_placeHolderDiv.index=_instanceIndex;var content=_config.content;if(_config.onSelect){_onSelect=_config.onSelect}renderMultiItem()};function renderShadow(){var offsetH=3;var offsetW=3;var coords=findPos(_placeHolderDiv);var offset=_displayInput?_displayInput.clientHeight+7:16;_shadowDiv.className="wfdShadow";_shadowDiv.style.height=_menuDiv.offsetHeight+"px";_shadowDiv.style.width=_menuDiv.offsetWidth+"px";_shadowDiv.style.left=(coords[0]+offsetW)+"px";_shadowDiv.style.top=(coords[1]+offset+offsetH)+"px";_shadowDiv.style.display=""}function renderMultiItem(){var content=_config.content;_displayDiv=document.createElement("div");_displayDiv.className="wfdDisplay";_displayTextDiv=document.createElement("div");_displayTextDiv.className="wfdDisplayText";_menuDiv=document.createElement("div");_menuDiv.className="wfdMenu";if(_config.menuClass){_menuDiv.className=_menuDiv.className+" "+_config.menuClass}_menuDiv.style.display="none";_menuDiv.onkeyup=checkKeys;if(_config.type=="linkbox"){var captionLink=document.createElement("a");captionLink.href="javascript:void(0);";captionLink.onclick=showMenu;captionLink.appendChild(document.createTextNode(_config.caption));captionLink.className="optionsLink";_displayTextDiv.appendChild(captionLink);_displayDiv.appendChild(_displayTextDiv)}if(_config.type=="selectbox"){var displayText="";for(var optIndex in content.options){var display=content.options[optIndex].display;var selected=content.options[optIndex].selected;if(selected){displayText=display}}_displayInput=document.createElement("input");_displayInput.type="text";_displayInput.title=_config.titleText;_displayInput.value=displayText;_displayDiv.appendChild(_displayInput);if(!_config.editable){_displayInput.readOnly="readonly"}else{_displayInput.value=_dataHolder.value;if(_displayInput.addEventListener){_displayInput.addEventListener("change",onTextChange,true)}else{_displayInput.attachEvent("onchange",onTextChange)}}}_arrowDiv=document.createElement("div");_arrowDiv.className="wfdArrow";_arrowHref=document.createElement("a");_arrowHref.className="skipConfirm";_arrowHref.href="javascript:void(0);";_arrowHref.onclick=showMenu;var arrowImage=document.createElement("img");arrowImage.src=_config.arrowImage;if(undefined!=_config.imgAltText){arrowImage.setAttribute("alt",_config.imgAltText)}_arrowHref.appendChild(arrowImage);_arrowDiv.appendChild(_arrowHref);var ariaTextElement=document.createElement("span");var ariaText=_config.ariaText?_config.ariaText:DEFAULT_ARIATEXT;ariaTextElement.appendChild(document.createTextNode(ariaText));ariaTextElement.className="wfdAriaText";_arrowDiv.appendChild(ariaTextElement);_placeHolderDiv.appendChild(_displayDiv);_placeHolderDiv.appendChild(_arrowDiv);if(_config.shadow){_shadowDiv=document.createElement("div");_placeHolderDiv.appendChild(_shadowDiv)}}function showMenu(){if(!_menuDivAttached){document.body.appendChild(_menuDiv);_menuDivAttached=true}var content=_config.content;_menuDiv.innerHTML="";var startMarker=document.createElement("div");var startMarkerHref=document.createElement("a");startMarkerHref.href="javascript:void(0)";startMarkerHref.index=-1;var image=document.createElement("img");image.src=defaultContentPath+"/images/s.gif";startMarkerHref.appendChild(image);startMarker.appendChild(startMarkerHref);startMarker.style.height="0px";startMarker.style.overflow="hidden";_menuDiv.appendChild(startMarker);if(_config.header){var headerText=(_config.headerText==undefined)?DEFAULT_TITLE:_config.headerText;var header=document.createTextNode(headerText);var linkElementHref=document.createElement("a");linkElementHref.href="javascript:void(0)";linkElementHref.appendChild(header);linkElementHref.tabIndex=0;linkElementHref.index=0;linkElementHref.className="wfdTitle";_menuDiv.appendChild(linkElementHref)}var nameListMenu=document.createElement("div");var nameList=document.createElement("ul");var value,dropDowndisplay,display;for(var optIndex=0;optIndex<content.options.length;++optIndex){value=content.options[optIndex].value;dropDowndisplay=content.options[optIndex].dropDowndisplay;display=content.options[optIndex].display;var href=content.options[optIndex].href;var listElement=document.createElement("li");linkElementHref=document.createElement("a");if(href){linkElementHref.href=href}else{linkElementHref.href="javascript:void(0)"}linkElementHref.tabIndex=0;linkElementHref.index=optIndex*1+1;linkElementHref.appendChild(document.createTextNode(dropDowndisplay));listElement.appendChild(linkElementHref);if(_config.type!="linkBox"){listElement.onclick=populateBox(_displayTextDiv,display,value,_menuDiv)}nameList.appendChild(listElement)}nameListMenu.appendChild(nameList);_menuDiv.appendChild(nameListMenu);var endMarker=document.createElement("div");var endMarkerHref=document.createElement("a");var image=document.createElement("img");image.src=defaultContentPath+"/images/s.gif";endMarkerHref.appendChild(image);endMarkerHref.href="javascript:void(0)";endMarkerHref.index=9999;endMarker.appendChild(endMarkerHref);endMarker.style.height="0px";endMarker.style.overflow="hidden";_menuDiv.appendChild(endMarker);var coords=findPos(_placeHolderDiv);var offset=_displayInput?_displayInput.clientHeight+7:16;_menuDiv.style.left=coords[0]+"px";_menuDiv.style.top=coords[1]+offset+"px";_menuDiv.style.display="";var func=onPageClick(_menuDiv,_shadowDiv,_instanceIndex);if(_menuDiv.addEventListener){_menuDiv.addEventListener("mouseout",onMouseOut,true);_menuDiv.addEventListener("mouseover",onMouseOver,true);document.addEventListener("click",func,false);if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var ffversion=new Number(RegExp.$1);if(ffversion<=3.5){window.isListenerAddedNow=true}}}else{_menuDiv.attachEvent("onmouseout",onMouseOut);_menuDiv.attachEvent("onmouseover",onMouseOver);document.attachEvent("onclick",func)}if(_config.shadow){renderShadow()}setFocus(_menuDiv.getElementsByTagName("a")[1])}function handleEventForFF35OrLower(target){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var ffversion=new Number(RegExp.$1);if(ffversion<=3.5){var targetStr=target.valueOf().toString();if(window.isListenerAddedNow&&(((targetStr.indexOf(":validateSchedCancelPayments(")!=-1||targetStr.indexOf(":checkCancelRecurPayments(")!=-1)&&targetStr.indexOf("CancelPaymentEvent")!=-1)||(targetStr.indexOf(":editPayment(")!=-1&&targetStr.indexOf("EditPaymentEvent")!=-1))){eval(targetStr);window.isListenerAddedNow=false}}}}function onMouseOut(evt){var element;if(evt==null){evt=window.event}if(typeof(evt.target)!="undefined"){element=evt.target}else{element=evt.srcElement}if(_menuDiv.style.display==""){_closeFlag=true;closeMenu(_menuDiv)}return false}function onMouseOver(evt){_closeFlag=false}function onTextChange(evt){_dataHolder.value=_displayInput.value}function populateBox(displayDiv,displayText,value,_menuDiv){return function(){if(_config.type=="selectbox"){_displayInput.value=displayText;_dataHolder.value=value}_closeFlag=true;closeMenu(_menuDiv);setFocus(_arrowDiv.getElementsByTagName("a")[0]);if(_onSelect!=null){setTimeout(_onSelect,0)}}}function onPageClick(_menuDiv,_shadowDiv,_instanceIndex){var menuDiv=_menuDiv;var shadowDiv=_shadowDiv;var index=_instanceIndex;return function(e){var target=(e&&e.target)||(event&&event.srcElement);handleEventForFF35OrLower(target);if(!checkParent(e,target,index)){menuDiv.innerHTML="";menuDiv.style.display="none";shadowDiv.style.display="none"}};function checkParent(e,t,index){while(t.parentNode){if(t.className=="wfdDropDown"){if(t.index==index){return true}return false}t=t.parentNode}return false}}function checkKeys(evt){if(evt==null){evt=window.event}var src=evt.target||evt.srcElement;var keyCode=document.layers?evt.which:document.all?event.keyCode:document.getElementById?evt.keyCode:0;var hrefNodes=_menuDiv.getElementsByTagName("a");var hrefLength=hrefNodes.length;var listNodes=_menuDiv.getElementsByTagName("li");console.log(keyCode+"|"+src.index+"|"+hrefLength);if(keyCode==TAB_KEY){if(evt.shiftKey){if(src.index==-1){setFocus(hrefNodes[hrefLength-2])}}else{if(src.index==9999){setFocus(hrefNodes[1])}}}if(keyCode==ESCAPE_KEY){_closeFlag=true;closeMenu(_menuDiv);setFocus(_arrowHref)}}function findPos(obj){var curleft=curtop=0;if(obj.offsetParent){do{curleft+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent)}return[curleft,curtop]}function closeMenu(_menuDiv){if(_menuDiv==null){return}if(_menuDiv.style.display==""){var timer=setTimeout(clear,200)}function clear(){clearTimeout(timer);if(_closeFlag){_menuDiv.style.display="none";_menuDiv.innerHTML="";if(_shadowDiv){_shadowDiv.style.display="none"}}}}function setFocus(element){var timer;function focusElement(){clearTimeout(timer);element.focus()}timer=setTimeout(focusElement,2)}}var domReadyEvent={name:"domReadyEvent",events:{},domReadyID:1,bDone:false,DOMContentLoadedCustom:null,add:function(a){if(!a.$$domReadyID){a.$$domReadyID=this.domReadyID++;if(this.bDone){a()}this.events[a.$$domReadyID]=a}},remove:function(a){if(a.$$domReadyID){delete this.events[a.$$domReadyID]}},run:function(){if(this.bDone){return}this.bDone=true;for(var a in this.events){this.events[a]()}},schedule:function(){if(this.bDone){return}if(/KHTML|WebKit/i.test(navigator.userAgent)){if(/loaded|complete/.test(document.readyState)){this.run()}else{setTimeout(this.name+".schedule()",100)}}else{if(document.getElementById("__ie_onload")){return true}}if(typeof this.DOMContentLoadedCustom==="function"){if(typeof document.getElementsByTagName!=="undefined"&&(document.getElementsByTagName("body")[0]!==null||document.body!==null)){if(this.DOMContentLoadedCustom()){this.run()}else{setTimeout(this.name+".schedule()",250)}}}return true},init:function(){if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){domReadyEvent.run()},false)}setTimeout("domReadyEvent.schedule()",100);function run(){domReadyEvent.run()}if(typeof addEvent!=="undefined"){addEvent(window,"load",run)}else{if(document.addEventListener){document.addEventListener("load",run,false)}else{if(typeof window.onload==="function"){var oldonload=window.onload;window.onload=function(){domReadyEvent.run();oldonload()}}else{window.onload=run}}}
/*@cc_on
			@if (@_win32 || @_win64)
			document.write("<script id=__ie_onload defer src=\"//:\"><\/script>");
			var script = document.getElementById("__ie_onload");
			script.onreadystatechange = function() {
				if (this.readyState == "complete") {
					domReadyEvent.run(); // call the onload handler
				}
			};
			@end
		@*/
}};var domReady=function(a){domReadyEvent.add(a)};domReadyEvent.init();
/*!
 * jQuery JavaScript Library v1.6.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu May 12 15:04:36 2011 -0400
 */
(function(bf,O){var av=bf.document,bx=bf.navigator,bo=bf.location;var b=(function(){var bH=function(b1,b2){return new bH.fn.init(b1,b2,bF)},bW=bf.jQuery,bJ=bf.$,bF,b0=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bP=/\S/,bL=/^\s+/,bG=/\s+$/,bK=/\d/,bD=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bQ=/^[\],:{}\s]*$/,bY=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bS=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bM=/(?:^|:|,)(?:\s*\[)+/g,bB=/(webkit)[ \/]([\w.]+)/,bU=/(opera)(?:.*version)?[ \/]([\w.]+)/,bT=/(msie) ([\w.]+)/,bV=/(mozilla)(?:.*? rv:([\w.]+))?/,bZ=bx.userAgent,bX,bE,e,bO=Object.prototype.toString,bI=Object.prototype.hasOwnProperty,bC=Array.prototype.push,bN=Array.prototype.slice,bR=String.prototype.trim,by=Array.prototype.indexOf,bA={};bH.fn=bH.prototype={constructor:bH,init:function(b1,b5,b4){var b3,b6,b2,b7;if(!b1){return this}if(b1.nodeType){this.context=this[0]=b1;this.length=1;return this}if(b1==="body"&&!b5&&av.body){this.context=av;this[0]=av.body;this.selector=b1;this.length=1;return this}if(typeof b1==="string"){if(b1.charAt(0)==="<"&&b1.charAt(b1.length-1)===">"&&b1.length>=3){b3=[null,b1,null]}else{b3=b0.exec(b1)}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bH?b5[0]:b5;b7=(b5?b5.ownerDocument||b5:av);b2=bD.exec(b1);if(b2){if(bH.isPlainObject(b5)){b1=[av.createElement(b2[1])];bH.fn.attr.call(b1,b5,true)}else{b1=[b7.createElement(b2[1])]}}else{b2=bH.buildFragment([b3[1]],[b7]);b1=(b2.cacheable?bH.clone(b2.fragment):b2.fragment).childNodes}return bH.merge(this,b1)}else{b6=av.getElementById(b3[2]);if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(b1)}this.length=1;this[0]=b6}this.context=av;this.selector=b1;return this}}else{if(!b5||b5.jquery){return(b5||b4).find(b1)}else{return this.constructor(b5).find(b1)}}}else{if(bH.isFunction(b1)){return b4.ready(b1)}}if(b1.selector!==O){this.selector=b1.selector;this.context=b1.context}return bH.makeArray(b1,this)},selector:"",jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return bN.call(this,0)},get:function(b1){return b1==null?this.toArray():(b1<0?this[this.length+b1]:this[b1])},pushStack:function(b2,b4,b1){var b3=this.constructor();if(bH.isArray(b2)){bC.apply(b3,b2)}else{bH.merge(b3,b2)}b3.prevObject=this;b3.context=this.context;if(b4==="find"){b3.selector=this.selector+(this.selector?" ":"")+b1}else{if(b4){b3.selector=this.selector+"."+b4+"("+b1+")"}}return b3},each:function(b2,b1){return bH.each(this,b2,b1)},ready:function(b1){bH.bindReady();bE.done(b1);return this},eq:function(b1){return b1===-1?this.slice(b1):this.slice(b1,+b1+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bN.apply(this,arguments),"slice",bN.call(arguments).join(","))},map:function(b1){return this.pushStack(bH.map(this,function(b3,b2){return b1.call(b3,b2,b3)}))},end:function(){return this.prevObject||this.constructor(null)},push:bC,sort:[].sort,splice:[].splice};bH.fn.init.prototype=bH.fn;bH.extend=bH.fn.extend=function(){var ca,b3,b1,b2,b7,b8,b6=arguments[0]||{},b5=1,b4=arguments.length,b9=false;if(typeof b6==="boolean"){b9=b6;b6=arguments[1]||{};b5=2}if(typeof b6!=="object"&&!bH.isFunction(b6)){b6={}}if(b4===b5){b6=this;--b5}for(;b5<b4;b5++){if((ca=arguments[b5])!=null){for(b3 in ca){b1=b6[b3];b2=ca[b3];if(b6===b2){continue}if(b9&&b2&&(bH.isPlainObject(b2)||(b7=bH.isArray(b2)))){if(b7){b7=false;b8=b1&&bH.isArray(b1)?b1:[]}else{b8=b1&&bH.isPlainObject(b1)?b1:{}}b6[b3]=bH.extend(b9,b8,b2)}else{if(b2!==O){b6[b3]=b2}}}}}return b6};bH.extend({noConflict:function(b1){if(bf.$===bH){bf.$=bJ}if(b1&&bf.jQuery===bH){bf.jQuery=bW}return bH},isReady:false,readyWait:1,holdReady:function(b1){if(b1){bH.readyWait++}else{bH.ready(true)}},ready:function(b1){if((b1===true&&!--bH.readyWait)||(b1!==true&&!bH.isReady)){if(!av.body){return setTimeout(bH.ready,1)}bH.isReady=true;if(b1!==true&&--bH.readyWait>0){return}bE.resolveWith(av,[bH]);if(bH.fn.trigger){bH(av).trigger("ready").unbind("ready")}}},bindReady:function(){if(bE){return}bE=bH._Deferred();if(av.readyState==="complete"){return setTimeout(bH.ready,1)}if(av.addEventListener){av.addEventListener("DOMContentLoaded",e,false);bf.addEventListener("load",bH.ready,false)}else{if(av.attachEvent){av.attachEvent("onreadystatechange",e);bf.attachEvent("onload",bH.ready);var b1=false;try{b1=bf.frameElement==null}catch(b2){}if(av.documentElement.doScroll&&b1){bz()}}}},isFunction:function(b1){return bH.type(b1)==="function"},isArray:Array.isArray||function(b1){return bH.type(b1)==="array"},isWindow:function(b1){return b1&&typeof b1==="object"&&"setInterval" in b1},isNaN:function(b1){return b1==null||!bK.test(b1)||isNaN(b1)},type:function(b1){return b1==null?String(b1):bA[bO.call(b1)]||"object"},isPlainObject:function(b2){if(!b2||bH.type(b2)!=="object"||b2.nodeType||bH.isWindow(b2)){return false}if(b2.constructor&&!bI.call(b2,"constructor")&&!bI.call(b2.constructor.prototype,"isPrototypeOf")){return false}var b1;for(b1 in b2){}return b1===O||bI.call(b2,b1)},isEmptyObject:function(b2){for(var b1 in b2){return false}return true},error:function(b1){throw b1},parseJSON:function(b1){if(typeof b1!=="string"||!b1){return null}b1=bH.trim(b1);if(bf.JSON&&bf.JSON.parse){return bf.JSON.parse(b1)}if(bQ.test(b1.replace(bY,"@").replace(bS,"]").replace(bM,""))){return(new Function("return "+b1))()}bH.error("Invalid JSON: "+b1)},parseXML:function(b3,b1,b2){if(bf.DOMParser){b2=new DOMParser();b1=b2.parseFromString(b3,"text/xml")}else{b1=new ActiveXObject("Microsoft.XMLDOM");b1.async="false";b1.loadXML(b3)}b2=b1.documentElement;if(!b2||!b2.nodeName||b2.nodeName==="parsererror"){bH.error("Invalid XML: "+b3)}return b1},noop:function(){},globalEval:function(b1){if(b1&&bP.test(b1)){(bf.execScript||function(b2){bf["eval"].call(bf,b2)})(b1)}},nodeName:function(b2,b1){return b2.nodeName&&b2.nodeName.toUpperCase()===b1.toUpperCase()},each:function(b4,b7,b3){var b2,b5=0,b6=b4.length,b1=b6===O||bH.isFunction(b4);if(b3){if(b1){for(b2 in b4){if(b7.apply(b4[b2],b3)===false){break}}}else{for(;b5<b6;){if(b7.apply(b4[b5++],b3)===false){break}}}}else{if(b1){for(b2 in b4){if(b7.call(b4[b2],b2,b4[b2])===false){break}}}else{for(;b5<b6;){if(b7.call(b4[b5],b5,b4[b5++])===false){break}}}}return b4},trim:bR?function(b1){return b1==null?"":bR.call(b1)}:function(b1){return b1==null?"":b1.toString().replace(bL,"").replace(bG,"")},makeArray:function(b4,b2){var b1=b2||[];if(b4!=null){var b3=bH.type(b4);if(b4.length==null||b3==="string"||b3==="function"||b3==="regexp"||bH.isWindow(b4)){bC.call(b1,b4)}else{bH.merge(b1,b4)}}return b1},inArray:function(b3,b4){if(by){return by.call(b4,b3)}for(var b1=0,b2=b4.length;b1<b2;b1++){if(b4[b1]===b3){return b1}}return -1},merge:function(b5,b3){var b4=b5.length,b2=0;if(typeof b3.length==="number"){for(var b1=b3.length;b2<b1;b2++){b5[b4++]=b3[b2]}}else{while(b3[b2]!==O){b5[b4++]=b3[b2++]}}b5.length=b4;return b5},grep:function(b2,b7,b1){var b3=[],b6;b1=!!b1;for(var b4=0,b5=b2.length;b4<b5;b4++){b6=!!b7(b2[b4],b4);if(b1!==b6){b3.push(b2[b4])}}return b3},map:function(b1,b8,b9){var b6,b7,b5=[],b3=0,b2=b1.length,b4=b1 instanceof bH||b2!==O&&typeof b2==="number"&&((b2>0&&b1[0]&&b1[b2-1])||b2===0||bH.isArray(b1));if(b4){for(;b3<b2;b3++){b6=b8(b1[b3],b3,b9);if(b6!=null){b5[b5.length]=b6}}}else{for(b7 in b1){b6=b8(b1[b7],b7,b9);if(b6!=null){b5[b5.length]=b6}}}return b5.concat.apply([],b5)},guid:1,proxy:function(b5,b4){if(typeof b4==="string"){var b3=b5[b4];b4=b5;b5=b3}if(!bH.isFunction(b5)){return O}var b1=bN.call(arguments,2),b2=function(){return b5.apply(b4,b1.concat(bN.call(arguments)))};b2.guid=b5.guid=b5.guid||b2.guid||bH.guid++;return b2},access:function(b1,b9,b7,b3,b6,b8){var b2=b1.length;if(typeof b9==="object"){for(var b4 in b9){bH.access(b1,b4,b9[b4],b3,b6,b7)}return b1}if(b7!==O){b3=!b8&&b3&&bH.isFunction(b7);for(var b5=0;b5<b2;b5++){b6(b1[b5],b9,b3?b7.call(b1[b5],b5,b6(b1[b5],b9)):b7,b8)}return b1}return b2?b6(b1[0],b9):O},now:function(){return(new Date()).getTime()},uaMatch:function(b2){b2=b2.toLowerCase();var b1=bB.exec(b2)||bU.exec(b2)||bT.exec(b2)||b2.indexOf("compatible")<0&&bV.exec(b2)||[];return{browser:b1[1]||"",version:b1[2]||"0"}},sub:function(){function b1(b4,b5){return new b1.fn.init(b4,b5)}bH.extend(true,b1,this);b1.superclass=this;b1.fn=b1.prototype=this();b1.fn.constructor=b1;b1.sub=this.sub;b1.fn.init=function b3(b4,b5){if(b5&&b5 instanceof bH&&!(b5 instanceof b1)){b5=b1(b5)}return bH.fn.init.call(this,b4,b5,b2)};b1.fn.init.prototype=b1.fn;var b2=b1(av);return b1},browser:{}});bH.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b2,b1){bA["[object "+b1+"]"]=b1.toLowerCase()});bX=bH.uaMatch(bZ);if(bX.browser){bH.browser[bX.browser]=true;bH.browser.version=bX.version}if(bH.browser.webkit){bH.browser.safari=true}if(bP.test("\xA0")){bL=/^[\s\xA0]+/;bG=/[\s\xA0]+$/}bF=bH(av);if(av.addEventListener){e=function(){av.removeEventListener("DOMContentLoaded",e,false);bH.ready()}}else{if(av.attachEvent){e=function(){if(av.readyState==="complete"){av.detachEvent("onreadystatechange",e);bH.ready()}}}}function bz(){if(bH.isReady){return}try{av.documentElement.doScroll("left")}catch(b1){setTimeout(bz,1);return}bH.ready()}return bH})();var a="done fail isResolved isRejected promise then always pipe".split(" "),aK=[].slice;b.extend({_Deferred:function(){var bA=[],bB,by,bz,e={done:function(){if(!bz){var bD=arguments,bE,bH,bG,bF,bC;if(bB){bC=bB;bB=0}for(bE=0,bH=bD.length;bE<bH;bE++){bG=bD[bE];bF=b.type(bG);if(bF==="array"){e.done.apply(e,bG)}else{if(bF==="function"){bA.push(bG)}}}if(bC){e.resolveWith(bC[0],bC[1])}}return this},resolveWith:function(bD,bC){if(!bz&&!bB&&!by){bC=bC||[];by=1;try{while(bA[0]){bA.shift().apply(bD,bC)}}finally{bB=[bD,bC];by=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return !!(by||bB)},cancel:function(){bz=1;bA=[];return this}};return e},Deferred:function(by){var e=b._Deferred(),bA=b._Deferred(),bz;b.extend(e,{then:function(bC,bB){e.done(bC).fail(bB);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:bA.done,rejectWith:bA.resolveWith,reject:bA.resolve,isRejected:bA.isResolved,pipe:function(bC,bB){return b.Deferred(function(bD){b.each({done:[bC,"resolve"],fail:[bB,"reject"]},function(bF,bI){var bE=bI[0],bH=bI[1],bG;if(b.isFunction(bE)){e[bF](function(){bG=bE.apply(this,arguments);if(bG&&b.isFunction(bG.promise)){bG.promise().then(bD.resolve,bD.reject)}else{bD[bH](bG)}})}else{e[bF](bD[bH])}})}).promise()},promise:function(bC){if(bC==null){if(bz){return bz}bz=bC={}}var bB=a.length;while(bB--){bC[a[bB]]=e[a[bB]]}return bC}});e.done(bA.cancel).fail(e.cancel);delete e.cancel;if(by){by.call(e,e)}return e},when:function(bD){var by=arguments,bz=0,bC=by.length,bB=bC,e=bC<=1&&bD&&b.isFunction(bD.promise)?bD:b.Deferred();function bA(bE){return function(bF){by[bE]=arguments.length>1?aK.call(arguments,0):bF;if(!(--bB)){e.resolveWith(e,aK.call(by,0))}}}if(bC>1){for(;bz<bC;bz++){if(by[bz]&&b.isFunction(by[bz].promise)){by[bz].promise().then(bA(bz),e.reject)}else{--bB}}if(!bB){e.resolveWith(e,by)}}else{if(e!==bD){e.resolveWith(e,bC?[bD]:[])}}return e.promise()}});b.support=(function(){var bI=av.createElement("div"),bO=av.documentElement,bC,bP,bJ,bA,bH,bD,bF,bz,bG,by,bL,bB,bE,bM,bQ;bI.setAttribute("className","t");bI.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bC=bI.getElementsByTagName("*");bP=bI.getElementsByTagName("a")[0];if(!bC||!bC.length||!bP){return{}}bJ=av.createElement("select");bA=bJ.appendChild(av.createElement("option"));bH=bI.getElementsByTagName("input")[0];bF={leadingWhitespace:(bI.firstChild.nodeType===3),tbody:!bI.getElementsByTagName("tbody").length,htmlSerialize:!!bI.getElementsByTagName("link").length,style:/top/.test(bP.getAttribute("style")),hrefNormalized:(bP.getAttribute("href")==="/a"),opacity:/^0.55$/.test(bP.style.opacity),cssFloat:!!bP.style.cssFloat,checkOn:(bH.value==="on"),optSelected:bA.selected,getSetAttribute:bI.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bH.checked=true;bF.noCloneChecked=bH.cloneNode(true).checked;bJ.disabled=true;bF.optDisabled=!bA.disabled;try{delete bI.test}catch(bN){bF.deleteExpando=false}if(!bI.addEventListener&&bI.attachEvent&&bI.fireEvent){bI.attachEvent("onclick",function bK(){bF.noCloneEvent=false;bI.detachEvent("onclick",bK)});bI.cloneNode(true).fireEvent("onclick")}bH=av.createElement("input");bH.value="t";bH.setAttribute("type","radio");bF.radioValue=bH.value==="t";bH.setAttribute("checked","checked");bI.appendChild(bH);bz=av.createDocumentFragment();bz.appendChild(bI.firstChild);bF.checkClone=bz.cloneNode(true).cloneNode(true).lastChild.checked;bI.innerHTML="";bI.style.width=bI.style.paddingLeft="1px";bG=av.createElement("body");by={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(bM in by){bG.style[bM]=by[bM]}bG.appendChild(bI);bO.insertBefore(bG,bO.firstChild);bF.appendChecked=bH.checked;bF.boxModel=bI.offsetWidth===2;if("zoom" in bI.style){bI.style.display="inline";bI.style.zoom=1;bF.inlineBlockNeedsLayout=(bI.offsetWidth===2);bI.style.display="";bI.innerHTML="<div style='width:4px;'></div>";bF.shrinkWrapBlocks=(bI.offsetWidth!==2)}bI.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bL=bI.getElementsByTagName("td");bQ=(bL[0].offsetHeight===0);bL[0].style.display="";bL[1].style.display="none";bF.reliableHiddenOffsets=bQ&&(bL[0].offsetHeight===0);bI.innerHTML="";if(av.defaultView&&av.defaultView.getComputedStyle){bD=av.createElement("div");bD.style.width="0";bD.style.marginRight="0";bI.appendChild(bD);bF.reliableMarginRight=(parseInt((av.defaultView.getComputedStyle(bD,null)||{marginRight:0}).marginRight,10)||0)===0}bG.innerHTML="";bO.removeChild(bG);if(bI.attachEvent){for(bM in {submit:1,change:1,focusin:1}){bE="on"+bM;bQ=(bE in bI);if(!bQ){bI.setAttribute(bE,"return;");bQ=(typeof bI[bE]==="function")}bF[bM+"Bubbles"]=bQ}}return bF})();b.boxModel=b.support.boxModel;var aR=/^(?:\{.*\}|\[.*\])$/,aA=/([a-z])([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!X(e)},data:function(bA,by,bC,bB){if(!b.acceptData(bA)){return}var bF=b.expando,bE=typeof by==="string",bD,bG=bA.nodeType,e=bG?b.cache:bA,bz=bG?bA[b.expando]:bA[b.expando]&&b.expando;if((!bz||(bB&&bz&&!e[bz][bF]))&&bE&&bC===O){return}if(!bz){if(bG){bA[b.expando]=bz=++b.uuid}else{bz=b.expando}}if(!e[bz]){e[bz]={};if(!bG){e[bz].toJSON=b.noop}}if(typeof by==="object"||typeof by==="function"){if(bB){e[bz][bF]=b.extend(e[bz][bF],by)}else{e[bz]=b.extend(e[bz],by)}}bD=e[bz];if(bB){if(!bD[bF]){bD[bF]={}}bD=bD[bF]}if(bC!==O){bD[b.camelCase(by)]=bC}if(by==="events"&&!bD[by]){return bD[bF]&&bD[bF].events}return bE?bD[b.camelCase(by)]:bD},removeData:function(bB,bz,bC){if(!b.acceptData(bB)){return}var bE=b.expando,bF=bB.nodeType,by=bF?b.cache:bB,bA=bF?bB[b.expando]:b.expando;if(!by[bA]){return}if(bz){var bD=bC?by[bA][bE]:by[bA];if(bD){delete bD[bz];if(!X(bD)){return}}}if(bC){delete by[bA][bE];if(!X(by[bA])){return}}var e=by[bA][bE];if(b.support.deleteExpando||by!=bf){delete by[bA]}else{by[bA]=null}if(e){by[bA]={};if(!bF){by[bA].toJSON=b.noop}by[bA][bE]=e}else{if(bF){if(b.support.deleteExpando){delete bB[b.expando]}else{if(bB.removeAttribute){bB.removeAttribute(b.expando)}else{bB[b.expando]=null}}}}},_data:function(by,e,bz){return b.data(by,e,bz,true)},acceptData:function(by){if(by.nodeName){var e=b.noData[by.nodeName.toLowerCase()];if(e){return !(e===true||by.getAttribute("classid")!==e)}}return true}});b.fn.extend({data:function(bB,bD){var bC=null;if(typeof bB==="undefined"){if(this.length){bC=b.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,bz;for(var bA=0,by=e.length;bA<by;bA++){bz=e[bA].name;if(bz.indexOf("data-")===0){bz=b.camelCase(bz.substring(5));a8(this[0],bz,bC[bz])}}}}return bC}else{if(typeof bB==="object"){return this.each(function(){b.data(this,bB)})}}var bE=bB.split(".");bE[1]=bE[1]?"."+bE[1]:"";if(bD===O){bC=this.triggerHandler("getData"+bE[1]+"!",[bE[0]]);if(bC===O&&this.length){bC=b.data(this[0],bB);bC=a8(this[0],bB,bC)}return bC===O&&bE[1]?this.data(bE[0]):bC}else{return this.each(function(){var bG=b(this),bF=[bE[0],bD];bG.triggerHandler("setData"+bE[1]+"!",bF);b.data(this,bB,bD);bG.triggerHandler("changeData"+bE[1]+"!",bF)})}},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function a8(bA,bz,bB){if(bB===O&&bA.nodeType===1){var by="data-"+bz.replace(aA,"$1-$2").toLowerCase();bB=bA.getAttribute(by);if(typeof bB==="string"){try{bB=bB==="true"?true:bB==="false"?false:bB==="null"?null:!b.isNaN(bB)?parseFloat(bB):aR.test(bB)?b.parseJSON(bB):bB}catch(bC){}b.data(bA,bz,bB)}else{bB=O}}return bB}function X(by){for(var e in by){if(e!=="toJSON"){return false}}return true}function bk(bB,bA,bD){var bz=bA+"defer",by=bA+"queue",e=bA+"mark",bC=b.data(bB,bz,O,true);if(bC&&(bD==="queue"||!b.data(bB,by,O,true))&&(bD==="mark"||!b.data(bB,e,O,true))){setTimeout(function(){if(!b.data(bB,by,O,true)&&!b.data(bB,e,O,true)){b.removeData(bB,bz,true);bC.resolve()}},0)}}b.extend({_mark:function(by,e){if(by){e=(e||"fx")+"mark";b.data(by,e,(b.data(by,e,O,true)||0)+1,true)}},_unmark:function(bB,bA,by){if(bB!==true){by=bA;bA=bB;bB=false}if(bA){by=by||"fx";var e=by+"mark",bz=bB?0:((b.data(bA,e,O,true)||1)-1);if(bz){b.data(bA,e,bz,true)}else{b.removeData(bA,e,true);bk(bA,by,"mark")}}},queue:function(by,e,bA){if(by){e=(e||"fx")+"queue";var bz=b.data(by,e,O,true);if(bA){if(!bz||b.isArray(bA)){bz=b.data(by,e,b.makeArray(bA),true)}else{bz.push(bA)}}return bz||[]}},dequeue:function(bA,bz){bz=bz||"fx";var e=b.queue(bA,bz),by=e.shift(),bB;if(by==="inprogress"){by=e.shift()}if(by){if(bz==="fx"){e.unshift("inprogress")}by.call(bA,function(){b.dequeue(bA,bz)})}if(!e.length){b.removeData(bA,bz+"queue",true);bk(bA,bz,"queue")}}});b.fn.extend({queue:function(e,by){if(typeof e!=="string"){by=e;e="fx"}if(by===O){return b.queue(this[0],e)}return this.each(function(){var bz=b.queue(this,e,by);if(e==="fx"&&bz[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(by,e){by=b.fx?b.fx.speeds[by]||by:by;e=e||"fx";return this.queue(e,function(){var bz=this;setTimeout(function(){b.dequeue(bz,e)},by)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bG,bz){if(typeof bG!=="string"){bz=bG;bG=O}bG=bG||"fx";var e=b.Deferred(),by=this,bB=by.length,bE=1,bC=bG+"defer",bD=bG+"queue",bF=bG+"mark",bA;function bH(){if(!(--bE)){e.resolveWith(by,[by])}}while(bB--){if((bA=b.data(by[bB],bC,O,true)||(b.data(by[bB],bD,O,true)||b.data(by[bB],bF,O,true))&&b.data(by[bB],bC,b._Deferred(),true))){bE++;bA.done(bH)}}bH();return e.promise()}});var aP=/[\n\t\r]/g,ag=/\s+/,aT=/\r/g,g=/^(?:button|input)$/i,H=/^(?:button|input|object|select|textarea)$/i,m=/^a(?:rea)?$/i,ao=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bb=/\:/,a6,a0;b.fn.extend({attr:function(e,by){return b.access(this,e,by,true,b.attr)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,by){return b.access(this,e,by,true,b.prop)},removeProp:function(e){e=b.propFix[e]||e;return this.each(function(){try{this[e]=O;delete this[e]}catch(by){}})},addClass:function(bE){if(b.isFunction(bE)){return this.each(function(bH){var bG=b(this);bG.addClass(bE.call(this,bH,bG.attr("class")||""))})}if(bE&&typeof bE==="string"){var e=(bE||"").split(ag);for(var bA=0,bz=this.length;bA<bz;bA++){var by=this[bA];if(by.nodeType===1){if(!by.className){by.className=bE}else{var bB=" "+by.className+" ",bD=by.className;for(var bC=0,bF=e.length;bC<bF;bC++){if(bB.indexOf(" "+e[bC]+" ")<0){bD+=" "+e[bC]}}by.className=b.trim(bD)}}}}return this},removeClass:function(bC){if(b.isFunction(bC)){return this.each(function(bG){var bF=b(this);bF.removeClass(bC.call(this,bG,bF.attr("class")))})}if((bC&&typeof bC==="string")||bC===O){var bD=(bC||"").split(ag);for(var bz=0,by=this.length;bz<by;bz++){var bB=this[bz];if(bB.nodeType===1&&bB.className){if(bC){var bA=(" "+bB.className+" ").replace(aP," ");for(var bE=0,e=bD.length;bE<e;bE++){bA=bA.replace(" "+bD[bE]+" "," ")}bB.className=b.trim(bA)}else{bB.className=""}}}}return this},toggleClass:function(bA,by){var bz=typeof bA,e=typeof by==="boolean";if(b.isFunction(bA)){return this.each(function(bC){var bB=b(this);bB.toggleClass(bA.call(this,bC,bB.attr("class"),by),by)})}return this.each(function(){if(bz==="string"){var bD,bC=0,bB=b(this),bE=by,bF=bA.split(ag);while((bD=bF[bC++])){bE=e?bE:!bB.hasClass(bD);bB[bE?"addClass":"removeClass"](bD)}}else{if(bz==="undefined"||bz==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||bA===false?"":b._data(this,"__className__")||""}}})},hasClass:function(e){var bA=" "+e+" ";for(var bz=0,by=this.length;bz<by;bz++){if((" "+this[bz].className+" ").replace(aP," ").indexOf(bA)>-1){return true}}return false},val:function(bA){var e,by,bz=this[0];if(!arguments.length){if(bz){e=b.valHooks[bz.nodeName.toLowerCase()]||b.valHooks[bz.type];if(e&&"get" in e&&(by=e.get(bz,"value"))!==O){return by}return(bz.value||"").replace(aT,"")}return O}var bB=b.isFunction(bA);return this.each(function(bD){var bC=b(this),bE;if(this.nodeType!==1){return}if(bB){bE=bA.call(this,bD,bC.val())}else{bE=bA}if(bE==null){bE=""}else{if(typeof bE==="number"){bE+=""}else{if(b.isArray(bE)){bE=b.map(bE,function(bF){return bF==null?"":bF+""})}}}e=b.valHooks[this.nodeName.toLowerCase()]||b.valHooks[this.type];if(!e||!("set" in e)||e.set(this,bE,"value")===O){this.value=bE}})}});b.extend({valHooks:{option:{get:function(e){var by=e.attributes.value;return !by||by.specified?e.value:e.text}},select:{get:function(e){var bD,bB=e.selectedIndex,bE=[],bF=e.options,bA=e.type==="select-one";if(bB<0){return null}for(var by=bA?bB:0,bC=bA?bB+1:bF.length;by<bC;by++){var bz=bF[by];if(bz.selected&&(b.support.optDisabled?!bz.disabled:bz.getAttribute("disabled")===null)&&(!bz.parentNode.disabled||!b.nodeName(bz.parentNode,"optgroup"))){bD=b(bz).val();if(bA){return bD}bE.push(bD)}}if(bA&&!bE.length&&bF.length){return b(bF[bB]).val()}return bE},set:function(by,bz){var e=b.makeArray(bz);b(by).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0});if(!e.length){by.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(bD,bA,bE,bC){var by=bD.nodeType;if(!bD||by===3||by===8||by===2){return O}if(bC&&bA in b.attrFn){return b(bD)[bA](bE)}if(!("getAttribute" in bD)){return b.prop(bD,bA,bE)}var bz,e,bB=by!==1||!b.isXMLDoc(bD);bA=bB&&b.attrFix[bA]||bA;e=b.attrHooks[bA];if(!e){if(ao.test(bA)&&(typeof bE==="boolean"||bE===O||bE.toLowerCase()===bA.toLowerCase())){e=a0}else{if(a6&&(b.nodeName(bD,"form")||bb.test(bA))){e=a6}}}if(bE!==O){if(bE===null){b.removeAttr(bD,bA);return O}else{if(e&&"set" in e&&bB&&(bz=e.set(bD,bE,bA))!==O){return bz}else{bD.setAttribute(bA,""+bE);return bE}}}else{if(e&&"get" in e&&bB){return e.get(bD,bA)}else{bz=bD.getAttribute(bA);return bz===null?O:bz}}},removeAttr:function(by,e){var bz;if(by.nodeType===1){e=b.attrFix[e]||e;if(b.support.getSetAttribute){by.removeAttribute(e)}else{b.attr(by,e,"");by.removeAttributeNode(by.getAttributeNode(e))}if(ao.test(e)&&(bz=b.propFix[e]||e) in by){by[bz]=false}}},attrHooks:{type:{set:function(e,by){if(g.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&by==="radio"&&b.nodeName(e,"input")){var bz=e.value;e.setAttribute("type",by);if(bz){e.value=bz}return by}}}},tabIndex:{get:function(by){var e=by.getAttributeNode("tabIndex");return e&&e.specified?parseInt(e.value,10):H.test(by.nodeName)||m.test(by.nodeName)&&by.href?0:O}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bC,bA,bD){var by=bC.nodeType;if(!bC||by===3||by===8||by===2){return O}var bz,e,bB=by!==1||!b.isXMLDoc(bC);bA=bB&&b.propFix[bA]||bA;e=b.propHooks[bA];if(bD!==O){if(e&&"set" in e&&(bz=e.set(bC,bD,bA))!==O){return bz}else{return(bC[bA]=bD)}}else{if(e&&"get" in e&&(bz=e.get(bC,bA))!==O){return bz}else{return bC[bA]}}},propHooks:{}});a0={get:function(by,e){return by[b.propFix[e]||e]?e.toLowerCase():O},set:function(by,bA,e){var bz;if(bA===false){b.removeAttr(by,e)}else{bz=b.propFix[e]||e;if(bz in by){by[bz]=bA}by.setAttribute(e,e.toLowerCase())}return e}};b.attrHooks.value={get:function(by,e){if(a6&&b.nodeName(by,"button")){return a6.get(by,e)}return by.value},set:function(by,bz,e){if(a6&&b.nodeName(by,"button")){return a6.set(by,bz,e)}by.value=bz}};if(!b.support.getSetAttribute){b.attrFix=b.propFix;a6=b.attrHooks.name=b.valHooks.button={get:function(bz,by){var e;e=bz.getAttributeNode(by);return e&&e.nodeValue!==""?e.nodeValue:O},set:function(bz,bA,by){var e=bz.getAttributeNode(by);if(e){e.nodeValue=bA;return bA}}};b.each(["width","height"],function(by,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bz,bA){if(bA===""){bz.setAttribute(e,"auto");return bA}}})})}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(by,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(bA){var bz=bA.getAttribute(e,2);return bz===null?O:bz}})})}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||O},set:function(e,by){return(e.style.cssText=""+by)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(by){var e=by.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}}})}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,by){if(b.isArray(by)){return(e.checked=b.inArray(b(e).val(),by)>=0)}}})});var aH=Object.prototype.hasOwnProperty,a2=/\.(.*)$/,bh=/^(?:textarea|input|select)$/i,R=/\./g,bl=/ /g,aG=/[^\w\s.|`]/g,K=function(e){return e.replace(aG,"\\$&")};b.event={add:function(bA,bE,bJ,bC){if(bA.nodeType===3||bA.nodeType===8){return}if(bJ===false){bJ=bn}else{if(!bJ){return}}var by,bI;if(bJ.handler){by=bJ;bJ=by.handler}if(!bJ.guid){bJ.guid=b.guid++}var bF=b._data(bA);if(!bF){return}var bK=bF.events,bD=bF.handle;if(!bK){bF.events=bK={}}if(!bD){bF.handle=bD=function(bL){return typeof b!=="undefined"&&(!bL||b.event.triggered!==bL.type)?b.event.handle.apply(bD.elem,arguments):O}}bD.elem=bA;bE=bE.split(" ");var bH,bB=0,e;while((bH=bE[bB++])){bI=by?b.extend({},by):{handler:bJ,data:bC};if(bH.indexOf(".")>-1){e=bH.split(".");bH=e.shift();bI.namespace=e.slice(0).sort().join(".")}else{e=[];bI.namespace=""}bI.type=bH;if(!bI.guid){bI.guid=bJ.guid}var bz=bK[bH],bG=b.event.special[bH]||{};if(!bz){bz=bK[bH]=[];if(!bG.setup||bG.setup.call(bA,bC,e,bD)===false){if(bA.addEventListener){bA.addEventListener(bH,bD,false)}else{if(bA.attachEvent){bA.attachEvent("on"+bH,bD)}}}}if(bG.add){bG.add.call(bA,bI);if(!bI.handler.guid){bI.handler.guid=bJ.guid}}bz.push(bI);b.event.global[bH]=true}bA=null},global:{},remove:function(bM,bH,bz,bD){if(bM.nodeType===3||bM.nodeType===8){return}if(bz===false){bz=bn}var bP,bC,bE,bJ,bK=0,bA,bF,bI,bB,bG,e,bO,bL=b.hasData(bM)&&b._data(bM),by=bL&&bL.events;if(!bL||!by){return}if(bH&&bH.type){bz=bH.handler;bH=bH.type}if(!bH||typeof bH==="string"&&bH.charAt(0)==="."){bH=bH||"";for(bC in by){b.event.remove(bM,bC+bH)}return}bH=bH.split(" ");while((bC=bH[bK++])){bO=bC;e=null;bA=bC.indexOf(".")<0;bF=[];if(!bA){bF=bC.split(".");bC=bF.shift();bI=new RegExp("(^|\\.)"+b.map(bF.slice(0).sort(),K).join("\\.(?:.*\\.)?")+"(\\.|$)")}bG=by[bC];if(!bG){continue}if(!bz){for(bJ=0;bJ<bG.length;bJ++){e=bG[bJ];if(bA||bI.test(e.namespace)){b.event.remove(bM,bO,e.handler,bJ);bG.splice(bJ--,1)}}continue}bB=b.event.special[bC]||{};for(bJ=bD||0;bJ<bG.length;bJ++){e=bG[bJ];if(bz.guid===e.guid){if(bA||bI.test(e.namespace)){if(bD==null){bG.splice(bJ--,1)}if(bB.remove){bB.remove.call(bM,e)}}if(bD!=null){break}}}if(bG.length===0||bD!=null&&bG.length===1){if(!bB.teardown||bB.teardown.call(bM,bF)===false){b.removeEvent(bM,bC,bL.handle)}bP=null;delete by[bC]}}if(b.isEmptyObject(by)){var bN=bL.handle;if(bN){bN.elem=null}delete bL.events;delete bL.handle;if(b.isEmptyObject(bL)){b.removeData(bM,O,true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(e,bE,bC,bJ){var bH=e.type||e,bz=[],by;if(bH.indexOf("!")>=0){bH=bH.slice(0,-1);by=true}if(bH.indexOf(".")>=0){bz=bH.split(".");bH=bz.shift();bz.sort()}if((!bC||b.event.customEvent[bH])&&!b.event.global[bH]){return}e=typeof e==="object"?e[b.expando]?e:new b.Event(bH,e):new b.Event(bH);e.type=bH;e.exclusive=by;e.namespace=bz.join(".");e.namespace_re=new RegExp("(^|\\.)"+bz.join("\\.(?:.*\\.)?")+"(\\.|$)");if(bJ||!bC){e.preventDefault();e.stopPropagation()}if(!bC){b.each(b.cache,function(){var bL=b.expando,bK=this[bL];if(bK&&bK.events&&bK.events[bH]){b.event.trigger(e,bE,bK.handle.elem)}});return}if(bC.nodeType===3||bC.nodeType===8){return}e.result=O;e.target=bC;bE=bE?b.makeArray(bE):[];bE.unshift(e);var bI=bC,bA=bH.indexOf(":")<0?"on"+bH:"";do{var bF=b._data(bI,"handle");e.currentTarget=bI;if(bF){bF.apply(bI,bE)}if(bA&&b.acceptData(bI)&&bI[bA]&&bI[bA].apply(bI,bE)===false){e.result=false;e.preventDefault()}bI=bI.parentNode||bI.ownerDocument||bI===e.target.ownerDocument&&bf}while(bI&&!e.isPropagationStopped());if(!e.isDefaultPrevented()){var bB,bG=b.event.special[bH]||{};if((!bG._default||bG._default.call(bC.ownerDocument,e)===false)&&!(bH==="click"&&b.nodeName(bC,"a"))&&b.acceptData(bC)){try{if(bA&&bC[bH]){bB=bC[bA];if(bB){bC[bA]=null}b.event.triggered=bH;bC[bH]()}}catch(bD){}if(bB){bC[bA]=bB}b.event.triggered=O}}return e.result},handle:function(bE){bE=b.event.fix(bE||bf.event);var by=((b._data(this,"events")||{})[bE.type]||[]).slice(0),bD=!bE.exclusive&&!bE.namespace,bB=Array.prototype.slice.call(arguments,0);bB[0]=bE;bE.currentTarget=this;for(var bA=0,e=by.length;bA<e;bA++){var bC=by[bA];if(bD||bE.namespace_re.test(bC.namespace)){bE.handler=bC.handler;bE.data=bC.data;bE.handleObj=bC;var bz=bC.handler.apply(this,bB);if(bz!==O){bE.result=bz;if(bz===false){bE.preventDefault();bE.stopPropagation()}}if(bE.isImmediatePropagationStopped()){break}}}return bE.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bB){if(bB[b.expando]){return bB}var by=bB;bB=b.Event(by);for(var bz=this.props.length,bD;bz;){bD=this.props[--bz];bB[bD]=by[bD]}if(!bB.target){bB.target=bB.srcElement||av}if(bB.target.nodeType===3){bB.target=bB.target.parentNode}if(!bB.relatedTarget&&bB.fromElement){bB.relatedTarget=bB.fromElement===bB.target?bB.toElement:bB.fromElement}if(bB.pageX==null&&bB.clientX!=null){var bA=bB.target.ownerDocument||av,bC=bA.documentElement,e=bA.body;bB.pageX=bB.clientX+(bC&&bC.scrollLeft||e&&e.scrollLeft||0)-(bC&&bC.clientLeft||e&&e.clientLeft||0);bB.pageY=bB.clientY+(bC&&bC.scrollTop||e&&e.scrollTop||0)-(bC&&bC.clientTop||e&&e.clientTop||0)}if(bB.which==null&&(bB.charCode!=null||bB.keyCode!=null)){bB.which=bB.charCode!=null?bB.charCode:bB.keyCode}if(!bB.metaKey&&bB.ctrlKey){bB.metaKey=bB.ctrlKey}if(!bB.which&&bB.button!==O){bB.which=(bB.button&1?1:(bB.button&2?3:(bB.button&4?2:0)))}return bB},guid:100000000,proxy:b.proxy,special:{ready:{setup:b.bindReady,teardown:b.noop},live:{add:function(e){b.event.add(this,t(e.origType,e.selector),b.extend({},e,{handler:am,guid:e.handler.guid}))},remove:function(e){b.event.remove(this,t(e.origType,e.selector),e)}},beforeunload:{setup:function(bz,by,e){if(b.isWindow(this)){this.onbeforeunload=e}},teardown:function(by,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}}};b.removeEvent=av.removeEventListener?function(by,e,bz){if(by.removeEventListener){by.removeEventListener(e,bz,false)}}:function(by,e,bz){if(by.detachEvent){by.detachEvent("on"+e,bz)}};b.Event=function(by,e){if(!this.preventDefault){return new b.Event(by,e)}if(by&&by.type){this.originalEvent=by;this.type=by.type;this.isDefaultPrevented=(by.defaultPrevented||by.returnValue===false||by.getPreventDefault&&by.getPreventDefault())?j:bn}else{this.type=by}if(e){b.extend(this,e)}this.timeStamp=b.now();this[b.expando]=true};function bn(){return false}function j(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var by=this.originalEvent;if(!by){return}if(by.preventDefault){by.preventDefault()}else{by.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=j;var by=this.originalEvent;if(!by){return}if(by.stopPropagation){by.stopPropagation()}by.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:bn,isPropagationStopped:bn,isImmediatePropagationStopped:bn};var af=function(bz){var by=bz.relatedTarget;bz.type=bz.data;try{if(by&&by!==av&&!by.parentNode){return}while(by&&by!==this){by=by.parentNode}if(by!==this){b.event.handle.apply(this,arguments)}}catch(bA){}},aW=function(e){e.type=e.data;b.event.handle.apply(this,arguments)};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(by,e){b.event.special[by]={setup:function(bz){b.event.add(this,e,bz&&bz.selector?aW:af,by)},teardown:function(bz){b.event.remove(this,e,bz&&bz.selector?aW:af)}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(by,e){if(!b.nodeName(this,"form")){b.event.add(this,"click.specialSubmit",function(bB){var bA=bB.target,bz=bA.type;if((bz==="submit"||bz==="image")&&b(bA).closest("form").length){aZ("submit",this,arguments)}});b.event.add(this,"keypress.specialSubmit",function(bB){var bA=bB.target,bz=bA.type;if((bz==="text"||bz==="password")&&b(bA).closest("form").length&&bB.keyCode===13){aZ("submit",this,arguments)}})}else{return false}},teardown:function(e){b.event.remove(this,".specialSubmit")}}}if(!b.support.changeBubbles){var bq,l=function(by){var e=by.type,bz=by.value;if(e==="radio"||e==="checkbox"){bz=by.checked}else{if(e==="select-multiple"){bz=by.selectedIndex>-1?b.map(by.options,function(bA){return bA.selected}).join("-"):""}else{if(b.nodeName(by,"select")){bz=by.selectedIndex}}}return bz},ad=function ad(bA){var by=bA.target,bz,bB;if(!bh.test(by.nodeName)||by.readOnly){return}bz=b._data(by,"_change_data");bB=l(by);if(bA.type!=="focusout"||by.type!=="radio"){b._data(by,"_change_data",bB)}if(bz===O||bB===bz){return}if(bz!=null||bB){bA.type="change";bA.liveFired=O;b.event.trigger(bA,arguments[1],by)}};b.event.special.change={filters:{focusout:ad,beforedeactivate:ad,click:function(bA){var bz=bA.target,by=b.nodeName(bz,"input")?bz.type:"";if(by==="radio"||by==="checkbox"||b.nodeName(bz,"select")){ad.call(this,bA)}},keydown:function(bA){var bz=bA.target,by=b.nodeName(bz,"input")?bz.type:"";if((bA.keyCode===13&&!b.nodeName(bz,"textarea"))||(bA.keyCode===32&&(by==="checkbox"||by==="radio"))||by==="select-multiple"){ad.call(this,bA)}},beforeactivate:function(bz){var by=bz.target;b._data(by,"_change_data",l(by))}},setup:function(bz,by){if(this.type==="file"){return false}for(var e in bq){b.event.add(this,e+".specialChange",bq[e])}return bh.test(this.nodeName)},teardown:function(e){b.event.remove(this,".specialChange");return bh.test(this.nodeName)}};bq=b.event.special.change.filters;bq.focus=bq.beforeactivate}function aZ(by,bA,e){var bz=b.extend({},e[0]);bz.type=by;bz.originalEvent={};bz.liveFired=O;b.event.handle.call(bA,bz);if(bz.isDefaultPrevented()){e[0].preventDefault()}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bA,e){var by=0;b.event.special[e]={setup:function(){if(by++===0){av.addEventListener(bA,bz,true)}},teardown:function(){if(--by===0){av.removeEventListener(bA,bz,true)}}};function bz(bB){var bC=b.event.fix(bB);bC.type=e;bC.originalEvent={};b.event.trigger(bC,null,bC.target);if(bC.isDefaultPrevented()){bB.preventDefault()}}})}b.each(["bind","one"],function(by,e){b.fn[e]=function(bE,bF,bD){var bC;if(typeof bE==="object"){for(var bB in bE){this[e](bB,bF,bE[bB],bD)}return this}if(arguments.length===2||bF===false){bD=bF;bF=O}if(e==="one"){bC=function(bG){b(this).unbind(bG,bC);return bD.apply(this,arguments)};bC.guid=bD.guid||b.guid++}else{bC=bD}if(bE==="unload"&&e!=="one"){this.one(bE,bF,bD)}else{for(var bA=0,bz=this.length;bA<bz;bA++){b.event.add(this[bA],bE,bC,bF)}}return this}});b.fn.extend({unbind:function(bB,bA){if(typeof bB==="object"&&!bB.preventDefault){for(var bz in bB){this.unbind(bz,bB[bz])}}else{for(var by=0,e=this.length;by<e;by++){b.event.remove(this[by],bB,bA)}}return this},delegate:function(e,by,bA,bz){return this.live(by,bA,bz,e)},undelegate:function(e,by,bz){if(arguments.length===0){return this.unbind("live")}else{return this.die(by,null,bz,e)}},trigger:function(e,by){return this.each(function(){b.event.trigger(e,by,this)})},triggerHandler:function(e,by){if(this[0]){return b.event.trigger(e,by,this[0],true)}},toggle:function(bA){var by=arguments,e=bA.guid||b.guid++,bz=0,bB=function(bC){var bD=(b.data(this,"lastToggle"+bA.guid)||0)%bz;b.data(this,"lastToggle"+bA.guid,bD+1);bC.preventDefault();return by[bD].apply(this,arguments)||false};bB.guid=e;while(bz<by.length){by[bz++].guid=e}return this.click(bB)},hover:function(e,by){return this.mouseenter(e).mouseleave(by||e)}});var aU={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};b.each(["live","die"],function(by,e){b.fn[e]=function(bI,bF,bK,bB){var bJ,bG=0,bH,bA,bM,bD=bB||this.selector,bz=bB?this:b(this.context);if(typeof bI==="object"&&!bI.preventDefault){for(var bL in bI){bz[e](bL,bF,bI[bL],bD)}return this}if(e==="die"&&!bI&&bB&&bB.charAt(0)==="."){bz.unbind(bB);return this}if(bF===false||b.isFunction(bF)){bK=bF||bn;bF=O}bI=(bI||"").split(" ");while((bJ=bI[bG++])!=null){bH=a2.exec(bJ);bA="";if(bH){bA=bH[0];bJ=bJ.replace(a2,"")}if(bJ==="hover"){bI.push("mouseenter"+bA,"mouseleave"+bA);continue}bM=bJ;if(aU[bJ]){bI.push(aU[bJ]+bA);bJ=bJ+bA}else{bJ=(aU[bJ]||bJ)+bA}if(e==="live"){for(var bE=0,bC=bz.length;bE<bC;bE++){b.event.add(bz[bE],"live."+t(bJ,bD),{data:bF,selector:bD,handler:bK,origType:bJ,origHandler:bK,preType:bM})}}else{bz.unbind("live."+t(bJ,bD),bK)}}return this}});function am(bI){var bF,bA,bO,bC,e,bK,bH,bJ,bG,bN,bE,bD,bM,bL=[],bB=[],by=b._data(this,"events");if(bI.liveFired===this||!by||!by.live||bI.target.disabled||bI.button&&bI.type==="click"){return}if(bI.namespace){bD=new RegExp("(^|\\.)"+bI.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bI.liveFired=this;var bz=by.live.slice(0);for(bH=0;bH<bz.length;bH++){e=bz[bH];if(e.origType.replace(a2,"")===bI.type){bB.push(e.selector)}else{bz.splice(bH--,1)}}bC=b(bI.target).closest(bB,bI.currentTarget);for(bJ=0,bG=bC.length;bJ<bG;bJ++){bE=bC[bJ];for(bH=0;bH<bz.length;bH++){e=bz[bH];if(bE.selector===e.selector&&(!bD||bD.test(e.namespace))&&!bE.elem.disabled){bK=bE.elem;bO=null;if(e.preType==="mouseenter"||e.preType==="mouseleave"){bI.type=e.preType;bO=b(bI.relatedTarget).closest(e.selector)[0];if(bO&&b.contains(bK,bO)){bO=bK}}if(!bO||bO!==bK){bL.push({elem:bK,handleObj:e,level:bE.level})}}}}for(bJ=0,bG=bL.length;bJ<bG;bJ++){bC=bL[bJ];if(bA&&bC.level>bA){break}bI.currentTarget=bC.elem;bI.data=bC.handleObj.data;bI.handleObj=bC.handleObj;bM=bC.handleObj.origHandler.apply(bC.elem,arguments);if(bM===false||bI.isPropagationStopped()){bA=bC.level;if(bM===false){bF=false}if(bI.isImmediatePropagationStopped()){break}}}return bF}function t(by,e){return(by&&by!=="*"?by+".":"")+e.replace(R,"`").replace(bl,"&")}b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(by,e){b.fn[e]=function(bA,bz){if(bz==null){bz=bA;bA=null}return arguments.length>0?this.bind(e,bA,bz):this.trigger(e)};if(b.attrFn){b.attrFn[e]=true}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bI=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bJ=0,bM=Object.prototype.toString,bD=false,bC=true,bK=/\\/g,bQ=/\W/;[0,0].sort(function(){bC=false;return 0});var bA=function(bV,e,bY,bZ){bY=bY||[];e=e||av;var b1=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bV||typeof bV!=="string"){return bY}var bS,b3,b6,bR,b2,b5,b4,bX,bU=true,bT=bA.isXML(e),bW=[],b0=bV;do{bI.exec("");bS=bI.exec(b0);if(bS){b0=bS[3];bW.push(bS[1]);if(bS[2]){bR=bS[3];break}}}while(bS);if(bW.length>1&&bE.exec(bV)){if(bW.length===2&&bF.relative[bW[0]]){b3=bN(bW[0]+bW[1],e)}else{b3=bF.relative[bW[0]]?[e]:bA(bW.shift(),e);while(bW.length){bV=bW.shift();if(bF.relative[bV]){bV+=bW.shift()}b3=bN(bV,b3)}}}else{if(!bZ&&bW.length>1&&e.nodeType===9&&!bT&&bF.match.ID.test(bW[0])&&!bF.match.ID.test(bW[bW.length-1])){b2=bA.find(bW.shift(),e,bT);e=b2.expr?bA.filter(b2.expr,b2.set)[0]:b2.set[0]}if(e){b2=bZ?{expr:bW.pop(),set:bG(bZ)}:bA.find(bW.pop(),bW.length===1&&(bW[0]==="~"||bW[0]==="+")&&e.parentNode?e.parentNode:e,bT);b3=b2.expr?bA.filter(b2.expr,b2.set):b2.set;if(bW.length>0){b6=bG(b3)}else{bU=false}while(bW.length){b5=bW.pop();b4=b5;if(!bF.relative[b5]){b5=""}else{b4=bW.pop()}if(b4==null){b4=e}bF.relative[b5](b6,b4,bT)}}else{b6=bW=[]}}if(!b6){b6=b3}if(!b6){bA.error(b5||bV)}if(bM.call(b6)==="[object Array]"){if(!bU){bY.push.apply(bY,b6)}else{if(e&&e.nodeType===1){for(bX=0;b6[bX]!=null;bX++){if(b6[bX]&&(b6[bX]===true||b6[bX].nodeType===1&&bA.contains(e,b6[bX]))){bY.push(b3[bX])}}}else{for(bX=0;b6[bX]!=null;bX++){if(b6[bX]&&b6[bX].nodeType===1){bY.push(b3[bX])}}}}}else{bG(b6,bY)}if(bR){bA(bR,b1,bY,bZ);bA.uniqueSort(bY)}return bY};bA.uniqueSort=function(bR){if(bL){bD=bC;bR.sort(bL);if(bD){for(var e=1;e<bR.length;e++){if(bR[e]===bR[e-1]){bR.splice(e--,1)}}}}return bR};bA.matches=function(e,bR){return bA(e,null,null,bR)};bA.matchesSelector=function(e,bR){return bA(bR,null,null,[e]).length>0};bA.find=function(bX,e,bY){var bW;if(!bX){return[]}for(var bT=0,bS=bF.order.length;bT<bS;bT++){var bU,bV=bF.order[bT];if((bU=bF.leftMatch[bV].exec(bX))){var bR=bU[1];bU.splice(1,1);if(bR.substr(bR.length-1)!=="\\"){bU[1]=(bU[1]||"").replace(bK,"");bW=bF.find[bV](bU,e,bY);if(bW!=null){bX=bX.replace(bF.match[bV],"");break}}}}if(!bW){bW=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bW,expr:bX}};bA.filter=function(b1,b0,b4,bU){var bW,e,bS=b1,b6=[],bY=b0,bX=b0&&b0[0]&&bA.isXML(b0[0]);while(b1&&b0.length){for(var bZ in bF.filter){if((bW=bF.leftMatch[bZ].exec(b1))!=null&&bW[2]){var b5,b3,bR=bF.filter[bZ],bT=bW[1];e=false;bW.splice(1,1);if(bT.substr(bT.length-1)==="\\"){continue}if(bY===b6){b6=[]}if(bF.preFilter[bZ]){bW=bF.preFilter[bZ](bW,bY,b4,b6,bU,bX);if(!bW){e=b5=true}else{if(bW===true){continue}}}if(bW){for(var bV=0;(b3=bY[bV])!=null;bV++){if(b3){b5=bR(b3,bW,bV,bY);var b2=bU^!!b5;if(b4&&b5!=null){if(b2){e=true}else{bY[bV]=false}}else{if(b2){b6.push(b3);e=true}}}}}if(b5!==O){if(!b4){bY=b6}b1=b1.replace(bF.match[bZ],"");if(!e){return[]}break}}}if(b1===bS){if(e==null){bA.error(b1)}else{break}}bS=b1}return bY};bA.error=function(e){throw"Syntax error, unrecognized expression: "+e};var bF=bA.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bW,bR){var bT=typeof bR==="string",bV=bT&&!bQ.test(bR),bX=bT&&!bV;if(bV){bR=bR.toLowerCase()}for(var bS=0,e=bW.length,bU;bS<e;bS++){if((bU=bW[bS])){while((bU=bU.previousSibling)&&bU.nodeType!==1){}bW[bS]=bX||bU&&bU.nodeName.toLowerCase()===bR?bU||false:bU===bR}}if(bX){bA.filter(bR,bW,true)}},">":function(bW,bR){var bV,bU=typeof bR==="string",bS=0,e=bW.length;if(bU&&!bQ.test(bR)){bR=bR.toLowerCase();for(;bS<e;bS++){bV=bW[bS];if(bV){var bT=bV.parentNode;bW[bS]=bT.nodeName.toLowerCase()===bR?bT:false}}}else{for(;bS<e;bS++){bV=bW[bS];if(bV){bW[bS]=bU?bV.parentNode:bV.parentNode===bR}}if(bU){bA.filter(bR,bW,true)}}},"":function(bT,bR,bV){var bU,bS=bJ++,e=bO;if(typeof bR==="string"&&!bQ.test(bR)){bR=bR.toLowerCase();bU=bR;e=by}e("parentNode",bR,bS,bT,bU,bV)},"~":function(bT,bR,bV){var bU,bS=bJ++,e=bO;if(typeof bR==="string"&&!bQ.test(bR)){bR=bR.toLowerCase();bU=bR;e=by}e("previousSibling",bR,bS,bT,bU,bV)}},find:{ID:function(bR,bS,bT){if(typeof bS.getElementById!=="undefined"&&!bT){var e=bS.getElementById(bR[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bS,bV){if(typeof bV.getElementsByName!=="undefined"){var bR=[],bU=bV.getElementsByName(bS[1]);for(var bT=0,e=bU.length;bT<e;bT++){if(bU[bT].getAttribute("name")===bS[1]){bR.push(bU[bT])}}return bR.length===0?null:bR}},TAG:function(e,bR){if(typeof bR.getElementsByTagName!=="undefined"){return bR.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bT,bR,bS,e,bW,bX){bT=" "+bT[1].replace(bK,"")+" ";if(bX){return bT}for(var bU=0,bV;(bV=bR[bU])!=null;bU++){if(bV){if(bW^(bV.className&&(" "+bV.className+" ").replace(/[\t\n\r]/g," ").indexOf(bT)>=0)){if(!bS){e.push(bV)}}else{if(bS){bR[bU]=false}}}}return false},ID:function(e){return e[1].replace(bK,"")},TAG:function(bR,e){return bR[1].replace(bK,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bA.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bR=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bR[1]+(bR[2]||1))-0;e[3]=bR[3]-0}else{if(e[2]){bA.error(e[0])}}e[0]=bJ++;return e},ATTR:function(bU,bR,bS,e,bV,bW){var bT=bU[1]=bU[1].replace(bK,"");if(!bW&&bF.attrMap[bT]){bU[1]=bF.attrMap[bT]}bU[4]=(bU[4]||bU[5]||"").replace(bK,"");if(bU[2]==="~="){bU[4]=" "+bU[4]+" "}return bU},PSEUDO:function(bU,bR,bS,e,bV){if(bU[1]==="not"){if((bI.exec(bU[3])||"").length>1||/^\w/.test(bU[3])){bU[3]=bA(bU[3],null,null,bR)}else{var bT=bA.filter(bU[3],bR,bS,true^bV);if(!bS){e.push.apply(e,bT)}return false}}else{if(bF.match.POS.test(bU[0])||bF.match.CHILD.test(bU[0])){return true}}return bU},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bS,bR,e){return !!bA(e[3],bS).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(bS){var e=bS.getAttribute("type"),bR=bS.type;return bS.nodeName.toLowerCase()==="input"&&"text"===bR&&(e===bR||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bR){var e=bR.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bR.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(bR){var e=bR.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bR.type},button:function(bR){var e=bR.nodeName.toLowerCase();return e==="input"&&"button"===bR.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bR,e){return e===0},last:function(bS,bR,e,bT){return bR===bT.length-1},even:function(bR,e){return e%2===0},odd:function(bR,e){return e%2===1},lt:function(bS,bR,e){return bR<e[3]-0},gt:function(bS,bR,e){return bR>e[3]-0},nth:function(bS,bR,e){return e[3]-0===bR},eq:function(bS,bR,e){return e[3]-0===bR}},filter:{PSEUDO:function(bS,bX,bW,bY){var e=bX[1],bR=bF.filters[e];if(bR){return bR(bS,bW,bX,bY)}else{if(e==="contains"){return(bS.textContent||bS.innerText||bA.getText([bS])||"").indexOf(bX[3])>=0}else{if(e==="not"){var bT=bX[3];for(var bV=0,bU=bT.length;bV<bU;bV++){if(bT[bV]===bS){return false}}return true}else{bA.error(e)}}}},CHILD:function(e,bT){var bW=bT[1],bR=e;switch(bW){case"only":case"first":while((bR=bR.previousSibling)){if(bR.nodeType===1){return false}}if(bW==="first"){return true}bR=e;case"last":while((bR=bR.nextSibling)){if(bR.nodeType===1){return false}}return true;case"nth":var bS=bT[2],bZ=bT[3];if(bS===1&&bZ===0){return true}var bV=bT[0],bY=e.parentNode;if(bY&&(bY.sizcache!==bV||!e.nodeIndex)){var bU=0;for(bR=bY.firstChild;bR;bR=bR.nextSibling){if(bR.nodeType===1){bR.nodeIndex=++bU}}bY.sizcache=bV}var bX=e.nodeIndex-bZ;if(bS===0){return bX===0}else{return(bX%bS===0&&bX/bS>=0)}}},ID:function(bR,e){return bR.nodeType===1&&bR.getAttribute("id")===e},TAG:function(bR,e){return(e==="*"&&bR.nodeType===1)||bR.nodeName.toLowerCase()===e},CLASS:function(bR,e){return(" "+(bR.className||bR.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bV,bT){var bS=bT[1],e=bF.attrHandle[bS]?bF.attrHandle[bS](bV):bV[bS]!=null?bV[bS]:bV.getAttribute(bS),bW=e+"",bU=bT[2],bR=bT[4];return e==null?bU==="!=":bU==="="?bW===bR:bU==="*="?bW.indexOf(bR)>=0:bU==="~="?(" "+bW+" ").indexOf(bR)>=0:!bR?bW&&e!==false:bU==="!="?bW!==bR:bU==="^="?bW.indexOf(bR)===0:bU==="$="?bW.substr(bW.length-bR.length)===bR:bU==="|="?bW===bR||bW.substr(0,bR.length+1)===bR+"-":false},POS:function(bU,bR,bS,bV){var e=bR[2],bT=bF.setFilters[e];if(bT){return bT(bU,bS,bR,bV)}}}};var bE=bF.match.POS,bz=function(bR,e){return"\\"+(e-0+1)};for(var bB in bF.match){bF.match[bB]=new RegExp(bF.match[bB].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bF.leftMatch[bB]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bF.match[bB].source.replace(/\\(\d+)/g,bz))}var bG=function(bR,e){bR=Array.prototype.slice.call(bR,0);if(e){e.push.apply(e,bR);return e}return bR};try{Array.prototype.slice.call(av.documentElement.childNodes,0)[0].nodeType}catch(bP){bG=function(bU,bT){var bS=0,bR=bT||[];if(bM.call(bU)==="[object Array]"){Array.prototype.push.apply(bR,bU)}else{if(typeof bU.length==="number"){for(var e=bU.length;bS<e;bS++){bR.push(bU[bS])}}else{for(;bU[bS];bS++){bR.push(bU[bS])}}}return bR}}var bL,bH;if(av.documentElement.compareDocumentPosition){bL=function(bR,e){if(bR===e){bD=true;return 0}if(!bR.compareDocumentPosition||!e.compareDocumentPosition){return bR.compareDocumentPosition?-1:1}return bR.compareDocumentPosition(e)&4?-1:1}}else{bL=function(bY,bX){if(bY===bX){bD=true;return 0}else{if(bY.sourceIndex&&bX.sourceIndex){return bY.sourceIndex-bX.sourceIndex}}var bV,bR,bS=[],e=[],bU=bY.parentNode,bW=bX.parentNode,bZ=bU;if(bU===bW){return bH(bY,bX)}else{if(!bU){return -1}else{if(!bW){return 1}}}while(bZ){bS.unshift(bZ);bZ=bZ.parentNode}bZ=bW;while(bZ){e.unshift(bZ);bZ=bZ.parentNode}bV=bS.length;bR=e.length;for(var bT=0;bT<bV&&bT<bR;bT++){if(bS[bT]!==e[bT]){return bH(bS[bT],e[bT])}}return bT===bV?bH(bY,e[bT],-1):bH(bS[bT],bX,1)};bH=function(bR,e,bS){if(bR===e){return bS}var bT=bR.nextSibling;while(bT){if(bT===e){return -1}bT=bT.nextSibling}return 1}}bA.getText=function(e){var bR="",bT;for(var bS=0;e[bS];bS++){bT=e[bS];if(bT.nodeType===3||bT.nodeType===4){bR+=bT.nodeValue}else{if(bT.nodeType!==8){bR+=bA.getText(bT.childNodes)}}}return bR};(function(){var bR=av.createElement("div"),bS="script"+(new Date()).getTime(),e=av.documentElement;bR.innerHTML="<a name='"+bS+"'/>";e.insertBefore(bR,e.firstChild);if(av.getElementById(bS)){bF.find.ID=function(bU,bV,bW){if(typeof bV.getElementById!=="undefined"&&!bW){var bT=bV.getElementById(bU[1]);return bT?bT.id===bU[1]||typeof bT.getAttributeNode!=="undefined"&&bT.getAttributeNode("id").nodeValue===bU[1]?[bT]:O:[]}};bF.filter.ID=function(bV,bT){var bU=typeof bV.getAttributeNode!=="undefined"&&bV.getAttributeNode("id");return bV.nodeType===1&&bU&&bU.nodeValue===bT}}e.removeChild(bR);e=bR=null})();(function(){var e=av.createElement("div");e.appendChild(av.createComment(""));if(e.getElementsByTagName("*").length>0){bF.find.TAG=function(bR,bV){var bU=bV.getElementsByTagName(bR[1]);if(bR[1]==="*"){var bT=[];for(var bS=0;bU[bS];bS++){if(bU[bS].nodeType===1){bT.push(bU[bS])}}bU=bT}return bU}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bF.attrHandle.href=function(bR){return bR.getAttribute("href",2)}}e=null})();if(av.querySelectorAll){(function(){var e=bA,bT=av.createElement("div"),bS="__sizzle__";bT.innerHTML="<p class='TEST'></p>";if(bT.querySelectorAll&&bT.querySelectorAll(".TEST").length===0){return}bA=function(b4,bV,bZ,b3){bV=bV||av;if(!b3&&!bA.isXML(bV)){var b2=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b4);if(b2&&(bV.nodeType===1||bV.nodeType===9)){if(b2[1]){return bG(bV.getElementsByTagName(b4),bZ)}else{if(b2[2]&&bF.find.CLASS&&bV.getElementsByClassName){return bG(bV.getElementsByClassName(b2[2]),bZ)}}}if(bV.nodeType===9){if(b4==="body"&&bV.body){return bG([bV.body],bZ)}else{if(b2&&b2[3]){var bY=bV.getElementById(b2[3]);if(bY&&bY.parentNode){if(bY.id===b2[3]){return bG([bY],bZ)}}else{return bG([],bZ)}}}try{return bG(bV.querySelectorAll(b4),bZ)}catch(b0){}}else{if(bV.nodeType===1&&bV.nodeName.toLowerCase()!=="object"){var bW=bV,bX=bV.getAttribute("id"),bU=bX||bS,b6=bV.parentNode,b5=/^\s*[+~]/.test(b4);if(!bX){bV.setAttribute("id",bU)}else{bU=bU.replace(/'/g,"\\$&")}if(b5&&b6){bV=bV.parentNode}try{if(!b5||b6){return bG(bV.querySelectorAll("[id='"+bU+"'] "+b4),bZ)}}catch(b1){}finally{if(!bX){bW.removeAttribute("id")}}}}}return e(b4,bV,bZ,b3)};for(var bR in e){bA[bR]=e[bR]}bT=null})()}(function(){var e=av.documentElement,bS=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bS){var bU=!bS.call(av.createElement("div"),"div"),bR=false;try{bS.call(av.documentElement,"[test!='']:sizzle")}catch(bT){bR=true}bA.matchesSelector=function(bW,bY){bY=bY.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bA.isXML(bW)){try{if(bR||!bF.match.PSEUDO.test(bY)&&!/!=/.test(bY)){var bV=bS.call(bW,bY);if(bV||!bU||bW.document&&bW.document.nodeType!==11){return bV}}}catch(bX){}}return bA(bY,null,null,[bW]).length>0}}})();(function(){var e=av.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bF.order.splice(1,0,"CLASS");bF.find.CLASS=function(bR,bS,bT){if(typeof bS.getElementsByClassName!=="undefined"&&!bT){return bS.getElementsByClassName(bR[1])}};e=null})();function by(bR,bW,bV,bZ,bX,bY){for(var bT=0,bS=bZ.length;bT<bS;bT++){var e=bZ[bT];if(e){var bU=false;e=e[bR];while(e){if(e.sizcache===bV){bU=bZ[e.sizset];break}if(e.nodeType===1&&!bY){e.sizcache=bV;e.sizset=bT}if(e.nodeName.toLowerCase()===bW){bU=e;break}e=e[bR]}bZ[bT]=bU}}}function bO(bR,bW,bV,bZ,bX,bY){for(var bT=0,bS=bZ.length;bT<bS;bT++){var e=bZ[bT];if(e){var bU=false;e=e[bR];while(e){if(e.sizcache===bV){bU=bZ[e.sizset];break}if(e.nodeType===1){if(!bY){e.sizcache=bV;e.sizset=bT}if(typeof bW!=="string"){if(e===bW){bU=true;break}}else{if(bA.filter(bW,[e]).length>0){bU=e;break}}}e=e[bR]}bZ[bT]=bU}}}if(av.documentElement.contains){bA.contains=function(bR,e){return bR!==e&&(bR.contains?bR.contains(e):true)}}else{if(av.documentElement.compareDocumentPosition){bA.contains=function(bR,e){return !!(bR.compareDocumentPosition(e)&16)}}else{bA.contains=function(){return false}}}bA.isXML=function(e){var bR=(e?e.ownerDocument||e:0).documentElement;return bR?bR.nodeName!=="HTML":false};var bN=function(e,bX){var bV,bT=[],bU="",bS=bX.nodeType?[bX]:bX;while((bV=bF.match.PSEUDO.exec(e))){bU+=bV[0];e=e.replace(bF.match.PSEUDO,"")}e=bF.relative[e]?e+"*":e;for(var bW=0,bR=bS.length;bW<bR;bW++){bA(e,bS[bW],bT)}return bA.filter(bU,bT)};b.find=bA;b.expr=bA.selectors;b.expr[":"]=b.expr.filters;b.unique=bA.uniqueSort;b.text=bA.getText;b.isXMLDoc=bA.isXML;b.contains=bA.contains})();var ac=/Until$/,aq=/^(?:parents|prevUntil|prevAll)/,bd=/,/,bt=/^.[^:#\[\.,]*$/,T=Array.prototype.slice,L=b.expr.match.POS,ay={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bz=this,bB,by;if(typeof e!=="string"){return b(e).filter(function(){for(bB=0,by=bz.length;bB<by;bB++){if(b.contains(bz[bB],this)){return true}}})}var bA=this.pushStack("","find",e),bD,bE,bC;for(bB=0,by=this.length;bB<by;bB++){bD=bA.length;b.find(e,this[bB],bA);if(bB>0){for(bE=bD;bE<bA.length;bE++){for(bC=0;bC<bD;bC++){if(bA[bC]===bA[bE]){bA.splice(bE--,1);break}}}}}return bA},has:function(by){var e=b(by);return this.filter(function(){for(var bA=0,bz=e.length;bA<bz;bA++){if(b.contains(this,e[bA])){return true}}})},not:function(e){return this.pushStack(aF(this,e,false),"not",e)},filter:function(e){return this.pushStack(aF(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bH,by){var bE=[],bB,bz,bG=this[0];if(b.isArray(bH)){var bD,bA,bC={},e=1;if(bG&&bH.length){for(bB=0,bz=bH.length;bB<bz;bB++){bA=bH[bB];if(!bC[bA]){bC[bA]=L.test(bA)?b(bA,by||this.context):bA}}while(bG&&bG.ownerDocument&&bG!==by){for(bA in bC){bD=bC[bA];if(bD.jquery?bD.index(bG)>-1:b(bG).is(bD)){bE.push({selector:bA,elem:bG,level:e})}}bG=bG.parentNode;e++}}return bE}var bF=L.test(bH)||typeof bH!=="string"?b(bH,by||this.context):0;for(bB=0,bz=this.length;bB<bz;bB++){bG=this[bB];while(bG){if(bF?bF.index(bG)>-1:b.find.matchesSelector(bG,bH)){bE.push(bG);break}else{bG=bG.parentNode;if(!bG||!bG.ownerDocument||bG===by||bG.nodeType===11){break}}}}bE=bE.length>1?b.unique(bE):bE;return this.pushStack(bE,"closest",bH)},index:function(e){if(!e||typeof e==="string"){return b.inArray(this[0],e?b(e):this.parent().children())}return b.inArray(e.jquery?e[0]:e,this)},add:function(e,by){var bA=typeof e==="string"?b(e,by):b.makeArray(e&&e.nodeType?[e]:e),bz=b.merge(this.get(),bA);return this.pushStack(G(bA[0])||G(bz[0])?bz:b.unique(bz))},andSelf:function(){return this.add(this.prevObject)}});function G(e){return !e||!e.parentNode||e.parentNode.nodeType===11}b.each({parent:function(by){var e=by.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(by,e,bz){return b.dir(by,"parentNode",bz)},next:function(e){return b.nth(e,2,"nextSibling")},prev:function(e){return b.nth(e,2,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(by,e,bz){return b.dir(by,"nextSibling",bz)},prevUntil:function(by,e,bz){return b.dir(by,"previousSibling",bz)},siblings:function(e){return b.sibling(e.parentNode.firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes)}},function(e,by){b.fn[e]=function(bC,bz){var bB=b.map(this,by,bC),bA=T.call(arguments);if(!ac.test(e)){bz=bC}if(bz&&typeof bz==="string"){bB=b.filter(bz,bB)}bB=this.length>1&&!ay[e]?b.unique(bB):bB;if((this.length>1||bd.test(bz))&&aq.test(e)){bB=bB.reverse()}return this.pushStack(bB,e,bA.join(","))}});b.extend({filter:function(bz,e,by){if(by){bz=":not("+bz+")"}return e.length===1?b.find.matchesSelector(e[0],bz)?[e[0]]:[]:b.find.matches(bz,e)},dir:function(bz,by,bB){var e=[],bA=bz[by];while(bA&&bA.nodeType!==9&&(bB===O||bA.nodeType!==1||!b(bA).is(bB))){if(bA.nodeType===1){e.push(bA)}bA=bA[by]}return e},nth:function(bB,e,bz,bA){e=e||1;var by=0;for(;bB;bB=bB[bz]){if(bB.nodeType===1&&++by===e){break}}return bB},sibling:function(bz,by){var e=[];for(;bz;bz=bz.nextSibling){if(bz.nodeType===1&&bz!==by){e.push(bz)}}return e}});function aF(bA,bz,e){bz=bz||0;if(b.isFunction(bz)){return b.grep(bA,function(bC,bB){var bD=!!bz.call(bC,bB,bC);return bD===e})}else{if(bz.nodeType){return b.grep(bA,function(bC,bB){return(bC===bz)===e})}else{if(typeof bz==="string"){var by=b.grep(bA,function(bB){return bB.nodeType===1});if(bt.test(bz)){return b.filter(bz,by,!e)}else{bz=b.filter(bz,by)}}}}return b.grep(bA,function(bC,bB){return(b.inArray(bC,bz)>=0)===e})}var ah=/ jQuery\d+="(?:\d+|null)"/g,ar=/^\s+/,W=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,A=/<tbody/i,Z=/<|&#?\w+;/,S=/<(?:script|object|embed|option|style)/i,q=/checked\s*(?:[^=]|=\s*.checked.)/i,bp=/\/(java|ecma)script/i,aO=/^\s*<!(?:\[CDATA\[|\-\-)/,ax={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ax.optgroup=ax.option;ax.tbody=ax.tfoot=ax.colgroup=ax.caption=ax.thead;ax.th=ax.td;if(!b.support.htmlSerialize){ax._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(e){if(b.isFunction(e)){return this.each(function(bz){var by=b(this);by.text(e.call(this,bz,by.text()))})}if(typeof e!=="object"&&e!==O){return this.empty().append((this[0]&&this[0].ownerDocument||av).createTextNode(e))}return b.text(this)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bz){b(this).wrapAll(e.call(this,bz))})}if(this[0]){var by=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){by.insertBefore(this[0])}by.map(function(){var bz=this;while(bz.firstChild&&bz.firstChild.nodeType===1){bz=bz.firstChild}return bz}).append(this)}return this},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(by){b(this).wrapInner(e.call(this,by))})}return this.each(function(){var by=b(this),bz=by.contents();if(bz.length){bz.wrapAll(e)}else{by.append(e)}})},wrap:function(e){return this.each(function(){b(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(by){this.parentNode.insertBefore(by,this)})}else{if(arguments.length){var e=b(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(by){this.parentNode.insertBefore(by,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b(arguments[0]).toArray());return e}}},remove:function(e,bA){for(var by=0,bz;(bz=this[by])!=null;by++){if(!e||b.filter(e,[bz]).length){if(!bA&&bz.nodeType===1){b.cleanData(bz.getElementsByTagName("*"));b.cleanData([bz])}if(bz.parentNode){bz.parentNode.removeChild(bz)}}}return this},empty:function(){for(var e=0,by;(by=this[e])!=null;e++){if(by.nodeType===1){b.cleanData(by.getElementsByTagName("*"))}while(by.firstChild){by.removeChild(by.firstChild)}}return this},clone:function(by,e){by=by==null?false:by;e=e==null?by:e;return this.map(function(){return b.clone(this,by,e)})},html:function(bA){if(bA===O){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ah,""):null}else{if(typeof bA==="string"&&!S.test(bA)&&(b.support.leadingWhitespace||!ar.test(bA))&&!ax[(d.exec(bA)||["",""])[1].toLowerCase()]){bA=bA.replace(W,"<$1></$2>");try{for(var bz=0,by=this.length;bz<by;bz++){if(this[bz].nodeType===1){b.cleanData(this[bz].getElementsByTagName("*"));this[bz].innerHTML=bA}}}catch(bB){this.empty().append(bA)}}else{if(b.isFunction(bA)){this.each(function(bC){var e=b(this);e.html(bA.call(this,bC,e.html()))})}else{this.empty().append(bA)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(bA){var bz=b(this),by=bz.html();bz.replaceWith(e.call(this,bA,by))})}if(typeof e!=="string"){e=b(e).detach()}return this.each(function(){var bz=this.nextSibling,by=this.parentNode;b(this).remove();if(bz){b(bz).before(e)}else{b(by).append(e)}})}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bE,bI,bH){var bA,bB,bD,bG,bF=bE[0],by=[];if(!b.support.checkClone&&arguments.length===3&&typeof bF==="string"&&q.test(bF)){return this.each(function(){b(this).domManip(bE,bI,bH,true)})}if(b.isFunction(bF)){return this.each(function(bK){var bJ=b(this);bE[0]=bF.call(this,bK,bI?bJ.html():O);bJ.domManip(bE,bI,bH)})}if(this[0]){bG=bF&&bF.parentNode;if(b.support.parentNode&&bG&&bG.nodeType===11&&bG.childNodes.length===this.length){bA={fragment:bG}}else{bA=b.buildFragment(bE,this,by)}bD=bA.fragment;if(bD.childNodes.length===1){bB=bD=bD.firstChild}else{bB=bD.firstChild}if(bB){bI=bI&&b.nodeName(bB,"tr");for(var bz=0,e=this.length,bC=e-1;bz<e;bz++){bH.call(bI?be(this[bz],bB):this[bz],bA.cacheable||(e>1&&bz<bC)?b.clone(bD,true,true):bD)}}if(by.length){b.each(by,bs)}}return this}});function be(e,by){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function x(e,bE){if(bE.nodeType!==1||!b.hasData(e)){return}var bD=b.expando,bA=b.data(e),bB=b.data(bE,bA);if((bA=bA[bD])){var bF=bA.events;bB=bB[bD]=b.extend({},bA);if(bF){delete bB.handle;bB.events={};for(var bC in bF){for(var bz=0,by=bF[bC].length;bz<by;bz++){b.event.add(bE,bC+(bF[bC][bz].namespace?".":"")+bF[bC][bz].namespace,bF[bC][bz],bF[bC][bz].data)}}}}}function ai(by,e){var bz;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(by)}bz=e.nodeName.toLowerCase();if(bz==="object"){e.outerHTML=by.outerHTML}else{if(bz==="input"&&(by.type==="checkbox"||by.type==="radio")){if(by.checked){e.defaultChecked=e.checked=by.checked}if(e.value!==by.value){e.value=by.value}}else{if(bz==="option"){e.selected=by.defaultSelected}else{if(bz==="input"||bz==="textarea"){e.defaultValue=by.defaultValue}}}}e.removeAttribute(b.expando)}b.buildFragment=function(bC,bA,by){var bB,e,bz,bD=(bA&&bA[0]?bA[0].ownerDocument||bA[0]:av);if(bC.length===1&&typeof bC[0]==="string"&&bC[0].length<512&&bD===av&&bC[0].charAt(0)==="<"&&!S.test(bC[0])&&(b.support.checkClone||!q.test(bC[0]))){e=true;bz=b.fragments[bC[0]];if(bz&&bz!==1){bB=bz}}if(!bB){bB=bD.createDocumentFragment();b.clean(bC,bD,bB,by)}if(e){b.fragments[bC[0]]=bz?bB:1}return{fragment:bB,cacheable:e}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,by){b.fn[e]=function(bz){var bC=[],bF=b(bz),bE=this.length===1&&this[0].parentNode;if(bE&&bE.nodeType===11&&bE.childNodes.length===1&&bF.length===1){bF[by](this[0]);return this}else{for(var bD=0,bA=bF.length;bD<bA;bD++){var bB=(bD>0?this.clone(true):this).get();b(bF[bD])[by](bB);bC=bC.concat(bB)}return this.pushStack(bC,e,bF.selector)}}});function bi(e){if("getElementsByTagName" in e){return e.getElementsByTagName("*")}else{if("querySelectorAll" in e){return e.querySelectorAll("*")}else{return[]}}}function az(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function I(e){if(b.nodeName(e,"input")){az(e)}else{if(e.getElementsByTagName){b.grep(e.getElementsByTagName("input"),az)}}}b.extend({clone:function(bB,bD,bz){var bC=bB.cloneNode(true),e,by,bA;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bB.nodeType===1||bB.nodeType===11)&&!b.isXMLDoc(bB)){ai(bB,bC);e=bi(bB);by=bi(bC);for(bA=0;e[bA];++bA){ai(e[bA],by[bA])}}if(bD){x(bB,bC);if(bz){e=bi(bB);by=bi(bC);for(bA=0;e[bA];++bA){x(e[bA],by[bA])}}}return bC},clean:function(bz,bB,bK,bD){var bI;bB=bB||av;if(typeof bB.createElement==="undefined"){bB=bB.ownerDocument||bB[0]&&bB[0].ownerDocument||av}var bL=[],bE;for(var bH=0,bC;(bC=bz[bH])!=null;bH++){if(typeof bC==="number"){bC+=""}if(!bC){continue}if(typeof bC==="string"){if(!Z.test(bC)){bC=bB.createTextNode(bC)}else{bC=bC.replace(W,"<$1></$2>");var bN=(d.exec(bC)||["",""])[1].toLowerCase(),bA=ax[bN]||ax._default,bG=bA[0],by=bB.createElement("div");by.innerHTML=bA[1]+bC+bA[2];while(bG--){by=by.lastChild}if(!b.support.tbody){var e=A.test(bC),bF=bN==="table"&&!e?by.firstChild&&by.firstChild.childNodes:bA[1]==="<table>"&&!e?by.childNodes:[];for(bE=bF.length-1;bE>=0;--bE){if(b.nodeName(bF[bE],"tbody")&&!bF[bE].childNodes.length){bF[bE].parentNode.removeChild(bF[bE])}}}if(!b.support.leadingWhitespace&&ar.test(bC)){by.insertBefore(bB.createTextNode(ar.exec(bC)[0]),by.firstChild)}bC=by.childNodes}}var bJ;if(!b.support.appendChecked){if(bC[0]&&typeof(bJ=bC.length)==="number"){for(bE=0;bE<bJ;bE++){I(bC[bE])}}else{I(bC)}}if(bC.nodeType){bL.push(bC)}else{bL=b.merge(bL,bC)}}if(bK){bI=function(bO){return !bO.type||bp.test(bO.type)};for(bH=0;bL[bH];bH++){if(bD&&b.nodeName(bL[bH],"script")&&(!bL[bH].type||bL[bH].type.toLowerCase()==="text/javascript")){bD.push(bL[bH].parentNode?bL[bH].parentNode.removeChild(bL[bH]):bL[bH])}else{if(bL[bH].nodeType===1){var bM=b.grep(bL[bH].getElementsByTagName("script"),bI);bL.splice.apply(bL,[bH+1,0].concat(bM))}bK.appendChild(bL[bH])}}}return bL},cleanData:function(by){var bB,bz,e=b.cache,bG=b.expando,bE=b.event.special,bD=b.support.deleteExpando;for(var bC=0,bA;(bA=by[bC])!=null;bC++){if(bA.nodeName&&b.noData[bA.nodeName.toLowerCase()]){continue}bz=bA[b.expando];if(bz){bB=e[bz]&&e[bz][bG];if(bB&&bB.events){for(var bF in bB.events){if(bE[bF]){b.event.remove(bA,bF)}else{b.removeEvent(bA,bF,bB.handle)}}if(bB.handle){bB.handle.elem=null}}if(bD){delete bA[b.expando]}else{if(bA.removeAttribute){bA.removeAttribute(b.expando)}}delete e[bz]}}}});function bs(e,by){if(by.src){b.ajax({url:by.src,async:false,dataType:"script"})}else{b.globalEval((by.text||by.textContent||by.innerHTML||"").replace(aO,"/*$0*/"))}if(by.parentNode){by.parentNode.removeChild(by)}}var al=/alpha\([^)]*\)/i,au=/opacity=([^)]*)/,aY=/-([a-z])/ig,D=/([A-Z]|^ms)/g,bg=/^-?\d+(?:px)?$/i,br=/^-?\d/,M=/^[+\-]=/,ak=/[^+\-\.\de]+/g,ba={position:"absolute",visibility:"hidden",display:"block"},an=["Left","Right"],a4=["Top","Bottom"],aa,aJ,aX,p=function(e,by){return by.toUpperCase()};b.fn.css=function(e,by){if(arguments.length===2&&by===O){return this}return b.access(this,e,by,true,function(bA,bz,bB){return bB!==O?b.style(bA,bz,bB):b.css(bA,bz)})};b.extend({cssHooks:{opacity:{get:function(bz,by){if(by){var e=aa(bz,"opacity","opacity");return e===""?"1":e}else{return bz.style.opacity}}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true,widows:true,orphans:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bA,bz,bG,bB){if(!bA||bA.nodeType===3||bA.nodeType===8||!bA.style){return}var bE,bF,bC=b.camelCase(bz),by=bA.style,bH=b.cssHooks[bC];bz=b.cssProps[bC]||bC;if(bG!==O){bF=typeof bG;if(bF==="number"&&isNaN(bG)||bG==null){return}if(bF==="string"&&M.test(bG)){bG=+bG.replace(ak,"")+parseFloat(b.css(bA,bz))}if(bF==="number"&&!b.cssNumber[bC]){bG+="px"}if(!bH||!("set" in bH)||(bG=bH.set(bA,bG))!==O){try{by[bz]=bG}catch(bD){}}}else{if(bH&&"get" in bH&&(bE=bH.get(bA,false,bB))!==O){return bE}return by[bz]}},css:function(bB,bA,by){var bz,e;bA=b.camelCase(bA);e=b.cssHooks[bA];bA=b.cssProps[bA]||bA;if(bA==="cssFloat"){bA="float"}if(e&&"get" in e&&(bz=e.get(bB,true,by))!==O){return bz}else{if(aa){return aa(bB,bA)}}},swap:function(bA,bz,bB){var e={};for(var by in bz){e[by]=bA.style[by];bA.style[by]=bz[by]}bB.call(bA);for(by in bz){bA.style[by]=e[by]}},camelCase:function(e){return e.replace(aY,p)}});b.curCSS=b.css;b.each(["height","width"],function(by,e){b.cssHooks[e]={get:function(bB,bA,bz){var bC;if(bA){if(bB.offsetWidth!==0){bC=s(bB,e,bz)}else{b.swap(bB,ba,function(){bC=s(bB,e,bz)})}if(bC<=0){bC=aa(bB,e,e);if(bC==="0px"&&aX){bC=aX(bB,e,e)}if(bC!=null){return bC===""||bC==="auto"?"0px":bC}}if(bC<0||bC==null){bC=bB.style[e];return bC===""||bC==="auto"?"0px":bC}return typeof bC==="string"?bC:bC+"px"}},set:function(bz,bA){if(bg.test(bA)){bA=parseFloat(bA);if(bA>=0){return bA+"px"}}else{return bA}}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(by,e){return au.test((e&&by.currentStyle?by.currentStyle.filter:by.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bB,bC){var bA=bB.style,by=bB.currentStyle;bA.zoom=1;var e=b.isNaN(bC)?"":"alpha(opacity="+bC*100+")",bz=by&&by.filter||bA.filter||"";bA.filter=al.test(bz)?bz.replace(al,e):bz+" "+e}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bz,by){var e;b.swap(bz,{display:"inline-block"},function(){if(by){e=aa(bz,"margin-right","marginRight")}else{e=bz.style.marginRight}});return e}}}});if(av.defaultView&&av.defaultView.getComputedStyle){aJ=function(bB,bz){var by,bA,e;bz=bz.replace(D,"-$1").toLowerCase();if(!(bA=bB.ownerDocument.defaultView)){return O}if((e=bA.getComputedStyle(bB,null))){by=e.getPropertyValue(bz);if(by===""&&!b.contains(bB.ownerDocument.documentElement,bB)){by=b.style(bB,bz)}}return by}}if(av.documentElement.currentStyle){aX=function(bB,bz){var bC,by=bB.currentStyle&&bB.currentStyle[bz],e=bB.runtimeStyle&&bB.runtimeStyle[bz],bA=bB.style;if(!bg.test(by)&&br.test(by)){bC=bA.left;if(e){bB.runtimeStyle.left=bB.currentStyle.left}bA.left=bz==="fontSize"?"1em":(by||0);by=bA.pixelLeft+"px";bA.left=bC;if(e){bB.runtimeStyle.left=e}}return by===""?"auto":by}}aa=aJ||aX;function s(bz,by,e){var bB=by==="width"?an:a4,bA=by==="width"?bz.offsetWidth:bz.offsetHeight;if(e==="border"){return bA}b.each(bB,function(){if(!e){bA-=parseFloat(b.css(bz,"padding"+this))||0}if(e==="margin"){bA+=parseFloat(b.css(bz,"margin"+this))||0}else{bA-=parseFloat(b.css(bz,"border"+this+"Width"))||0}});return bA}if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bz){var by=bz.offsetWidth,e=bz.offsetHeight;return(by===0&&e===0)||(!b.support.reliableHiddenOffsets&&(bz.style.display||b.css(bz,"display"))==="none")};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}}var k=/%20/g,ap=/\[\]$/,bw=/\r?\n/g,bu=/#.*$/,aD=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,a1=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aN=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,aQ=/^(?:GET|HEAD)$/,c=/^\/\//,P=/\?/,a9=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:select|textarea)/i,h=/\s+/,bv=/([?&])_=[^&]*/,N=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,E=b.fn.load,ab={},v={},aE,w;try{aE=bo.href}catch(aw){aE=av.createElement("a");aE.href="";aE=aE.href}w=N.exec(aE.toLowerCase())||[];function f(e){return function(bB,bD){if(typeof bB!=="string"){bD=bB;bB="*"}if(b.isFunction(bD)){var bA=bB.toLowerCase().split(h),bz=0,bC=bA.length,by,bE,bF;for(;bz<bC;bz++){by=bA[bz];bF=/^\+/.test(by);if(bF){by=by.substr(1)||"*"}bE=e[by]=e[by]||[];bE[bF?"unshift":"push"](bD)}}}}function aV(by,bH,bC,bG,bE,bA){bE=bE||bH.dataTypes[0];bA=bA||{};bA[bE]=true;var bD=by[bE],bz=0,e=bD?bD.length:0,bB=(by===ab),bF;for(;bz<e&&(bB||!bF);bz++){bF=bD[bz](bH,bC,bG);if(typeof bF==="string"){if(!bB||bA[bF]){bF=O}else{bH.dataTypes.unshift(bF);bF=aV(by,bH,bC,bG,bF,bA)}}}if((bB||!bF)&&!bA["*"]){bF=aV(by,bH,bC,bG,"*",bA)}return bF}b.fn.extend({load:function(bz,bC,bD){if(typeof bz!=="string"&&E){return E.apply(this,arguments)}else{if(!this.length){return this}}var bB=bz.indexOf(" ");if(bB>=0){var e=bz.slice(bB,bz.length);bz=bz.slice(0,bB)}var bA="GET";if(bC){if(b.isFunction(bC)){bD=bC;bC=O}else{if(typeof bC==="object"){bC=b.param(bC,b.ajaxSettings.traditional);bA="POST"}}}var by=this;b.ajax({url:bz,type:bA,dataType:"html",data:bC,complete:function(bF,bE,bG){bG=bF.responseText;if(bF.isResolved()){bF.done(function(bH){bG=bH});by.html(e?b("<div>").append(bG.replace(a9,"")).find(e):bG)}if(bD){by.each(bD,[bG,bE,bF])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||u.test(this.nodeName)||a1.test(this.type))}).map(function(e,by){var bz=b(this).val();return bz==null?null:b.isArray(bz)?b.map(bz,function(bB,bA){return{name:by.name,value:bB.replace(bw,"\r\n")}}):{name:by.name,value:bz.replace(bw,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,by){b.fn[by]=function(bz){return this.bind(by,bz)}});b.each(["get","post"],function(e,by){b[by]=function(bz,bB,bC,bA){if(b.isFunction(bB)){bA=bA||bC;bC=bB;bB=O}return b.ajax({type:by,url:bz,data:bB,success:bC,dataType:bA})}});b.extend({getScript:function(e,by){return b.get(e,O,by,"script")},getJSON:function(e,by,bz){return b.get(e,by,bz,"json")},ajaxSetup:function(bz,e){if(!e){e=bz;bz=b.extend(true,b.ajaxSettings,e)}else{b.extend(true,bz,b.ajaxSettings,e)}for(var by in {context:1,url:1}){if(by in e){bz[by]=e[by]}else{if(by in b.ajaxSettings){bz[by]=b.ajaxSettings[by]}}}return bz},ajaxSettings:{url:aE,isLocal:aN.test(w[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bf.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML}},ajaxPrefilter:f(ab),ajaxTransport:f(v),ajax:function(bC,bA){if(typeof bC==="object"){bA=bC;bC=O}bA=bA||{};var bG=b.ajaxSetup({},bA),bV=bG.context||bG,bJ=bV!==bG&&(bV.nodeType||bV instanceof b)?b(bV):b.event,bU=b.Deferred(),bQ=b._Deferred(),bE=bG.statusCode||{},bF,bK={},bR={},bT,bB,bO,bH,bL,bD=0,bz,bN,bM={readyState:0,setRequestHeader:function(bW,bX){if(!bD){var e=bW.toLowerCase();bW=bR[e]=bR[e]||bW;bK[bW]=bX}return this},getAllResponseHeaders:function(){return bD===2?bT:null},getResponseHeader:function(bW){var e;if(bD===2){if(!bB){bB={};while((e=aD.exec(bT))){bB[e[1].toLowerCase()]=e[2]}}e=bB[bW.toLowerCase()]}return e===O?null:e},overrideMimeType:function(e){if(!bD){bG.mimeType=e}return this},abort:function(e){e=e||"abort";if(bO){bO.abort(e)}bI(0,e);return this}};function bI(b1,bZ,b2,bY){if(bD===2){return}bD=2;if(bH){clearTimeout(bH)}bO=O;bT=bY||"";bM.readyState=b1?4:0;var bW,b6,b5,b0=b2?bm(bG,bM,b2):O,bX,b4;if(b1>=200&&b1<300||b1===304){if(bG.ifModified){if((bX=bM.getResponseHeader("Last-Modified"))){b.lastModified[bF]=bX}if((b4=bM.getResponseHeader("Etag"))){b.etag[bF]=b4}}if(b1===304){bZ="notmodified";bW=true}else{try{b6=J(bG,b0);bZ="success";bW=true}catch(b3){bZ="parsererror";b5=b3}}}else{b5=bZ;if(!bZ||b1){bZ="error";if(b1<0){b1=0}}}bM.status=b1;bM.statusText=bZ;if(bW){bU.resolveWith(bV,[b6,bZ,bM])}else{bU.rejectWith(bV,[bM,bZ,b5])}bM.statusCode(bE);bE=O;if(bz){bJ.trigger("ajax"+(bW?"Success":"Error"),[bM,bG,bW?b6:b5])}bQ.resolveWith(bV,[bM,bZ]);if(bz){bJ.trigger("ajaxComplete",[bM,bG]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bU.promise(bM);bM.success=bM.done;bM.error=bM.fail;bM.complete=bQ.done;bM.statusCode=function(bW){if(bW){var e;if(bD<2){for(e in bW){bE[e]=[bE[e],bW[e]]}}else{e=bW[bM.status];bM.then(e,e)}}return this};bG.url=((bC||bG.url)+"").replace(bu,"").replace(c,w[1]+"//");bG.dataTypes=b.trim(bG.dataType||"*").toLowerCase().split(h);if(bG.crossDomain==null){bL=N.exec(bG.url.toLowerCase());bG.crossDomain=!!(bL&&(bL[1]!=w[1]||bL[2]!=w[2]||(bL[3]||(bL[1]==="http:"?80:443))!=(w[3]||(w[1]==="http:"?80:443))))}if(bG.data&&bG.processData&&typeof bG.data!=="string"){bG.data=b.param(bG.data,bG.traditional)}aV(ab,bG,bA,bM);if(bD===2){return false}bz=bG.global;bG.type=bG.type.toUpperCase();bG.hasContent=!aQ.test(bG.type);if(bz&&b.active++===0){b.event.trigger("ajaxStart")}if(!bG.hasContent){if(bG.data){bG.url+=(P.test(bG.url)?"&":"?")+bG.data}bF=bG.url;if(bG.cache===false){var by=b.now(),bS=bG.url.replace(bv,"$1_="+by);bG.url=bS+((bS===bG.url)?(P.test(bG.url)?"&":"?")+"_="+by:"")}}if(bG.data&&bG.hasContent&&bG.contentType!==false||bA.contentType){bM.setRequestHeader("Content-Type",bG.contentType)}if(bG.ifModified){bF=bF||bG.url;if(b.lastModified[bF]){bM.setRequestHeader("If-Modified-Since",b.lastModified[bF])}if(b.etag[bF]){bM.setRequestHeader("If-None-Match",b.etag[bF])}}bM.setRequestHeader("Accept",bG.dataTypes[0]&&bG.accepts[bG.dataTypes[0]]?bG.accepts[bG.dataTypes[0]]+(bG.dataTypes[0]!=="*"?", */*; q=0.01":""):bG.accepts["*"]);for(bN in bG.headers){bM.setRequestHeader(bN,bG.headers[bN])}if(bG.beforeSend&&(bG.beforeSend.call(bV,bM,bG)===false||bD===2)){bM.abort();return false}for(bN in {success:1,error:1,complete:1}){bM[bN](bG[bN])}bO=aV(v,bG,bA,bM);if(!bO){bI(-1,"No Transport")}else{bM.readyState=1;if(bz){bJ.trigger("ajaxSend",[bM,bG])}if(bG.async&&bG.timeout>0){bH=setTimeout(function(){bM.abort("timeout")},bG.timeout)}try{bD=1;bO.send(bK,bI)}catch(bP){if(status<2){bI(-1,bP)}else{b.error(bP)}}}return bM},param:function(e,bz){var by=[],bB=function(bC,bD){bD=b.isFunction(bD)?bD():bD;by[by.length]=encodeURIComponent(bC)+"="+encodeURIComponent(bD)};if(bz===O){bz=b.ajaxSettings.traditional}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bB(this.name,this.value)})}else{for(var bA in e){z(bA,e[bA],bz,bB)}}return by.join("&").replace(k,"+")}});function z(bz,bB,by,bA){if(b.isArray(bB)){b.each(bB,function(bD,bC){if(by||ap.test(bz)){bA(bz,bC)}else{z(bz+"["+(typeof bC==="object"||b.isArray(bC)?bD:"")+"]",bC,by,bA)}})}else{if(!by&&bB!=null&&typeof bB==="object"){for(var e in bB){z(bz+"["+e+"]",bB[e],by,bA)}}else{bA(bz,bB)}}}b.extend({active:0,lastModified:{},etag:{}});function bm(bG,bF,bC){var by=bG.contents,bE=bG.dataTypes,bz=bG.responseFields,bB,bD,bA,e;for(bD in bz){if(bD in bC){bF[bz[bD]]=bC[bD]}}while(bE[0]==="*"){bE.shift();if(bB===O){bB=bG.mimeType||bF.getResponseHeader("content-type")}}if(bB){for(bD in by){if(by[bD]&&by[bD].test(bB)){bE.unshift(bD);break}}}if(bE[0] in bC){bA=bE[0]}else{for(bD in bC){if(!bE[0]||bG.converters[bD+" "+bE[0]]){bA=bD;break}if(!e){e=bD}}bA=bA||e}if(bA){if(bA!==bE[0]){bE.unshift(bA)}return bC[bA]}}function J(bK,bC){if(bK.dataFilter){bC=bK.dataFilter(bC,bK.dataType)}var bG=bK.dataTypes,bJ={},bD,bH,bz=bG.length,bE,bF=bG[0],bA,bB,bI,by,e;for(bD=1;bD<bz;bD++){if(bD===1){for(bH in bK.converters){if(typeof bH==="string"){bJ[bH.toLowerCase()]=bK.converters[bH]}}}bA=bF;bF=bG[bD];if(bF==="*"){bF=bA}else{if(bA!=="*"&&bA!==bF){bB=bA+" "+bF;bI=bJ[bB]||bJ["* "+bF];if(!bI){e=O;for(by in bJ){bE=by.split(" ");if(bE[0]===bA||bE[0]==="*"){e=bJ[bE[1]+" "+bF];if(e){by=bJ[by];if(by===true){bI=e}else{if(e===true){bI=by}}break}}}}if(!(bI||e)){b.error("No conversion from "+bB.replace(" "," to "))}if(bI!==true){bC=bI?bI(bC):e(by(bC))}}}}return bC}var aC=b.now(),y=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(aC++)}});b.ajaxPrefilter("json jsonp",function(bG,bD,bF){var bA=bG.contentType==="application/x-www-form-urlencoded"&&(typeof bG.data==="string");if(bG.dataTypes[0]==="jsonp"||bG.jsonp!==false&&(y.test(bG.url)||bA&&y.test(bG.data))){var bE,bz=bG.jsonpCallback=b.isFunction(bG.jsonpCallback)?bG.jsonpCallback():bG.jsonpCallback,bC=bf[bz],e=bG.url,bB=bG.data,by="$1"+bz+"$2";if(bG.jsonp!==false){e=e.replace(y,by);if(bG.url===e){if(bA){bB=bB.replace(y,by)}if(bG.data===bB){e+=(/\?/.test(e)?"&":"?")+bG.jsonp+"="+bz}}}bG.url=e;bG.data=bB;bf[bz]=function(bH){bE=[bH]};bF.always(function(){bf[bz]=bC;if(bE&&b.isFunction(bC)){bf[bz](bE[0])}});bG.converters["script json"]=function(){if(!bE){b.error(bz+" was not called")}return bE[0]};bG.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script",function(e){if(e.cache===O){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b.ajaxTransport("script",function(bz){if(bz.crossDomain){var e,by=av.head||av.getElementsByTagName("head")[0]||av.documentElement;return{send:function(bA,bB){e=av.createElement("script");e.async="async";if(bz.scriptCharset){e.charset=bz.scriptCharset}e.src=bz.url;e.onload=e.onreadystatechange=function(bD,bC){if(bC||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(by&&e.parentNode){by.removeChild(e)}e=O;if(!bC){bB(200,"success")}}};by.insertBefore(e,by.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var F=bf.ActiveXObject?function(){for(var e in Q){Q[e](0,1)}}:false,C=0,Q;function aM(){try{return new bf.XMLHttpRequest()}catch(by){}}function aj(){try{return new bf.ActiveXObject("Microsoft.XMLHTTP")}catch(by){}}b.ajaxSettings.xhr=bf.ActiveXObject?function(){return !this.isLocal&&aM()||aj()}:aM;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var by;return{send:function(bE,bz){var bD=e.xhr(),bC,bB;if(e.username){bD.open(e.type,e.url,e.async,e.username,e.password)}else{bD.open(e.type,e.url,e.async)}if(e.xhrFields){for(bB in e.xhrFields){bD[bB]=e.xhrFields[bB]}}if(e.mimeType&&bD.overrideMimeType){bD.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bE["X-Requested-With"]){bE["X-Requested-With"]="XMLHttpRequest"}try{for(bB in bE){bD.setRequestHeader(bB,bE[bB])}}catch(bA){}bD.send((e.hasContent&&e.data)||null);by=function(bN,bH){var bI,bG,bF,bL,bK;try{if(by&&(bH||bD.readyState===4)){by=O;if(bC){bD.onreadystatechange=b.noop;if(F){delete Q[bC]}}if(bH){if(bD.readyState!==4){bD.abort()}}else{bI=bD.status;bF=bD.getAllResponseHeaders();bL={};bK=bD.responseXML;if(bK&&bK.documentElement){bL.xml=bK}bL.text=bD.responseText;try{bG=bD.statusText}catch(bM){bG=""}if(!bI&&e.isLocal&&!e.crossDomain){bI=bL.text?200:404}else{if(bI===1223){bI=204}}}}}catch(bJ){if(!bH){bz(-1,bJ)}}if(bL){bz(bI,bG,bL,bF)}};if(!e.async||bD.readyState===4){by()}else{bC=++C;if(F){if(!Q){Q={};b(bf).unload(F)}Q[bC]=by}bD.onreadystatechange=by}},abort:function(){if(by){by(0,1)}}}}})}var U={},bc,n,aB=/^(?:toggle|show|hide)$/,aS=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a5,aI=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a7,V=bf.webkitRequestAnimationFrame||bf.mozRequestAnimationFrame||bf.oRequestAnimationFrame;b.fn.extend({show:function(bA,bD,bC){var bz,bB;if(bA||bA===0){return this.animate(a3("show",3),bA,bD,bC)}else{for(var by=0,e=this.length;by<e;by++){bz=this[by];if(bz.style){bB=bz.style.display;if(!b._data(bz,"olddisplay")&&bB==="none"){bB=bz.style.display=""}if(bB===""&&b.css(bz,"display")==="none"){b._data(bz,"olddisplay",B(bz.nodeName))}}}for(by=0;by<e;by++){bz=this[by];if(bz.style){bB=bz.style.display;if(bB===""||bB==="none"){bz.style.display=b._data(bz,"olddisplay")||""}}}return this}},hide:function(bz,bC,bB){if(bz||bz===0){return this.animate(a3("hide",3),bz,bC,bB)}else{for(var by=0,e=this.length;by<e;by++){if(this[by].style){var bA=b.css(this[by],"display");if(bA!=="none"&&!b._data(this[by],"olddisplay")){b._data(this[by],"olddisplay",bA)}}}for(by=0;by<e;by++){if(this[by].style){this[by].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bz,by,bA){var e=typeof bz==="boolean";if(b.isFunction(bz)&&b.isFunction(by)){this._toggle.apply(this,arguments)}else{if(bz==null||e){this.each(function(){var bB=e?bz:b(this).is(":hidden");b(this)[bB?"show":"hide"]()})}else{this.animate(a3("toggle",3),bz,by,bA)}}return this},fadeTo:function(e,bA,bz,by){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bA},e,bz,by)},animate:function(bB,by,bA,bz){var e=b.speed(by,bA,bz);if(b.isEmptyObject(bB)){return this.each(e.complete,[false])}bB=b.extend({},bB);return this[e.queue===false?"each":"queue"](function(){if(e.queue===false){b._mark(this)}var bF=b.extend({},e),bM=this.nodeType===1,bJ=bM&&b(this).is(":hidden"),bC,bG,bE,bL,bK,bI,bD,bH,bN;bF.animatedProperties={};for(bE in bB){bC=b.camelCase(bE);if(bE!==bC){bB[bC]=bB[bE];delete bB[bE]}bG=bB[bC];if(b.isArray(bG)){bF.animatedProperties[bC]=bG[1];bG=bB[bC]=bG[0]}else{bF.animatedProperties[bC]=bF.specialEasing&&bF.specialEasing[bC]||bF.easing||"swing"}if(bG==="hide"&&bJ||bG==="show"&&!bJ){return bF.complete.call(this)}if(bM&&(bC==="height"||bC==="width")){bF.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{bL=B(this.nodeName);if(bL==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}}if(bF.overflow!=null){this.style.overflow="hidden"}for(bE in bB){bK=new b.fx(this,bF,bE);bG=bB[bE];if(aB.test(bG)){bK[bG==="toggle"?bJ?"show":"hide":bG]()}else{bI=aS.exec(bG);bD=bK.cur();if(bI){bH=parseFloat(bI[2]);bN=bI[3]||(b.cssNumber[bE]?"":"px");if(bN!=="px"){b.style(this,bE,(bH||1)+bN);bD=((bH||1)/bK.cur())*bD;b.style(this,bE,bD+bN)}if(bI[1]){bH=((bI[1]==="-="?-1:1)*bH)+bD}bK.custom(bD,bH,bN)}else{bK.custom(bD,bG,"")}}}return true})},stop:function(by,e){if(by){this.queue([])}this.each(function(){var bA=b.timers,bz=bA.length;if(!e){b._unmark(true,this)}while(bz--){if(bA[bz].elem===this){if(e){bA[bz](true)}bA.splice(bz,1)}}});if(!e){this.dequeue()}return this}});function bj(){setTimeout(at,0);return(a7=b.now())}function at(){a7=O}function a3(by,e){var bz={};b.each(aI.concat.apply([],aI.slice(0,e)),function(){bz[this]=by});return bz}b.each({slideDown:a3("show",1),slideUp:a3("hide",1),slideToggle:a3("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,by){b.fn[e]=function(bz,bB,bA){return this.animate(by,bz,bB,bA)}});b.extend({speed:function(bz,bA,by){var e=bz&&typeof bz==="object"?b.extend({},bz):{complete:by||!by&&bA||b.isFunction(bz)&&bz,duration:bz,easing:by&&bA||bA&&!b.isFunction(bA)&&bA};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;e.old=e.complete;e.complete=function(bB){if(e.queue!==false){b.dequeue(this)}else{if(bB!==false){b._unmark(this)}}if(b.isFunction(e.old)){e.old.call(this)}};return e},easing:{linear:function(bz,bA,e,by){return e+by*bz},swing:function(bz,bA,e,by){return((-Math.cos(bz*Math.PI)/2)+0.5)*by+e}},timers:[],fx:function(by,e,bz){this.options=e;this.elem=by;this.prop=bz;e.orig=e.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,by=b.css(this.elem,this.prop);return isNaN(e=parseFloat(by))?!by||by==="auto"?0:by:e},custom:function(bD,bC,bA){var e=this,bz=b.fx,bB;this.startTime=a7||bj();this.start=bD;this.end=bC;this.unit=bA||this.unit||(b.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function by(bE){return e.step(bE)}by.elem=this.elem;if(by()&&b.timers.push(by)&&!a5){if(V){a5=1;bB=function(){if(a5){V(bB);bz.tick()}};V(bB)}else{a5=setInterval(bz.tick,bz.interval)}}},show:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bB){var bA=a7||bj(),e=true,bC=this.elem,by=this.options,bz,bE;if(bB||bA>=by.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();by.animatedProperties[this.prop]=true;for(bz in by.animatedProperties){if(by.animatedProperties[bz]!==true){e=false}}if(e){if(by.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bF,bG){bC.style["overflow"+bG]=by.overflow[bF]})}if(by.hide){b(bC).hide()}if(by.hide||by.show){for(var bD in by.animatedProperties){b.style(bC,bD,by.orig[bD])}}by.complete.call(bC)}return false}else{if(by.duration==Infinity){this.now=bA}else{bE=bA-this.startTime;this.state=bE/by.duration;this.pos=b.easing[by.animatedProperties[this.prop]](this.state,bE,0,1,by.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){for(var by=b.timers,e=0;e<by.length;++e){if(!by[e]()){by.splice(e--,1)}}if(!by.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(a5);a5=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit}else{e.elem[e.prop]=e.now}}}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(by){return e===by.elem}).length}}function B(bz){if(!U[bz]){var e=b("<"+bz+">").appendTo("body"),by=e.css("display");e.remove();if(by==="none"||by===""){if(!bc){bc=av.createElement("iframe");bc.frameBorder=bc.width=bc.height=0}av.body.appendChild(bc);if(!n||!bc.createElement){n=(bc.contentWindow||bc.contentDocument).document;n.write("<!doctype><html><body></body></html>")}e=n.createElement(bz);n.body.appendChild(e);by=b.css(e,"display");av.body.removeChild(bc)}U[bz]=by}return U[bz]}var Y=/^t(?:able|d|h)$/i,ae=/^(?:body|html)$/i;if("getBoundingClientRect" in av.documentElement){b.fn.offset=function(bL){var bB=this[0],bE;if(bL){return this.each(function(e){b.offset.setOffset(this,bL,e)})}if(!bB||!bB.ownerDocument){return null}if(bB===bB.ownerDocument.body){return b.offset.bodyOffset(bB)}try{bE=bB.getBoundingClientRect()}catch(bI){}var bK=bB.ownerDocument,bz=bK.documentElement;if(!bE||!b.contains(bz,bB)){return bE?{top:bE.top,left:bE.left}:{top:0,left:0}}var bF=bK.body,bG=aL(bK),bD=bz.clientTop||bF.clientTop||0,bH=bz.clientLeft||bF.clientLeft||0,by=bG.pageYOffset||b.support.boxModel&&bz.scrollTop||bF.scrollTop,bC=bG.pageXOffset||b.support.boxModel&&bz.scrollLeft||bF.scrollLeft,bJ=bE.top+by-bD,bA=bE.left+bC-bH;return{top:bJ,left:bA}}}else{b.fn.offset=function(bI){var bC=this[0];if(bI){return this.each(function(bJ){b.offset.setOffset(this,bI,bJ)})}if(!bC||!bC.ownerDocument){return null}if(bC===bC.ownerDocument.body){return b.offset.bodyOffset(bC)}b.offset.initialize();var bF,bz=bC.offsetParent,by=bC,bH=bC.ownerDocument,bA=bH.documentElement,bD=bH.body,bE=bH.defaultView,e=bE?bE.getComputedStyle(bC,null):bC.currentStyle,bG=bC.offsetTop,bB=bC.offsetLeft;while((bC=bC.parentNode)&&bC!==bD&&bC!==bA){if(b.offset.supportsFixedPosition&&e.position==="fixed"){break}bF=bE?bE.getComputedStyle(bC,null):bC.currentStyle;bG-=bC.scrollTop;bB-=bC.scrollLeft;if(bC===bz){bG+=bC.offsetTop;bB+=bC.offsetLeft;if(b.offset.doesNotAddBorder&&!(b.offset.doesAddBorderForTableAndCells&&Y.test(bC.nodeName))){bG+=parseFloat(bF.borderTopWidth)||0;bB+=parseFloat(bF.borderLeftWidth)||0}by=bz;bz=bC.offsetParent}if(b.offset.subtractsBorderForOverflowNotVisible&&bF.overflow!=="visible"){bG+=parseFloat(bF.borderTopWidth)||0;bB+=parseFloat(bF.borderLeftWidth)||0}e=bF}if(e.position==="relative"||e.position==="static"){bG+=bD.offsetTop;bB+=bD.offsetLeft}if(b.offset.supportsFixedPosition&&e.position==="fixed"){bG+=Math.max(bA.scrollTop,bD.scrollTop);bB+=Math.max(bA.scrollLeft,bD.scrollLeft)}return{top:bG,left:bB}}}b.offset={initialize:function(){var e=av.body,by=av.createElement("div"),bB,bD,bC,bE,bz=parseFloat(b.css(e,"marginTop"))||0,bA="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.extend(by.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});by.innerHTML=bA;e.insertBefore(by,e.firstChild);bB=by.firstChild;bD=bB.firstChild;bE=bB.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(bD.offsetTop!==5);this.doesAddBorderForTableAndCells=(bE.offsetTop===5);bD.style.position="fixed";bD.style.top="20px";this.supportsFixedPosition=(bD.offsetTop===20||bD.offsetTop===15);bD.style.position=bD.style.top="";bB.style.overflow="hidden";bB.style.position="relative";this.subtractsBorderForOverflowNotVisible=(bD.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==bz);e.removeChild(by);b.offset.initialize=b.noop},bodyOffset:function(e){var bz=e.offsetTop,by=e.offsetLeft;b.offset.initialize();if(b.offset.doesNotIncludeMarginInBodyOffset){bz+=parseFloat(b.css(e,"marginTop"))||0;by+=parseFloat(b.css(e,"marginLeft"))||0}return{top:bz,left:by}},setOffset:function(bA,bJ,bD){var bE=b.css(bA,"position");if(bE==="static"){bA.style.position="relative"}var bC=b(bA),by=bC.offset(),e=b.css(bA,"top"),bH=b.css(bA,"left"),bI=(bE==="absolute"||bE==="fixed")&&b.inArray("auto",[e,bH])>-1,bG={},bF={},bz,bB;if(bI){bF=bC.position();bz=bF.top;bB=bF.left}else{bz=parseFloat(e)||0;bB=parseFloat(bH)||0}if(b.isFunction(bJ)){bJ=bJ.call(bA,bD,by)}if(bJ.top!=null){bG.top=(bJ.top-by.top)+bz}if(bJ.left!=null){bG.left=(bJ.left-by.left)+bB}if("using" in bJ){bJ.using.call(bA,bG)}else{bC.css(bG)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bz=this[0],by=this.offsetParent(),bA=this.offset(),e=ae.test(by[0].nodeName)?{top:0,left:0}:by.offset();bA.top-=parseFloat(b.css(bz,"marginTop"))||0;bA.left-=parseFloat(b.css(bz,"marginLeft"))||0;e.top+=parseFloat(b.css(by[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(by[0],"borderLeftWidth"))||0;return{top:bA.top-e.top,left:bA.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||av.body;while(e&&(!ae.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent}return e})}});b.each(["Left","Top"],function(by,e){var bz="scroll"+e;b.fn[bz]=function(bC){var bA,bB;if(bC===O){bA=this[0];if(!bA){return null}bB=aL(bA);return bB?("pageXOffset" in bB)?bB[by?"pageYOffset":"pageXOffset"]:b.support.boxModel&&bB.document.documentElement[bz]||bB.document.body[bz]:bA[bz]}return this.each(function(){bB=aL(this);if(bB){bB.scrollTo(!by?bC:b(bB).scrollLeft(),by?bC:b(bB).scrollTop())}else{this[bz]=bC}})}});function aL(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b.each(["Height","Width"],function(by,e){var bz=e.toLowerCase();b.fn["inner"+e]=function(){return this[0]?parseFloat(b.css(this[0],bz,"padding")):null};b.fn["outer"+e]=function(bA){return this[0]?parseFloat(b.css(this[0],bz,bA?"margin":"border")):null};b.fn[bz]=function(bB){var bC=this[0];if(!bC){return bB==null?null:this}if(b.isFunction(bB)){return this.each(function(bG){var bF=b(this);bF[bz](bB.call(this,bG,bF[bz]()))})}if(b.isWindow(bC)){var bD=bC.document.documentElement["client"+e];return bC.document.compatMode==="CSS1Compat"&&bD||bC.document.body["client"+e]||bD}else{if(bC.nodeType===9){return Math.max(bC.documentElement["client"+e],bC.body["scroll"+e],bC.documentElement["scroll"+e],bC.body["offset"+e],bC.documentElement["offset"+e])}else{if(bB===O){var bE=b.css(bC,bz),bA=parseFloat(bE);return b.isNaN(bA)?bE:bA}else{return this.css(bz,typeof bB==="string"?bB:bB+"px")}}}}});bf.jQuery=bf.$=b})(window);(function(a){a.fn.bgIframe=a.fn.bgiframe=function(c){if(a.browser.msie&&parseInt(a.browser.version)===6){c=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},c||{});var d=function(e){return e&&e.constructor==Number?e+"px":e},b='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+c.src+'"style="display:block;position:absolute;z-index:-1;'+(c.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(c.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":d(c.top))+";left:"+(c.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":d(c.left))+";width:"+(c.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":d(c.width))+";height:"+(c.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":d(c.height))+';"/>';return this.each(function(){if(a("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(b),this.firstChild)}})}return this}})(jQuery);(function(a){a.fn.bPopup=function(j,m){if(a.isFunction(j)){m=j;j=null}o=a.extend({},a.fn.bPopup.defaults,j);if(!o.scrollBar){a("html").css("overflow","hidden")}var b=a(this),t=a('<div id="bModal" ></div>'),C=a(document),u=a(window),p=q(b,o.amsl),k=o.position[0]!="auto",g=o.position[1]!="auto",h=k?(o.position[0]==""?20:o.position[0]):p[0],f=g?(o.position[1]==""?p[1]:o.position[1]):p[1],c=navigator.userAgent.toLowerCase(),y=c.indexOf("iphone")!=-1,A=(/msie 6/i.test(c))&&typeof window.XMLHttpRequest!="object";this.close=function(){o=b.data("bPopup");x()};return this.each(function(){if(b.data("bPopup")){return}if(o.modal){t.css(B()).appendTo(o.appendTo).animate({opacity:o.opacity},o.fadeSpeed)}b.data("bPopup",o);v()});function v(){b.css({left:(!o.follow[1]&&g)?f:C.scrollLeft()+f,position:"absolute",top:(!o.follow[0]&&k)?h:C.scrollTop()+h,"z-index":o.zIndex}).appendTo(o.appendTo).hide(1,function(){a.isFunction(o.onOpen)&&o.onOpen.call(b);if(o.loadUrl!=null){n()}}).fadeIn(o.fadeSpeed,function(){a.isFunction(m)&&m()});e();b.bgiframe()}function x(){if(o.modal){a("#bModal").fadeOut(o.fadeSpeed,function(){a("#bModal").remove()})}b.fadeOut(o.fadeSpeed,function(){if(o.loadUrl!=null){o.contentContainer.empty()}});l();if(a.isFunction(o.onClose)){setTimeout(function(){o.onClose.call(b)},o.fadeSpeed)}return false}function B(){var d=z();if(A||y){return{"background-color":o.modalColor,height:d[0],left:s(),opacity:0,position:o.stylePosition,top:0,width:d[1],"z-index":o.zIndex-1}}else{return{"background-color":o.modalColor,height:d[0],left:0,opacity:0,position:o.stylePosition,top:0,width:d[1],"z-index":o.zIndex-1}}}function n(){o.contentContainer=o.contentContainer==null?b:a(o.contentContainer);switch(o.content){case ("iframe"):a('<iframe scrolling="no" frameborder="0"></iframe>').attr("src",o.loadUrl).appendTo(o.contentContainer);break;default:o.contentContainer.load(o.loadUrl);break}}function e(){a("."+o.closeClass).live("click",x);if(o.modalClose){a("#bModal").live("click",x).css("cursor","pointer")}if(o.follow[0]||o.follow[1]){u.bind("scroll.bPopup",function(){b.stop().animate({left:o.follow[1]?C.scrollLeft()+f:f,top:o.follow[0]?C.scrollTop()+h:h},o.followSpeed)}).bind("resize.bPopup",function(){if(o.modal&&A){var d=z();t.css({height:d[0],width:d[1],left:s()})}p=q(b,o.amsl);if(o.follow[0]){h=k?h:C.scrollTop()+p[0]}if(o.follow[1]){f=g?f:C.scrollLeft()+p[1]}b.stop().animate({left:f,top:h},o.followSpeed)})}if(o.escClose){C.bind("keydown.bPopup",function(d){if(d.which==27){x()}})}}function l(){a("html").css("overflow","auto");a("."+o.closeClass).die("click");a("#bModal").die("click");C.unbind("keydown.bPopup");u.unbind(".bPopup");b.data("bPopup",null)}function z(){if(o.appendTo=="body"){return[C.height(),C.width()]}else{return[a(o.appendTo).height(),a(o.appendTo).width()]}}function s(){return(u.width()<a("body").width())?0:(a("body").width()-u.width())/2}function q(E,w){var D=((u.height()-E.outerHeight(true))/2)-w;var d=((u.width()-E.outerWidth(true))/2)+s();return[D<20?20:D,d<50?50:d]}};a.fn.bPopup.defaults={amsl:50,appendTo:"body",closeClass:"bClose",content:"ajax",contentContainer:null,escClose:true,fadeSpeed:0,follow:[true,true],followSpeed:500,loadUrl:null,modal:true,modalClose:false,modalColor:"#000",onClose:null,onOpen:null,opacity:0.3,position:["auto","auto"],scrollBar:false,zIndex:9999,stylePosition:"absolute"}})(jQuery);var AP={savedAccountNumber:"",progressStep:1,pmIdMap:null,startedWithPartialPayee:false,accountValidatedOrAccepted:false,termsAcceptanceNeeded:false,billInfoFirstName:null,billInfoLastName:null,defaultAcctHint:"Please enter the account number from your statement excluding hyphens and spaces.",currentAction:"",ctaTimerIsOn:0,ctaTimer:null,hasValidationErrors:false,pmTypeMap:{"0":{termsId:"sdpterms"},"1":{termsId:undefined},"2":{termsId:undefined},"4":{termsId:undefined},"5":{termsId:"con_cc"},"6":{termsId:"bus_cc"},"7":{termsId:"bus_line"},"8":{termsId:"ploc"},"9":{termsId:"heloc"}},initialize:function(){var a=$("#startInPaymentMode").val()=="true";AP.defineEvents();APFlyOut.showFlyouts=($("#partialPayee").val()=="false");AP.setPayeeMode($("#payeeType").val());AP.startedWithPartialPayee=($("#partialPayee").val()=="true");AP.billInfoFirstName=$("#originalFirstName").val();AP.billInfoLastName=$("#originalLastName").val();if(a){AP.switchToPaymentMode();$("#daysToPayDisplay").text($("#daysToPay").val());leaddaysDB[0]=$("#daysToPay").val();populateSingleColumnDate(0,"expectedDeliverySpan-","days-");$.each(AP.pmIdMap,function(b,c){AP.showFootnotesForType(c.pmTypId)});if($("tr.paymentRowEdit.pnpOptional table.error").size()>0||$("#paymentReminderBox img.errorImg").size()>0){AP.showOptionalPaymentFields()}if($("#tc_accept").val()=="1"){$("#termsAccepted").show()}}else{if($("#payeeType").val()=="P"&&$("#noAcctNoChecked").val()=="Y"){$("input[name='payeeInfo.noPayeeAcctNo']").attr("checked","checked");$("#accountNumber").attr("disabled",true).addClass("pnpInputDisabled");$("#accountNumberHint").hide()}}if($("tr.payeeRowEdit.pnpOptional table.error").size()>0){AP.showOptionalPayeeFields()}$("#payeeName").focus();BPLightBox.initialize(AP);APFlyOut.initialize();isIE6forTipDisplay=false;$("#calendar, #singleCalendar").bgiframe();$("#tip1Content, #tip2Content, #tip3Content, #tip4Content, #tip5Content, #tip6Content").bgiframe();AP.setPaymentDaysDisplay()},defineEvents:function(){$("#showOptionalPayeeFields, #payeeExpandFormImg").click(function(a){AP.showOptionalPayeeFields()});$("#hideOptionalPayeeFields, #payeeCollapseFormImg").click(function(a){AP.hideOptionalPayeeFields()});$("#showOptionalPaymentFields, #paymentExpandFormImg").click(function(a){AP.showOptionalPaymentFields()});$("#hideOptionalPaymentFields, #paymentCollapseFormImg").click(function(a){AP.hideOptionalPaymentFields()});$("#noAccountNumber").change(function(a){AP.handleNoAccountNumberSelection()});$("#noAccountNumberLink").click(function(a){AP.selectPersonPayeeRadio();$("#payeeTypeSelect").hide();$("#noAccountNumber").attr("checked",true);AP.handleNoAccountNumberSelection()});$("#addYourPayeeManuallyLink").click(function(a){AP.selectPersonPayeeRadio();$("#payeeTypeSelect").hide()});$("input[name='payeeTypeRadio']").change(function(a){AP.setPayeeMode($("input[name='payeeTypeRadio']:checked").val());$("#payeeName").val(AP.stripIllegalChars($("#payeeName").val()));$("#noAccountNumber").attr("checked",false);AP.resetPayeeOptionalFields();AP.clearErrorMessages()});$("#paymentMethodSelect").change(function(a){$("#pmId").val($(this).val());AP.handlePaymentMethodChange(a)});$("#calendar").click(function(a){a.stopPropagation()});$("html").click(function(a){checkClick(a)});$("#calendar").click(function(a){a.stopPropagation()});$(".reqConfirm").change(function(){navAwayConfirmRequired=true});$("a").not(".skipConfirm").click(function(){if(navAwayConfirmRequired){return confirm("If you leave this page, none of the information you entered will be saved.")}else{return true}});BillPayCommon.restrictTabbing($("#acceptTerms"),$("#closeTerms"));BillPayCommon.restrictTabbing($("#closeAcctVerify"),$("#acctVerifyProceed"))},resetPayeeOptionalFields:function(){$("#payeeFirstName").val(AP.billInfoFirstName);$("#payeeLastName").val(AP.billInfoLastName);$("#payeeNickname").val("")},showOptionalPayeeFields:function(){$(".payeeRowEdit.pnpOptional").show();$("#showOptionalPayeeFields").hide();$("#hideOptionalPayeeFields").show();$("#payeeExpandFormImg").hide();$("#payeeCollapseFormImg").show();$("#payeeNickname").focus()},hideOptionalPayeeFields:function(){$(".payeeRowEdit.pnpOptional").hide();$("#hideOptionalPayeeFields").hide();$("#showOptionalPayeeFields").show();$("#payeeExpandFormImg").show();$("#payeeCollapseFormImg").hide();$("#payeeName").focus()},showOptionalPaymentFields:function(){$(".paymentRowEdit.pnpOptional").show();$(".paymentMode > .pnpOptional").show();$("#showOptionalPaymentFields").hide();$("#hideOptionalPaymentFields").show();$("#paymentExpandFormImg").hide();$("#paymentCollapseFormImg").show()},hideOptionalPaymentFields:function(){$(".paymentRowEdit.pnpOptional").hide();$(".paymentMode > .pnpOptional").hide();$("#hideOptionalPaymentFields").hide();$("#showOptionalPaymentFields").show();$("#paymentExpandFormImg").show();$("#paymentCollapseFormImg").hide()},handleNoAccountNumberSelection:function(){if($("#noAccountNumber").attr("checked")){$("#accountNumber").attr("disabled",true).addClass("pnpInputDisabled");AP.savedAccountNumber=$("#accountNumber").val();$("#accountNumber").val("");$("#accountNumberHint").hide()}else{$("#accountNumber").attr("disabled",false).removeClass("pnpInputDisabled");$("#accountNumber").val(AP.savedAccountNumber);$("#accountNumberHint").show()}},selectPersonPayeeRadio:function(){$('[name="payeeTypeRadio"][value="P"]').attr("checked",true);$("#payeeName").val(AP.stripIllegalChars($("#payeeName").val()));AP.setPayeeMode("P");AP.clearErrorMessages();AP.resetPayeeOptionalFields()},selectCompanyPayeeRadio:function(){$('[name="payeeTypeRadio"][value="C"]').attr("checked",true);AP.setPayeeMode("C");AP.clearErrorMessages();AP.resetPayeeOptionalFields()},setPayeeMode:function(a){AP.leavePaymentMode();if("C"==a){$(".personOnly").hide();$(".companyOnly").show();if($.trim($("#payeeName").val())!=""&&$.trim($("#payeeZipCode").val())==""&&$.trim($("#payeeZipCodePlus").val())==""&&APFlyOut.showFlyouts){APFlyOut.handleMerchantSearch()}else{APFlyOut.hide()}$("#accountEditTable").removeClass("personAccount").addClass("companyAccount")}else{$(".personOnly").show();$(".companyOnly").hide();$("#merchId").val(0);$("#remaddrId").val(0);$("#accountEditTable").removeClass("companyAccount").addClass("personAccount");APFlyOut.hide();$("#dispPayeeAddressOnFile").hide();$("#dispPayeeAddress1").show();$("#dispPayeeAddress2").show();$("#dispPayeeCityStateZip").show();APFlyOut.showFlyouts=true}$(".payeeRowDisplay").hide();$("#payeeNameFieldRow").show();$("#payeeZipFieldRow").show();$("#payeeType").val(a);$("#payeeName").focus();$("#accountNumber").attr("disabled",false).removeClass("pnpInputDisabled");$(".payeeRowEdit.account").show();$("#accountNumberHint").html(AP.defaultAcctHint);AP.hideOptionalPayeeFields()},submitSaveAndPayLater:function(){AP.currentAction=APAction.SAVE_AND_PAY_LATER;APFlyOut.hide();if($("#btnSaveAndPayLater").attr("value")=="Save & Pay Later"){$("#emailOptionPaymentMade").attr("checked",true)}if($.trim($("#payeeNickname").val())==""){AP.populateNickname($("#payeeName").val())}AP.updateNameOnAccount();if($("#payeeType").val()=="C"&&$.trim($("#payeeName").val())!=""&&$.trim($("#accountNumber").val())!=""&&($("#merchId").val()==0||$("#remaddrId").val()==0)){BPAjax.getJSON("CuiJsonServlet/GetMerchants",{searchString:APFlyOut.getSearchString(jQuery("#payeeName").val())},function(a){if(a.data.list=="null"||a.data.list.length==0){$("#payeeTypeSelect").hide();AP.selectPersonPayeeRadio();AP.resetPayeeOptionalFields()}else{if(AP.isMerchantOrAddressSelected()&&AP.isFormValidForLookUp()){AP.showLookUpPayee();return}else{AP.handleSaveAndPayLater()}}})}else{AP.handleSaveAndPayLater()}},handleSaveAndPayLater:function(){$(".pnpActionButton").attr("disabled","disabled");$("#accountValidatedOrAccepted").val(AP.accountValidatedOrAccepted);ctaTimer=setTimeout("AP.showLoadingIndicator()",500);Validate(document.forms[0].SaveAndPayLaterEvent.name)},submitPayment:function(){if($.trim($("#payeeNickname").val())==""){AP.populateNickname($("#payeeName").val())}if(AP.termsAcceptanceNeeded&&$("#tc_accept").val()!=1){$("#termsError").addClass("error").show();AP.removeFieldError("paymentInfo_pmId");$("#termsLightBox").bPopup();$("#lbTermsHeader").focus()}else{$(".pnpActionButton").attr("disabled","disabled");Validate(document.forms[0].SavePayeeAndPaymentEvent.name)}},setProgressStep:function(a){$("#payNewPayeeStep1").attr("class",(a==1?"first selected":"first done"));$("#payNewPayeeStep2").attr("class",(a==2?"nextSib selected":"nextSib selectedNextSib"));$("#payNewPayeeStep3").attr("class",(a==2?"last nextSib selectedNextSib":"last nextSib"));$("#payNewPayeeStep1Text").text(a==1?" - In progress":" - Completed");$("#payNewPayeeStep2Text").text(a==2?" - In progress":" - Pending");$("#payNewPayeeStep3Text").text(" - Pending")},showLoadingIndicator:function(){$("#pnpLoadingIndicator").bPopup({opacity:0.3})},updateNameOnAccount:function(){if($.trim($("#payeeFirstName").val())==""){$("#payeeFirstName").val(AP.billInfoFirstName)}if($.trim($("#payeeLastName").val())==""){$("#payeeLastName").val(AP.billInfoLastName)}},handleMakePaymentButton:function(){startCountdown();AP.currentAction=APAction.MAKE_PAYMENT;APFlyOut.hide();if($.trim($("#payeeNickname").val())==""){AP.populateNickname($("#payeeName").val())}AP.updateNameOnAccount();if(AP.isMerchantOrAddressSelected()&&AP.isFormValidForLookUp()){AP.lookUpPayee();return}AP.clearPaymentFields();ctaTimer=setTimeout("AP.showLoadingIndicator()",500);$.post("CuiJsonServlet/ValidatePayee",$("#PayNewPayeeForm").serialize(),function(c){clearTimeout(ctaTimer);$("#pnpLoadingIndicator").bPopup().close();$("#pnpLoadingIndicator").hide();var b=false;$("#dynamicErrors").hide();AP.clearErrorMessages();if(c.jSONEventError!=null){AP.handleJSONEventError(c.jSONEventError);return}var a=c.validatePayeeResult;$.each(a.messages,function(d,e){AP.addErrorMessage(e);b=true});if(b){$.each(a.fields,function(d,e){AP.flagFieldError(e)});$("#dynamicErrors").fadeOut(400,function(){$("#dynamicErrors").fadeIn(400)})}else{if("Y"==a.accountMismatch&&!AP.accountValidatedOrAccepted){$("#dynamicErrors").hide();$("#acctNoVerifyDisplay").html($("#accountNumber").val());$("#accountNumberVerifyHint").html($("#accountNumberHint").html());$("#accountNumberVerify").val("").focus();$("#acctVerifyLightBox").bPopup();$("#accountNumberVerify").focus()}else{$("#dynamicErrors").hide();AP.populatePaymentMethods(a.accounts,a.pmId);$("#pmId").val(a.pmId);leaddaysDB[0]=a.daysToPay;$("#daysToPay").val(leaddaysDB[0]);$("#daysToPayDisplay").text(leaddaysDB[0]);$("#days-0").val(a.paymentStartDate);populateSingleColumnDate(0,"expectedDeliverySpan-","days-");AP.setPaymentDaysDisplay();if(a.modifiedAccountNumber!=""){$("#accountNumber").val(a.modifiedAccountNumber);$("#dispAccountNumber").text(a.modifiedAccountNumber)}AP.accountValidatedOrAccepted=true;AP.switchToPaymentMode()}}}).error(function(){clearTimeout(ctaTimer);AP.clearErrorMessages();$("#pnpLoadingIndicator").bPopup().close();$("#pnpLoadingIndicator").hide();AP.handleJSONEventError({errorMessage:"An unexpected error occurred"})})},setPaymentDaysDisplay:function(){if(leaddaysDB[0]==5){$(".pnpPaperCheck").show()}else{$(".pnpPaperCheck").hide()}if(leaddaysDB[0]>0){$("#pmtDelDays").show();$("#sameday").hide()}else{$("#pmtDelDays").hide();$("#sameday").show()}},isMerchantOrAddressSelected:function(){return $("#payeeType").val()=="C"&&($("#merchId").val()==0||$("#remaddrId").val()==0)},isFormValidForLookUp:function(){var a=new RegExp("^[a-zA-Z0-9 &!#%(),+\\-./:=@\\[\\]^_`|{}~\\\\]*$");if($.trim($("#payeeName").val())==""||!a.test(($.trim(jQuery("#payeeName").val())))){return false}if($.trim($("#payeeZipCodePlus").val())!=""&&$.trim($("#payeeZipCode").val())==""){return false}if($.trim($("#payeeZipCode").val())!=""&&isNaN($.trim($("#payeeZipCode").val()))){return false}if($.trim($("#payeeZipCodePlus").val())!=""&&isNaN($.trim($("#payeeZipCodePlus").val()))){return false}return true},lookUpPayee:function(){BPAjax.getJSON("CuiJsonServlet/GetMerchants",{searchString:jQuery("#payeeName").val()},function(a){if(a.data.list=="null"||a.data.list.length==0){$("#payeeTypeSelect").hide();AP.selectPersonPayeeRadio();AP.resetPayeeOptionalFields()}else{AP.showLookUpPayee()}})},showLookUpPayee:function(){var b=$.trim(jQuery("#payeeZipCodePlus").val());var a=$.trim(jQuery("#payeeZipCode").val());BPLightBox.open();BPLightBox.onLookUpPayeeTab();$("#merchantSearch").val(jQuery("#payeeName").val());$("#zipCode").val(a);$("#zipCodePlus").val(b);BPSM.lastSearchString=$("#payeeName").val();BPSM.lookUpMerchant($("#payeeName").val(),a,b,$("#merchId").val())},flagFieldError:function(d){var a=$("#dynamicErrors span img").clone();var b=d.replace(/\./g,"_");var c=$("#"+b+"_table").addClass("error");a.show().addClass("errorImg").prependTo($("td:eq(0)",c));if(d=="payeeInfo.payeeNickName"||d=="billingInfo.firstName"){AP.showOptionalPayeeFields()}},removeFieldError:function(c){var a=c.replace(/\./g,"_");var b=$("#"+a+"_table").addClass("error");b.removeClass("error");$(".errorImg",b).remove()},addErrorMessage:function(b){var a=$(".dynamicErrorTemplate").clone();$("strong",a).text(b.heading);$("span",a).text(b.detail);a.removeClass("dynamicErrorTemplate").attr("role","alert").show().appendTo("#dynamicErrors")},clearErrorMessages:function(){$("table .error").removeClass("error");$(".errorImg").remove();$("#aboveError div").remove();$("#dynamicErrors div").not(".dynamicErrorTemplate").remove()},switchToPaymentMode:function(){AP.hideOptionalPayeeFields();$(".payeeRowEdit").hide();$(".payeeRowDisplay").show();var b=$.trim($("#payeeZipCodePlus").val());var a=$("#payeeCity").val()+",  "+$("#payeeState").val()+"  "+$("#payeeZipCode").val()+(b.length>0?"-"+b:"");$("#dispPayeeName").text($("#payeeName").val());$("#dispPayeeAddress1").text($("#payeeAddress1").val());$("#dispPayeeAddress2").text($("#payeeAddress2").val());AP.setAddress2Visibility();$("#dispPayeeCityStateZip").text(a);$("#dispPhone").text($("#payeePhone").val());if($("#noAccountNumber").attr("checked")=="checked"){$("#dispAccountNumber").text("No Account Number").removeClass("pnpStrong")}else{$("#dispAccountNumber").text($("#accountNumber").val()).addClass("pnpStrong")}$("#btnSaveAndPayLater").val("Save Payee Only");$("#startInPaymentMode").val(true);$("#btnMakePayment").hide();$("#btnSubmitPayment").show();$("#paymentSection").show();AP.setProgressStep(2);$(".paymentMode.always").show();$("#pmtAmt").focus()},leavePaymentMode:function(){AP.accountValidatedOrAccepted=false;AP.setProgressStep(1);$(".paymentMode").hide();$("#btnSaveAndPayLater").val("Save & Pay Later");$("#startInPaymentMode").val(false);$("#btnMakePayment").show();$("#btnSubmitPayment").hide();AP.hideOptionalPaymentFields();$("#termsAccepted").hide();$("#termsDeclined").hide()},clearPaymentFields:function(){$("#pmtAmt").val("");$("#memo").val("");$("#emailOptionPaymentMade").attr("checked",true);$("#emailOptionPaymentReminder").attr("checked",false);$("#emailOptionPaperCheckWasCashed").attr("checked",false);$("#paymentReminderTypicalDueDate").val("mm/dd/yyyy");$("#paymentReminderFrequency").val("4");$("#paymentReminderTypicalAmount").val("");$("#categoryId").val("1001");$("#paymentReminderNumDaysToRemindBeforeDue").val("");$("#tc_accept").val(0)},handleChangeAddress:function(){AP.currentAction=APAction.CHANGE_ADDRESS;AP.leavePaymentMode();AP.clearPaymentFields();AP.clearErrorMessages();APFlyOut.hide();$("#accountNumberHint").html(AP.defaultAcctHint);$(".payeeRowDisplay.address").hide();if($("#payeeType").val()=="P"){$(".payeeRowEdit").not(".account").not(".pnpOptional").show()}else{$(".payeeRowEdit").not(".account").not(".pnpOptional").not(".personOnly").show()}$("#merchId").val(0);$("#remaddrId").val(0);$("#payeeName").focus();$("#footnoteAddressOnFile").hide();AP.showOptionalPayeeFields();$("#payeeName").focus();$(".payeeRowDisplay.account").hide();$(".payeeRowEdit.account").show()},handleChangeAccount:function(){AP.leavePaymentMode();AP.clearErrorMessages();AP.clearPaymentFields();$(".payeeRowDisplay.account").hide();$(".payeeRowEdit.account").show();$("#accountNumber").focus()},populatePaymentMethods:function(c,b){var a=$("#paymentMethodSelect");a.empty();if(c.length==1){}else{$.each(c,function(d,e){a.append($("<option></option>").attr("value",e.pmId).text(e.label));AP.showFootnotesForType(e.pmTypeId);AP.pmIdMap["X"+e.pmId]={pmTypId:e.pmTypeId,tcAcceptanceNeeded:(e.tcAcceptanceNeeded==1)}});a.val(b)}},handlePaymentReminder:function(){if($("#emailOptionPaymentReminder").attr("checked")){$("#paymentReminderBox").show()}else{$("#paymentReminderBox").hide()}},updateDeliveryDate:function(){var b=new Date();b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);var a=$("#paymentStartDate").val();var d=$("#daysToPay").val();var c=checkDateSimple(a);if(c){if((c.getTime()>=b.getTime())){$("#expectedDeliveryDate").text(formatDate(findExpectedDeliveryDate(5,c)))}}},handlePaymentMethodChange:function(d){var a="X"+$("#paymentMethodSelect").val();var e=AP.pmIdMap[a];var b=AP.pmTypeMap[e.pmTypId];var c=e.pmTypId!=0&&b.termsId&&e.tcAcceptanceNeeded;AP.removeFieldError("paymentInfo_pmId");if(c){$("#termsLightBox .termsHeader").text($("#"+b.termsId+"_title").text());$("#termsLightBox .termsBody").html($("#"+b.termsId).clone());$("#termsLightBox").bPopup();$("#lbTermsHeader").focus();AP.termsAcceptanceNeeded=true}else{$("#termsAccepted").hide();$("#termsDeclined").hide();AP.termsAcceptanceNeeded=false}},onTermsLightBoxClose:function(){AP.declineTerms()},declineTerms:function(){$("#termsLightBox").bPopup().close();$("#termsAccepted").hide();$("#termsDeclined").show();$("#tc_accept").val(0);AP.flagFieldError("paymentInfo_pmId");$("#termsError").hide()},acceptTerms:function(){$("#termsLightBox").bPopup().close();$("#termsDeclined").hide();$("#termsAccepted").show();$("#tc_accept").val(1);AP.removeFieldError("paymentInfo_pmId");$("#termsError").hide()},onAcctVerifyLightBoxClose:function(){$("#acctVerifyLightBox").bPopup().close()},proceedWithAccountNumber:function(){AP.accountValidatedOrAccepted=true;$("#acctVerifyLightBox").bPopup().close();if($("#accountValidationRequired").val()=="true"&&AP.currentAction!=APAction.MAKE_PAYMENT){$("#maskValidated").val("true");AP.handleSaveAndPayLater()}else{AP.handleMakePaymentButton()}},replaceAccountNumber:function(){if($.trim($("#accountNumberVerify").val())==""){$("#acctVerifyMsgReenter").fadeOut(400,function(){$("#acctVerifyMsgReenter").fadeIn(400)});$("#accountNumberVerify").val("")}else{$("#acctVerifyLightBox").bPopup().close();$("#accountNumber").val($("#accountNumberVerify").val());if($("#accountValidationRequired").val()=="true"&&AP.currentAction!=APAction.MAKE_PAYMENT){AP.handleSaveAndPayLater()}else{AP.handleMakePaymentButton()}}},populatePayeeInfo:function(b,a){$("#dispPayeeName").text(b);if(a.addressOnFile=="true"){$("#dispPayeeAddressOnFile").show();$("#footnoteAddressOnFile").show();$("#dispPayeeAddress1").hide();$("#dispPayeeAddress2").hide();$("#dispPayeeCityStateZip").hide();$("#payeeAddress1").val("");$("#payeeAddress2").val("");$("#payeeCity").val("");$("#payeeState").val("--");$("#payeeZipCode").val(a.zipCode);$("#payeeZipCodePlus").val("");$("#payeePhone").val("")}else{$("#dispPayeeAddress1").html(a.address1);$("#dispPayeeAddress2").html((a.address2=="null")?"":"&nbsp;"+a.address2);$("#dispPayeeCityStateZip").html(a.city+",&nbsp;"+a.state+"&nbsp;&nbsp;"+a.zipCode+(a.zipCodePlus!="null"?"-"+a.zipCodePlus:""));$("#payeeAddress1").val(a.address1);$("#payeeAddress2").val(a.address2!="null"?a.address2:"");$("#payeeCity").val(a.city);$("#payeeState").val(a.state);$("#payeeZipCode").val(a.zipCode);$("#payeeZipCodePlus").val(a.zipCodePlus!="null"?a.zipCodePlus:"");$("#dispPayeeAddressOnFile").hide();$("#footnoteAddressOnFile").hide();$("#dispPayeeAddress1").show();$("#dispPayeeCityStateZip").show();AP.setAddress2Visibility()}$("#dispAddressPart").show();$("#dispPhone").html(a.phone!="null"?a.phone:"");$("#payeePhone").val(a.phone!="null"?a.phone:"");$("#payeeName").val(AP.stripIllegalChars(b));$("#merchId").val(a.merchantId);$("#remaddrId").val(a.id)},setAddress2Visibility:function(){if($.trim($("#dispPayeeAddress2").text())==""){$("#dispPayeeAddress2").hide()}else{$("#dispPayeeAddress2").show()}},onPayeeSelect:function(b,a){if(AP.currentAction==APAction.LOCAL_PAYEE||AP.currentAction==APAction.LOOK_UP_PAYEE){AP.leavePaymentMode();this.resetPayeeInfo();AP.clearErrorMessages();$("#noAccountNumber").attr("checked",false)}if($("input[name='payeeTypeRadio']:checked").val()!="C"){AP.selectCompanyPayeeRadio()}$("#payeeZipFieldRow").hide();$(".payeeRowDisplay.address").show();$("#payeeNameFieldRow").hide();$("#payeeTypeSelect").show();this.populatePayeeInfo(b.name,a);$("#accountNumberHint").html(b.hint!="null"?b.hint:AP.defaultAcctHint);if(AP.currentAction==APAction.MAKE_PAYMENT){AP.handleMakePaymentButton()}else{if(AP.currentAction==APAction.SAVE_AND_PAY_LATER){AP.submitSaveAndPayLater()}else{if(AP.currentAction==APAction.SHOW_ACCT_VALIDATION){$("#accountNumberVerify").focus()}else{if(AP.currentAction==APAction.LOCAL_PAYEE||AP.currentAction==APAction.LOOK_UP_PAYEE){$("#accountNumber").attr("disabled",false).removeClass("pnpInputDisabled");$(".payeeRowEdit.account").show();$(".payeeRowDisplay.account").hide();$("#accountNumber").focus()}else{$("#accountNumber").focus()}}}}AP.populateNickname(b.name)},onAddManualPayee:function(b,a,c){AP.resetPayeeInfo(true);AP.selectPersonPayeeRadio();$("#noAccountNumber").attr("checked",false);$("#payeeTypeSelect").hide();$("#payeeName").val(this.htmlDecode(b));if(a||a==""){$("#payeeZipCode").val(a)}if(c||c==""){$("#payeeZipCodePlus").val(c)}if(b!=""){$("#payeeAddress1").focus();navAwayConfirmRequired=true}},htmlDecode:function(a){return $('<div style="display:none"/>').html(a).text()},resetPayeeInfo:function(a){$("#dispPayeeName").html("");$("#dispPayeeAddress1").html("");$("#dispPayeeAddress2").html("");$("#dispPayeeCityStateZip").html("");$("#dispPhone").html("");$("#payeeZipFieldRow").show();AP.setAddress2Visibility();$("#payeeAddress1").val("");$("#payeeAddress2").val("");$("#payeeCity").val("");$("#payeeState").val("--");if(!a){$("#payeeZipCode").val("");$("#payeeZipCodePlus").val("")}$("#payeePhone").val("")},onLocalPayee:function(a){AP.selectCompanyPayeeRadio();$("#payeeTypeSelect").show();AP.leavePaymentMode();this.resetPayeeInfo();$("#noAccountNumber").attr("checked",false);$("#merchId").val(a);APFlyOut.showAddressFlyOut(a)},onError:function(){AP.clearErrorMessages();APFlyOut.lastSearchRequestCompleted=true;BPSM.lastSearchRequestCompleted=true;AP.addErrorMessage({heading:"The system is temporarily unable to process your request. Please try again later.",detail:""});$("#dynamicErrors").show();APFlyOut.hide()},loadPayeeInfo:function(b,a){BPAjax.getJSON("CuiJsonServlet/GetMerchantById",{merchantID:b},function(c){var d=c.searchableMerchant;$("#accountNumberHint").html(d.hint!="null"?d.hint:AP.defaultAcctHint);BPAjax.getJSON("CuiJsonServlet/GetRemittanceAddresses",{merchantID:b},function(e){jQuery.each(e.data.list,function(g,f){if(f.id==a){var h=$("#payeeNickname").val();AP.onPayeeSelect(c.searchableMerchant,f);if(AP.startedWithPartialPayee){$("#payeeNickname").val(h);AP.startedWithPartialPayee=false}else{if(AP.currentAction==APAction.SHOW_ACCT_VALIDATION||AP.hasValidationErrors){$("#payeeNickname").val(h)}}return}})})})},onViewLocalPayeeLink:function(){AP.currentAction=APAction.LOCAL_PAYEE;APFlyOut.hide();BPLightBox.open();BPLightBox.onLocalPayeeTab()},onLookPayeeLink:function(){AP.currentAction=APAction.LOOK_UP_PAYEE;APFlyOut.hide();BPLightBox.open();BPLightBox.onLookUpPayeeTab()},showFootnotesForType:function(a){if(a==8){$("#footnotePersonalLOC").show()}if(a==9){$("#footnoteHELOC").show()}},populateNickname:function(a){$("#payeeNickname").val(AP.stripIllegalChars(a).substring(0,16))},stripIllegalChars:function(a){return a.replace(/[<>\\\'\";\?]/g,"")},handleCancelEvent:function(){if($("#startInPaymentMode").val()=="true"){if(!confirm('Select "OK" to cancel saving this payee and scheduling a payment.')){return false}}Validate(document.forms[0].PayNewPayeeSubmitCancelEvent.name)},handleJSONEventError:function(b){var a=b.errorMessage.indexOf("session is no longer active")==-1?false:true;if(!a){errorMsg={heading:"The system is temporarily unable to process your request. Please try again later.",detail:""};AP.addErrorMessage(errorMsg);$("#dynamicErrors").fadeOut(400,function(){$("#dynamicErrors").fadeIn(400)});return}else{window.location=timeoutPage;return}}};var APFlyOut={MINIMUM_SEARCH_LENGTH:3,lastSearchString:"",highlightedMerchantIndex:-1,ignoreMerchantMouseOver:false,highlightedAddressIndex:-1,ignoreAddressMouseOver:false,merchants:[],addresses:[],skipPayeeOnFocus:false,skipZipOnFocus:false,eventQueue:[],lastSearchRequestCompleted:true,showFlyouts:true,filteredAddresses:[],initialize:function(){if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!String.prototype.startsWith){String.prototype.startsWith=function(a){return !this.indexOf(a)}}this.addFocusEvent();$(document).click(function(b){var a=(b&&b.target)||(event&&event.srcElement);while(a.parentNode){if(a==document.getElementById("apFlyOutMerchantMain")||a==document.getElementById("apFlyOutMerchantAddressMain")||a==document.getElementById("payeeName")||a==document.getElementById("payeeZipCode")||a==document.getElementById("payeeZipCodePlus")){return false}a=a.parentNode}APFlyOut.skipPayeeOnFocus=false;APFlyOut.skipZipOnFocus=false;APFlyOut.hide()});APFlyOut.attachKeyEvents();setInterval(function(){APFlyOut.processEvent()},10)},processEvent:function(){if(APFlyOut.lastSearchRequestCompleted&&this.eventQueue.length>0){this.eventQueue[this.eventQueue.length-1]();this.eventQueue=[]}},addFocusEvent:function(){$("#payeeName").focus(function(){if($("input[name='payeeTypeRadio']:checked").val()=="C"&&!APFlyOut.skipPayeeOnFocus&&$.trim($("#payeeName").val())!=""&&$.trim($("#payeeZipCodePlus").val())==""&&$.trim($("#payeeZipCode").val())==""&&AP.currentAction!=APAction.LOOK_UP_PAYEE&&AP.currentAction!=APAction.LOCAL_PAYEE&&AP.currentAction!=APAction.CHANGE_ADDRESS&&APFlyOut.showFlyouts){APFlyOut.handleMerchantSearch()}});$("#payeeZipCodePlus").focus(function(){if($("input[name='payeeTypeRadio']:checked").val()=="C"&&!APFlyOut.skipZipOnFocus&&APFlyOut.addresses.length>1&&$("#merchId").val()!=0){APFlyOut.handleAddressSearch()}});$("#payeeZipCode").focus(function(){if($("input[name='payeeTypeRadio']:checked").val()=="C"&&!APFlyOut.skipZipOnFocus&&APFlyOut.addresses.length>1&&$("#merchId").val()!=0){APFlyOut.handleAddressSearch()}})},attachKeyEvents:function(){$(document).keydown(function(a){if($("input[name='payeeTypeRadio']:checked").val()=="C"){if(a.keyCode==27||a.keyCode==9){APFlyOut.hide();if(a.keyCode==27){a.preventDefault()}}else{if($("#apFlyOutMerchantSearchResult").is(":visible")){APFlyOut.handleMerchantListKeyPress(a)}else{if($("#apFlyOutMerchantAddressSearchResult").is(":visible")){APFlyOut.handleAddressListKeyPress(a)}else{if($("#apFlyOutMerchantMain").is(":visible")){if(a.keyCode==13){APFlyOut.handlePayeeNameEnterEvent(a)}}}}}}});$("#payeeName").keyup(function(a){if($("input[name='payeeTypeRadio']:checked").val()=="C"){APFlyOut.handleMerchantSearchKey(a)}});$("#payeeZipCode").keyup(function(a){if($("input[name='payeeTypeRadio']:checked").val()=="C"){APFlyOut.handleAddressSearchKey(a)}});$("#payeeZipCode").keydown(function(a){if(a.keyCode==13){APFlyOut.hide();$("#payeeZipCodePlus").focus()}});$("#payeeZipCodePlus").keyup(function(a){if($("input[name='payeeTypeRadio']:checked").val()=="C"){APFlyOut.handleAddressSearchKey(a)}});$("#payeeZipCodePlus").keydown(function(a){if(a.keyCode==13&&APFlyOut.highlightedAddressIndex==-1){APFlyOut.hide();$("#accountNumber").focus()}})},handleAddressSearchKey:function(a){APFlyOut.skipZipOnFocus=false;APFlyOut.setFlyOutPosition("#payeeZipCode","#apFlyOutMerchantAddressMain");if(a.keyCode!=38&&a.keyCode!=40&&a.keyCode!=27){if($("#merchId").val()==0){return}this.handleAddressSearch()}},handleAddressSearch:function(){APFlyOut.skipZipOnFocus=false;$("#apFlyOutMerchantAddressMain").show();$("#apFlyOutMerchantAddressSearchResultBody").html("");$("#apFlyOutMerchantAddressSearchResult").show();APFlyOut.filteredAddresses=[];if($.trim($("#payeeZipCode").val())!=""){jQuery.each(APFlyOut.addresses,function(b,a){if(a.zipCode.startsWith($("#payeeZipCode").val())&&a.zipCodePlus.startsWith($("#payeeZipCodePlus").val())){APFlyOut.filteredAddresses.push(a)}})}else{if($.trim($("#payeeZipCodePlus").val())==""){APFlyOut.filteredAddresses=APFlyOut.addresses}}if(APFlyOut.filteredAddresses.length==0){$("#apFlyOutMerchantAddressMain").hide();$("#multipleAddressesText").hide();$("#noAccountNumberLink").show()}else{$("#multipleAddressesText").show();$("#noAccountNumberLink").hide();APFlyOut.constructAddress(APFlyOut.filteredAddresses);APFlyOut.decorateAddressRow();$("#apFlyOutMerchantAddressSearchResultBody tr").click(function(){var a=APFlyOut.filteredAddresses[$(this).index()];APFlyOut.onAddressRowClick(APFlyOut.getActualAddressIndex(a))});if(APFlyOut.filteredAddresses.length==1){APFlyOut.selectNextAddress()}}APFlyOut.setFlyOutPosition("#payeeZipCode","#apFlyOutMerchantAddressMain")},getActualAddressIndex:function(b){var a=0;$.each(APFlyOut.addresses,function(d,c){if(b.id==c.id){a=d}});return a},handleMerchantSearchKey:function(a){APFlyOut.skipPayeeOnFocus=false;if(a.keyCode!=38&&a.keyCode!=40){if(!(/[^A-Za-z0-9& ]/.test(String.fromCharCode(a.keyCode)))||a.keyCode==8||a.keyCode==46){APFlyOut.handleMerchantSearch()}}},getSearchString:function(a){return $.trim(a).toUpperCase().replace(/[\- ]/g," ").replace(/[^A-Z0-9& ]/g,"")},handleMerchantSearch:function(){APFlyOut.skipPayeeOnFocus=false;if(AP.currentAction==APAction.CHANGE_ADDRESS){AP.currentAction=""}$("#noAccountNumberLink").hide();APFlyOut.highlightedAddressIndex=-1;$("#apFlyOutMerchantMain").show();$("#merchId").val(0);$("#remaddrId").val(0);this.setFlyOutPosition("#payeeName","#apFlyOutMerchantMain");var a=APFlyOut.getSearchString($("#payeeName").val());var d=a.split(" ");var c=false;for(var b=0;b<d.length;b++){if($.trim(d[b]).length>=this.MINIMUM_SEARCH_LENGTH){c=true}}if(c){this.lastSearchString=a;this.eventQueue.push(function(){APFlyOut.searchMerchants(a);$("#apFlyOutMerchantSearchMessage").hide()})}else{if(a.length>=1){this.eventQueue.push(function(){APFlyOut.clearMerchants();APFlyOut.lastSearchString=a;$("#apFlyOutMerchantSearchMessage").show();$("#apFlyOutMerchantSearchNoResultMessage").hide()})}else{this.eventQueue.push(function(){APFlyOut.lastSearchString="";$("#apFlyOutMerchantSearchMessage").hide();$("#apFlyOutMerchantMain").hide();$("#noAccountNumberLink").show()})}}$.trim($("#merchantSelectFooter").text($("#payeeName").val()))},searchMerchants:function(a){APFlyOut.lastSearchRequestCompleted=false;BPAjax.getJSON("CuiJsonServlet/GetMerchants",{searchString:$.trim(a)},function(b){if(b.data.list=="null"||b.data.list.length==0){$("#apFlyOutMerchantSearchNoResultMessage").show();APFlyOut.clearMerchants()}else{$("#apFlyOutMerchantSearchNoResultMessage").hide();APFlyOut.populateMerchants(b)}APFlyOut.lastSearchRequestCompleted=true})},clearMerchants:function(){$("#apFlyOutMerchantSearchResultBody").html("");$("#apFlyOutMerchantResultHeader").hide();$("#apFlyOutMerchantSearchResult").hide()},setFlyOutPosition:function(a,d){var c=jQuery(a).position().top+jQuery(a).height()+6;var b=jQuery(a).position().left;jQuery(d).css({top:c,left:b})},populateMerchants:function(a){this.merchants=a.data.list;this.clearMerchants();$("#apFlyOutMerchantResultHeader").show();$("#apFlyOutMerchantSearchResult").show();this.highlightedMerchantIndex=-1;jQuery.each(a.data.list,function(b,d){var c="flyOut_merchant_"+d.id;var e=$('<tr role="option" role="listitem" id="'+c+'"><td id="'+c+'_name" class="merchantRow">'+d.name+"</td></tr>");$("#apFlyOutMerchantSearchResultBody").append(e)});this.decorateMerchantRow("#apFlyOutMerchantSearchResultBody");$("#apFlyOutMerchantSearchResultBody tr").click(function(){APFlyOut.onMerchantRowClick($(this).index())});if(this.merchants.length==1){APFlyOut.selectNextMerchant()}},decorateMerchantRow:function(a){$(a+" tr").bind("mouseenter",function(){if(!APFlyOut.ignoreMerchantMouseOver){if(APFlyOut.highlightedMerchantIndex>-1){var d=$(a);var c=APFlyOut.highlightedMerchantIndex;$("tr",d).eq(c>=0?c:0).removeClass("highlighted")}APFlyOut.highlightedMerchantIndex=$(this).index();$(this).addClass("highlighted");$("#apFlyoutMerchantSearchResultDiv").attr("aria-activedescendant",$(this).attr("id")+"_name")}});$(a+" tr").bind("mouseleave",function(){if(!APFlyOut.ignoreMerchantMouseOver){$(this).removeClass("highlighted")}});var b=$(a+" tr").first().attr("id");jQuery("#apFlyoutMerchantSearchResultDiv").attr("aria-activedescendant",b+"_name")},onMerchantRowClick:function(b,a){var c=APFlyOut.merchants[b];$("#apFlyOutMerchantMain").hide();$("#payeeName").val(AP.stripIllegalChars(c.name));$("#accountNumberHint").html(c.hint!="null"?c.hint:AP.defaultAcctHint);$("#merchantAddressSelectFooter").html(c.name);$(".payeeRowDisplay.address").show();$(".payeeRowDisplay.account").hide();$(".payeeRowEdit.account").show();$("#selectedPayeeAddressDiv").text("Selected Payee "+c.name);$("#dispPayeeName").text(c.name);$("#payeeNameFieldRow").hide();$("#merchId").val(c.id);if(!a){APFlyOut.populateAddress(c);AP.populateNickname(c.name)}},populateAddress:function(a){if(a.address!="null"){$("#apFlyOutMerchantAddressMain").show();$("#apFlyOutMerchantAddressSearchResultBody").html("");$("#apFlyOutMerchantAddressSearchResult").show();APFlyOut.addresses[0]=a.address;$("#noAccountNumberLink").show();APFlyOut.onAddressRowClick(0)}else{APFlyOut.loadAddresses(a.id)}},showAddressFlyOut:function(a){BPAjax.getJSON("CuiJsonServlet/GetMerchantById",{merchantID:a},function(b){APFlyOut.skipPayeeOnFocus=true;APFlyOut.merchants[0]=b.searchableMerchant;APFlyOut.onMerchantRowClick(0)})},hide:function(a){$("#apFlyOutMerchantMain").hide();$("#apFlyOutMerchantAddressMain").hide();$("#multipleAddressesText").hide();$("#noAccountNumberLink").show();$("#apFlyOutMerchantAddressSearchResultBody").html("");this.eventQueue=[];if(a){if(a==APAction.PAYEE_FLY_OUT_CLOSE){APFlyOut.skipPayeeOnFocus=true;$("#payeeName").focus()}else{if(a==APAction.ADDRESS_FLY_OUT_CLOSE){APFlyOut.skipZipOnFocus=true;$("#payeeZipCode").focus()}}}},selectPayee:function(a){BPAjax.getJSON("CuiJsonServlet/GetMerchantById",{merchantID:a},function(b){APFlyOut.skipPayeeOnFocus=true;APFlyOut.merchants[0]=b.searchableMerchant;APFlyOut.onMerchantRowClick(0,true);$("#dispAddressPart").hide();BPAjax.getJSON("CuiJsonServlet/GetRemittanceAddresses",{merchantID:a},function(c){APFlyOut.addresses=c.data.list})})},loadAddresses:function(a){BPAjax.getJSON("CuiJsonServlet/GetRemittanceAddresses",{merchantID:a},function(b){APFlyOut.addresses=b.data.list;$("#apFlyOutMerchantAddressSearchResultBody").html("");APFlyOut.constructAddress(b.data.list);APFlyOut.decorateAddressRow();$("#apFlyOutMerchantAddressSearchResultBody tr").click(function(){APFlyOut.onAddressRowClick($(this).index())});$("#multipleAddressesText").show();$("#dispAddressPart").hide();$("#payeeZipCode").val("");$("#payeeZipCodePlus").val("");$("#noAccountNumberLink").hide();APFlyOut.setFlyOutPosition("#payeeZipCode","#apFlyOutMerchantAddressMain");$("#apFlyOutMerchantAddressMain").show();$("#apFlyOutMerchantAddressSearchResult").show();$("#payeeZipCode").focus()})},constructAddress:function(a){$("#apFlyOutMerchantAddressResultHeader").show();$("#apFlyOutMerchantAddressSearchNoResultMessage").hide();jQuery.each(a,function(c,b){var d="flyOut_merchant_address_"+b.id;var e=$('<tr role="option" role="listitem" id="'+d+'">'+APFlyOut.constructAddressElement(b,d)+"</tr>");$("#apFlyOutMerchantAddressSearchResultBody").append(e)})},constructAddressElement:function(a,c){var b="<td id='"+c+"_name' class='merchantRow'>"+a.address1+"&nbsp;"+((a.address2=="null")?"":"&nbsp;"+a.address2+"&nbsp;")+"&nbsp;<br/>"+a.city+",&nbsp;"+a.state+"&nbsp;&nbsp;</td><td class='merchantRow'>"+a.zipCode+((a.zipCodePlus==undefined||a.zipCodePlus=="null")?"":"-"+a.zipCodePlus)+"&nbsp;</td>";return b},decorateAddressRow:function(){$("#apFlyOutMerchantAddressSearchResultBody tr").bind("mouseenter",function(){if(!APFlyOut.ignoreAddressMouseOver){if(APFlyOut.highlightedAddressIndex>-1){var c=$("#apFlyOutMerchantAddressSearchResultBody");var b=APFlyOut.highlightedAddressIndex;$("tr",c).eq(b>=0?b:0).removeClass("highlighted")}APFlyOut.highlightedAddressIndex=$(this).index();$(this).addClass("highlighted");$("#apFlyoutMerchantAddressSearchResultDiv").attr("aria-activedescendant",$(this).attr("id")+"_name");$("#"+$(this).attr("id")+"_span").show()}});$("#apFlyOutMerchantAddressSearchResultBody tr").bind("mouseleave",function(){$(this).removeClass("highlighted")});var a=$("#apFlyOutMerchantAddressSearchResultBody tr").first().attr("id");jQuery("#apFlyoutMerchantAddressSearchResultDiv").attr("aria-activedescendant",a+"_name")},onAddressRowClick:function(b){var a=APFlyOut.addresses[b];APFlyOut.highlightedAddressIndex=b;$("#apFlyOutMerchantAddressMain").hide();$("#payeeZipFieldRow").hide();AP.populatePayeeInfo($("#dispPayeeName").text(),a);$("#dispAddressPart").show();$("#accountNumber").focus();$("#noAccountNumberLink").show();$("#remaddrId").val(a.id);var c="";if(a.addressOnFile=="true"){c="Address on File**"}else{c=a.address1+((a.address2=="null")?"":"<br/>"+a.address2);c=c+"<br/>"+a.city+",&nbsp;"+a.state+"&nbsp;&nbsp;"+a.zipCode+(a.zipCodePlus!="null"?"-"+a.zipCodePlus:"")}c=c+(a.phone!="null"?"<br/>"+a.phone:"");$("#selectedPayeeAddressDiv").html("Selected Address "+c)},handleMerchantListKeyPress:function(a){APFlyOut.disableMerchantMouseOver();switch(a.keyCode){case 40:APFlyOut.selectNextMerchant();a.preventDefault();break;case 38:APFlyOut.selectPreviousMerchant();a.preventDefault();break;case 13:if(APFlyOut.highlightedMerchantIndex>=0){APFlyOut.onMerchantRowClick(APFlyOut.highlightedMerchantIndex)}else{APFlyOut.handlePayeeNameEnterEvent()}break}return false},handlePayeeNameEnterEvent:function(){APFlyOut.hide();$("#payeeZipCode").focus()},handleAddressListKeyPress:function(a){APFlyOut.disableAddressMouseOver();switch(a.keyCode){case 40:APFlyOut.selectNextAddress();a.preventDefault();break;case 38:APFlyOut.selectPreviousAddress();a.preventDefault();break;case 13:if(APFlyOut.highlightedAddressIndex>=0){APFlyOut.onAddressRowClick(APFlyOut.getActualAddressIndex(APFlyOut.filteredAddresses[APFlyOut.highlightedAddressIndex]))}break}return false},selectNextMerchant:function(){var c=$("#apFlyOutMerchantSearchResultBody");var a=this.highlightedMerchantIndex;$("tr.highlighted",c).removeClass("highlighted");a++;if(a>=c.prop("rows").length){a=0}var b=$("tr",c).eq(a);b.addClass("highlighted");$("#apFlyoutMerchantSearchResultDiv").attr("aria-activedescendant",b.attr("id")+"_name");this.highlightedMerchantIndex=a;this.scrollToHighlightedMerchant()},selectPreviousMerchant:function(){var c=$("#apFlyOutMerchantSearchResultBody");var a=this.highlightedMerchantIndex;$("tr",c).removeClass("highlighted");a--;if(a<0){a=c.prop("rows").length-1}var b=$("tr",c).eq(a);b.addClass("highlighted");$("#apFlyoutMerchantSearchResultDiv").attr("aria-activedescendant",b.attr("id")+"_name");this.highlightedMerchantIndex=a;this.scrollToHighlightedMerchant()},scrollToHighlightedMerchant:function(){var b=$("#apFlyOutMerchantSearchResult");var c=$("tr","#apFlyOutMerchantSearchResultBody").eq(this.highlightedMerchantIndex);var f=b.position().top;var a=c.position().top-f;var d=c.height();var e=b.scrollTop();if(this.highlightedMerchantIndex==0){b.scrollTop(0);return}if(this.highlightedMerchantIndex==$("#apFlyOutMerchantSearchResultBody").prop("rows").length-1){b.scrollTop(b.prop("scrollHeight"));return}if(a>b.height()-d){b.scrollTop(e+d)}else{if(a<4){b.scrollTop(e-d)}}},selectNextAddress:function(){var c=$("#apFlyOutMerchantAddressSearchResultBody");var a=this.highlightedAddressIndex;$("tr.highlighted",c).removeClass("highlighted");a++;if(a>=c.prop("rows").length){a=0}var b=$("tr",c).eq(a);b.addClass("highlighted");$("#apFlyoutMerchantAddressSearchResultDiv").attr("aria-activedescendant",b.attr("id")+"_name");this.highlightedAddressIndex=a;this.scrollToHighlightedAddress()},selectPreviousAddress:function(){var c=$("#apFlyOutMerchantAddressSearchResultBody");var a=this.highlightedAddressIndex;$("tr.highlighted",c).removeClass("highlighted");a--;if(a<0){a=c.prop("rows").length-1}var b=$("tr",c).eq(a);b.addClass("highlighted");$("#apFlyoutMerchantAddressSearchResultDiv").attr("aria-activedescendant",b.attr("id")+"_name");this.highlightedAddressIndex=a;this.scrollToHighlightedAddress()},scrollToHighlightedAddress:function(){var b=$("#apFlyOutMerchantAddressSearchResult");var f=$("tr","#apFlyOutMerchantAddressSearchResultBody").eq(this.highlightedAddressIndex);var e=b.position().top;var a=f.position().top-e;var c=f.height();var d=b.scrollTop();if(this.highlightedAddressIndex==0){b.scrollTop(0);return}if(this.highlightedAddressIndex==$("#apFlyOutMerchantAddressSearchResultBody").prop("rows").length-1){b.scrollTop(b.prop("scrollHeight"));return}if(a>b.height()-c){b.scrollTop(d+c)}else{if(a<4){b.scrollTop(d-c)}}},enableMerchantMouseOver:function(){$("#apFlyOutMerchantSearchResult").unbind("mouseover");this.ignoreMerchantMouseOver=false},disableMerchantMouseOver:function(){this.ignoreMerchantMouseOver=true;$("#apFlyOutMerchantSearchResult").mouseover(function(){APFlyOut.enableMerchantMouseOver()})},enableAddressMouseOver:function(){$("#apFlyOutMerchantAddressSearchResult").unbind("mouseover");this.ignoreAddressMouseOver=false},disableAddressMouseOver:function(){this.ignoreAddressMouseOver=true;$("#apFlyOutMerchantAddressSearchResult").mouseover(function(){APFlyOut.enableAddressMouseOver()})}};var APAction={MAKE_PAYMENT:"makePayment",SAVE_AND_PAY_LATER:"saveAndPayLater",LOOK_UP_PAYEE:"lookUpPayee",LOCAL_PAYEE:"localPayee",SHOW_ACCT_VALIDATION:"showAccountValidation",LOCAL_PAYEE:"localPayee",PAYEE_FLY_OUT_CLOSE:"payeeFlyOutClose",ADDRESS_FLY_OUT_CLOSE:"addressFlyOutClose",CHANGE_ADDRESS:"changeAddress"};function getTarget(a){var a=window.event?window.event:a;var b=a.target?a.target:a.srcElement;return b}function openCloseImageMap(a){var b={};if(a=="0"){b.className="tc_box_hide";b.src=defaultContentPath+"/images/icons/ico_expandon.gif";b.alt="open"}if(a=="1"){b.className="tc_box_show";b.src=defaultContentPath+"/images/icons/ico_expandoff.gif";b.alt="close"}return b}function updateTermsOpenCloseIcon(){var c=document.getElementById("tc_box");var a=openCloseImageMap(isTacBoxVisible);var b=document.getElementById("tc_toggle_button");if(a){c.className=a.className;b.src=a.src;b.alt=a.alt}}function toggleTCVisibility(){isTacBoxVisible=isTacBoxVisible==0?1:0}function handleOpenCloseClick(a){toggleTCVisibility();updateDisplay();return false}function handleAcceptDecline(c){var a=getTarget(c);var b=a.form;if(a.value=="Decline"){tacState=TC_DECLINED}else{if(a.value=="Accept"){tacState=TC_ACCEPTED}}isTacBoxVisible=false;updateDisplay();var d=document.getElementById("tc_decline_btn");focusNext(d)}function focusNext(g){var j=g.form;var e=j.elements;var c,b,h;for(var d=0,a=e.length;d<a;d++){c=e[d];if(g==c){h=true;d++;c=e[d]}if(h){if(c.type=="hidden"){continue}c.focus();break}}}function updateDisplay(){var c=document.getElementById("tc_box");var b="none";var e="none";if(isTacVisible==true){e="";b=""}if(b.value==1){b=""}if(isTacBoxVisible==true){e=""}else{e="none"}var d=document.getElementById("tc_accept_text");var a="";if(tacState==TC_NOANSWER){a=""}else{if(tacState==TC_ACCEPTED){a="- Accepted.";tacReadField.value="true";tacRespondedField.value="true"}else{if(tacState==TC_DECLINED){a="- Declined.";tacReadField.value="false";tacRespondedField.value="true"}}}d.innerHTML=a;updateTermsOpenCloseIcon();if(tacBoxDiv.style.display!=b){tacBoxDiv.style.display=b}if(c.style.display!=e){c.style.display=e}}function updateTermsVisibility(){if(tacReadField.value=="true"){isTacBoxVisible=false;tacState=TC_ACCEPTED}else{if(tacRespondedField.value=="true"){tacState=TC_DECLINED}else{tacState=TC_NOANSWER}}}function copyTACToIFrame(){var b="";if(document.getElementById("externalTextEscaped").childNodes[0]){var e=document.getElementById("externalTextEscaped").childNodes;for(var c=0;c<e.length;c++){b+=e[c].nodeValue}}document.getElementById("externalTextEscaped").innerHTML="";var d=document.getElementById("externalTextContentHolder");var a=d.contentWindow||d.contentDocument;if(a.document){a=a.document}a.open();a.write(b);a.close()}function initTAC(c,a,b){tacBoxDiv=document.getElementById(c);tacReadField=document.getElementById(a);tacRespondedField=document.getElementById(b);isTacVisible=true;isTacBoxVisible=true;addEventById("tc_toggle_button","click",handleOpenCloseClick);addEventById("tc_accept_btn","click",handleAcceptDecline);addEventById("tc_decline_btn","click",handleAcceptDecline);copyTACToIFrame();updateTermsVisibility();updateDisplay()}var BPBM={topLevelMerchants:[],merchants:[],merchantAddresses:[],currentNavLevel:0,selectedTopMerchantIndex:0,selectedMerchantIndex:0,showAlphaNumericPanel:true,highlightedMerchantIndex:-1,highlightedAddressIndex:-1,ignoreMerchantMouseOver:false,ignoreAddressMouseOver:false,caller:"",lastSearchDisplayType:"",lastSearchCatId:"",initialize:function(a){jQuery("#browsePayeeButton").click(function(){BPBM.onLetterClick("")});jQuery("#navLinkBack").click(function(){BPBM.onNavigationLinkClicked()});jQuery("#navLinkBack").focus(function(){BPBM.removeHighlightedRow()});jQuery("#alphaNumericPanel a").focus(function(){BPBM.removeHighlightedRow()});this.caller=a;this.attachKeyEvents();this.attachFocusEvent("browsePayeeButton");this.attachFocusEvent("merchantCategories");this.attachFocusEvent("displayType")},removeHighlightedRow:function(){$.each($(".highlighted"),function(b,a){$("span.merchantRowLabel",this).hide();$(this).removeClass("highlighted").attr("aria-selected","false")});BPBM.highlightedMerchantIndex=-1},show:function(){jQuery("#displayType").val("");jQuery("#merchantCategories").val("");jQuery.getJSON("CuiJsonServlet/GetCategories",function(d){var a='<option value="">All Categories</option>';var c=d.data.list;for(var b=0;b<c.length;b++){a+='<option value="'+c[b].categoryId+'">'+c[b].shortName+"</option>"}$("#merchantCategories").html(a);$("#merchantCategories").hide();$("#merchantCategories").show()});this.currentNavLevel=0;this.reset();this.onLetterClick("A")},attachFocusEvent:function(a){document.getElementById(a).focused=false;jQuery("#"+a).focus(function(){this.focused=true});jQuery("#"+a).blur(function(){this.focused=false})},attachKeyEvents:function(){jQuery(document).keydown(function(a){if(a.keyCode==BPLightBox.ENTER_KEY&&document.getElementById("browsePayeeButton").focused){return true}else{if(document.getElementById("displayType").focused||document.getElementById("merchantCategories").focused){return true}else{if(jQuery("#bpMerchantTopLevel").is(":visible")){BPBM.handleListKeyPress(a,"#bpMerchantTopLevelBody",0)}else{if(jQuery("#bpMerchantSubLevel").is(":visible")){BPBM.handleListKeyPress(a,"#bpMerchantBody",1)}else{if(jQuery("#bpMerchantAddress").is(":visible")){BPBM.handleListKeyPress(a,"#bpMerchantAddressBody",2)}else{if(a.keyCode==BPLightBox.UP_ARROW_KEY||a.keyCode==BPLightBox.DOWN_ARROW_KEY){}}}}}}})},handleListKeyPress:function(b,a,c){switch(b.keyCode){case BPLightBox.DOWN_ARROW_KEY:BPBM.selectNextRecord(a);b.preventDefault();jQuery("#bpMerchantContentTop").focus();break;case BPLightBox.UP_ARROW_KEY:BPBM.disableMouseOver(a);BPBM.selectPreviousRecord(a);b.preventDefault();jQuery("#bpMerchantContentTop").focus();break;case BPLightBox.ENTER_KEY:BPBM.disableMouseOver(a);if(BPBM.highlightedMerchantIndex>=0){switch(c){case 0:BPBM.onTopLevelMerchantClick(BPBM.highlightedMerchantIndex);break;case 1:BPBM.onMerchantClick(BPBM.highlightedMerchantIndex);break;case 2:BPBM.onAddressClick(BPBM.highlightedMerchantIndex);break}}else{return true}break}return false},selectNextRecord:function(c){var b=jQuery(c);var a=this.highlightedMerchantIndex;jQuery("tr",b).removeClass("highlighted").attr("aria-selected","false");jQuery("span.merchantRowLabel",b).hide();a++;if(a>=b.prop("rows").length){a=0}jQuery("tr",b).eq(a).addClass("highlighted").attr("aria-selected","true");jQuery("span.merchantRowLabel",b).eq(a).show();this.highlightedMerchantIndex=a;this.scrollToHighlightedRecord(c)},selectPreviousRecord:function(c){var b=jQuery(c);var a=this.highlightedMerchantIndex;jQuery("tr",b).removeClass("highlighted").attr("aria-selected","false");jQuery("span.merchantRowLabel",b).hide();a--;if(a<0){a=b.prop("rows").length-1}jQuery("tr",b).eq(a).addClass("highlighted").attr("aria-selected","true");jQuery("span.merchantRowLabel",b).eq(a>=0?a:0).show();this.highlightedMerchantIndex=a;this.scrollToHighlightedRecord(c)},scrollToHighlightedRecord:function(d){var b=jQuery("#bpMerchantContentTop");var c=jQuery("tr",d).eq(this.highlightedMerchantIndex);var g=b.position().top;var a=c.position().top-g;var e=c.height();var f=b.scrollTop();if(this.highlightedMerchantIndex==0){b.scrollTop(0);return}if(this.highlightedMerchantIndex==jQuery(d).prop("rows").length-1){b.scrollTop(b.prop("scrollHeight"));return}if(a>b.height()-e){b.scrollTop(f+e)}else{if(a<4){b.scrollTop(f-e)}}},enableMouseOver:function(a){jQuery(a).unbind("mouseover");this.ignoreMerchantMouseOver=false},disableMouseOver:function(a){this.ignoreMerchantMouseOver=true;jQuery(a).mouseover(function(b){BPBM.enableMouseOver(b)})},reset:function(){jQuery("#bpMerchantSubLevel").hide();jQuery("#bpMerchantAddress").hide();jQuery("#bpMerchantTopLevel").hide();jQuery("#bpMerchantContentNavBar").hide();jQuery("#bpMerchantContentNavBarText").html("");jQuery("#bpNoResultFound").hide()},onLetterClick:function(b){var a=$("#merchantCategories").val();var c=$("#displayType").val();BPBM.lastSearchDisplayType=c;BPBM.lastSearchCatId=a;BPBM.reset();if(b!=""){a=BPBM.lastSearchCatId;c=BPBM.lastSearchDisplayType}BPAjax.getJSON("CuiJsonServlet/GetMerchantsByCatLetter",{catID:a,letter:b,eBill:c},function(e){if(e.merchantDisplayVO.merchants.length==0){var d=" There are no payees in this category that begin with this character.";if(b==""){d=" There are no payees in this category.";BPBM.showAlphaNumericPanel=false;BPBM.updateAlphaNumericPanel()}jQuery("#bpNoResultFound").html(d);jQuery("#bpNoResultFound").show()}else{topLevelMerchants=e.merchantDisplayVO.merchants;BPBM.populateTopLevelMerchants(e);if(e.merchantDisplayVO.alphaNumericPanelVisible=="true"){BPBM.showAlphaNumericPanel=true;BPBM.updateAlphaNumericPanel(true)}else{BPBM.showAlphaNumericPanel=false;BPBM.updateAlphaNumericPanel()}}},"bpMerchantContentTop");jQuery("#alphaNumericPanel span").removeClass("alphaNumericPanelSelected").addClass("alphaNumericPanel");jQuery("#alphaNumericPanelLetter"+b).removeClass("alphaNumericPanel").addClass("alphaNumericPanelSelected")},populateTopLevelMerchants:function(a){jQuery("#bpMerchantTopLevelBody").html("");jQuery("#bpMerchantTopLevel").show();this.ignoreMerchantMouseOver=false;this.highlightedMerchantIndex=-1;jQuery.each(a.merchantDisplayVO.merchants,function(b,e){var d="merchant_parent_"+b;var c=e.ebilled=="true"?'<img class="eBillSpan" border="0" alt="Electronic Bill" src="'+BPLightBox.imageContentPath+'/images/icons/ico_eBills_Avail_19x11.gif">':"";var f=jQuery('<tr aria-selected="false" id="'+d+'"><td class="merchantRow"><span id="'+d+'_span" class="merchantRowLabel">Select payee</span>'+(b==0?'<a href="#" id="'+d+'_link">':"")+'<span role="link" class="highlightedMerName">'+e.parentName+"</span>"+(b==0?"</a>":"")+c+"</td></tr>");f.data("merchant",e);jQuery("#bpMerchantTopLevelBody").append(f)});BPBM.decorateTopLevelMerchantRow()},decorateTopLevelMerchantRow:function(){jQuery("#bpMerchantTopLevelBody tr").bind("mouseenter",function(){if(!BPBM.ignoreMerchantMouseOver){if(BPBM.highlightedMerchantIndex>-1){var b=jQuery("#bpMerchantTopLevelBody");var a=BPBM.highlightedMerchantIndex;jQuery("tr",b).eq(a>=0?a:0).removeClass("highlighted").attr("aria-selected","false");jQuery("span.merchantRowLabel",b).eq(a>=0?a:0).hide()}BPBM.highlightedMerchantIndex=jQuery(this).index();jQuery(this).addClass("highlighted").attr("aria-selected","true");jQuery("#"+jQuery(this).attr("id")+"_span").show()}});jQuery("#bpMerchantTopLevelBody tr").bind("mouseleave",function(){if(!BPBM.ignoreMerchantMouseOver){jQuery(this).removeClass("highlighted").attr("aria-selected","false");jQuery("#"+jQuery(this).attr("id")+"_span").hide()}});jQuery("#bpMerchantTopLevelBody tr a").bind("focus",function(){BPBM.onRowLinkElementFocus(this,"bpMerchantTopLevelBody")});jQuery("#bpMerchantTopLevelBody tr").click(function(){BPBM.onTopLevelMerchantClick(jQuery(this).index())})},onRowLinkElementFocus:function(b,c){var e="#"+$(b).attr("id").replace("_link","");var d=$("#"+c);var a=BPBM.highlightedMerchantIndex;if(a>-1){$("tr",d).eq(a>=0?a:0).removeClass("highlighted").attr("aria-selected","false");$("span.merchantRowLabel",d).eq(a>=0?a:0).hide()}else{$("tr",d).removeClass("highlighted").attr("aria-selected","false");$("span.merchantRowLabel",d).hide()}$(e).addClass("highlighted").attr("aria-selected","true");$(e+"_span").show();BPBM.highlightedMerchantIndex=$(e).index()},onTopLevelMerchantClick:function(a){jQuery("#bpMerchantTopLevel").hide();BPBM.selectedTopMerchantIndex=a;BPAjax.getJSON("CuiJsonServlet/GetSubMerchants",{catID:BPBM.lastSearchCatId,parentMerName:topLevelMerchants[a].parentName,eBill:BPBM.lastSearchDisplayType},function(b){if(b.data.list.length>1){BPBM.populateMerchants(b);BPBM.updateNavPanel(topLevelMerchants[a].parentName);jQuery("#manualPayeeText").text(topLevelMerchants[a].parentName)}else{BPBM.merchants=b.data.list;BPBM.selectedMerchantIndex=0;BPBM.populateAddress(BPBM.merchants[0]);BPBM.updateNavPanel(BPBM.merchants[0].name,BPBM.merchants[0].ebilled);jQuery("#manualPayeeText").text(BPBM.merchants[0].name)}BPBM.currentNavLevel=1;BPBM.updateAlphaNumericPanel()},"bpMerchantContentTop")},updateNavPanel:function(c,a){jQuery("#bpMerchantContentNavBar").show();if(jQuery("#bpMerchantContentNavBarText").html()==""){jQuery("#bpMerchantContentNavBarText").text(c)}else{var b=jQuery("#bpMerchantContentNavBarText").html();jQuery("#bpMerchantContentNavBarText").html('<a href="#" id="navLink">'+b+"</a> > "+c)}jQuery("#navLink").click(function(){BPBM.onNavigationLinkClicked()});jQuery("#navLink").focus(function(){BPBM.highlightedMerchantIndex=-1});if(!a||a=="false"){jQuery("#bpMerchantNavEbillImg").hide()}else{jQuery("#bpMerchantNavEbillImg").show()}},onNavigationLinkClicked:function(){BPBM.ignoreMerchantMouseOver=false;BPBM.highlightedMerchantIndex=-1;jQuery("#bpMerchantContentTop tr").removeClass("highlighted").attr("aria-selected","false");jQuery("#bpMerchantContentTop span.merchantRowLabel").hide();switch(BPBM.currentNavLevel){case 0:break;case 1:jQuery("#bpMerchantTopLevel").show();jQuery("#bpMerchantSubLevel").hide();jQuery("#bpMerchantAddress").hide();jQuery("#bpMerchantContentNavBar").hide();jQuery("#bpMerchantContentNavBarText").text("");BPBM.currentNavLevel=0;if(BPBM.showAlphaNumericPanel){BPBM.updateAlphaNumericPanel("show")}break;case 2:jQuery("#bpMerchantSubLevel").show();jQuery("#bpMerchantContentNavBarText").text("");jQuery("#bpMerchantAddress").hide();BPBM.updateNavPanel(topLevelMerchants[BPBM.selectedTopMerchantIndex].parentName);BPBM.currentNavLevel=1;break}},updateAlphaNumericPanel:function(a){if(!a){jQuery("#alphaNumericPanel").hide();jQuery("#alphaNumericPanelText").hide()}else{jQuery("#alphaNumericPanel").show();jQuery("#alphaNumericPanelText").show()}BPBM.setLayOut()},setLayOut:function(){var a=jQuery("#lightBoxFooter").position().top-(jQuery("#browsePayeeHeaderPanel").position().top+$("#browsePayeeHeaderPanel").height());$("#bpMerchantContentTop").height(a-3)},populateMerchants:function(a){BPBM.merchants=a.data.list;BPBM.ignoreMerchantMouseOver=false;BPBM.highlightedMerchantIndex=-1;jQuery("#bpMerchantBody").html("");jQuery("#bpMerchantSubLevel").show();jQuery.each(a.data.list,function(b,e){var d="merchant_"+e.id;var c=e.ebilled=="true"?'<img class="eBillSpan" border="0" alt="Electronic Bill" src="'+BPLightBox.imageContentPath+'/images/icons/ico_eBills_Avail_19x11.gif">':"";var f=jQuery('<tr aria-selected="false" id="'+d+'"><td class="merchantRow"><span id="'+d+'_span" class="merchantRowLabel">Select payee</span>'+(b==0?'<a href="#" id="'+d+'_link">':"")+'<span role="link" class="highlightedMerName">'+e.name+"</span>"+(b==0?"</a>":"")+c+"</td></tr>");f.data("merchant",e);jQuery("#bpMerchantBody").append(f)});BPBM.decorateMerchantRow()},decorateMerchantRow:function(){jQuery("#bpMerchantBody tr").bind("mouseenter",function(){if(!BPBM.ignoreMerchantMouseOver){if(BPBM.ignoreMerchantMouseOver>-1){var b=jQuery("#bpMerchantBody");var a=BPBM.highlightedMerchantIndex;jQuery("tr",b).eq(a>=0?a:0).removeClass("highlighted");jQuery("span.merchantRowLabel",b).eq(a>=0?a:0).hide()}BPBM.highlightedMerchantIndex=jQuery(this).index();jQuery(this).addClass("highlighted");jQuery("#searchMerchantContentTop").attr("aria-activedescendant",$(this).attr("id")+"_name");jQuery("#"+jQuery(this).attr("id")+"_span").show()}});jQuery("#bpMerchantBody tr").bind("mouseleave",function(){if(!BPBM.ignoreMerchantMouseOver){jQuery(this).removeClass("highlighted");jQuery("#"+jQuery(this).attr("id")+"_span").hide()}});jQuery("#bpMerchantBody tr a").bind("focus",function(){BPBM.onRowLinkElementFocus(this,"bpMerchantBody")});jQuery("#bpMerchantBody tr").click(function(){BPBM.onMerchantClick(jQuery(this).index())})},onMerchantClick:function(a){jQuery("#bpMerchantSubLevel").hide();BPBM.selectedMerchantIndex=a;BPBM.populateAddress(BPBM.merchants[a]);BPBM.updateNavPanel(BPBM.merchants[a].name,BPBM.merchants[a].ebilled);BPBM.currentNavLevel=2;jQuery("#manualPayeeText").text(BPBM.merchants[a].name);BPBM.setLayOut()},populateAddress:function(b){jQuery("#bpMerchantAddress").show();jQuery("#bpMerchantAddressBody").html("");BPBM.ignoreMerchantMouseOver=false;BPBM.highlightedMerchantIndex=-1;if(b.address!="null"){var a=[];a.push(b.address);BPBM.merchantAddresses=a;BPBM.constructAddress(a);BPBM.decorateAddressRow();BPBM.onAddressClick(0)}else{jQuery.getJSON("CuiJsonServlet/GetRemittanceAddresses",{merchantID:b.id},function(c){BPBM.merchantAddresses=c.data.list;BPBM.constructAddress(c.data.list);BPBM.decorateAddressRow()})}},decorateAddressRow:function(){jQuery("#bpMerchantAddressBody tr").bind("mouseenter",function(){if(!BPBM.ignoreMerchantMouseOver){if(BPBM.ignoreMerchantMouseOver>-1){var b=jQuery("#bpMerchantAddressBody");var a=BPBM.highlightedMerchantIndex;jQuery("tr",b).eq(a>=0?a:0).removeClass("highlighted");jQuery("span.merchantRowLabel",b).eq(a>=0?a:0).hide()}BPBM.highlightedMerchantIndex=jQuery(this).index();jQuery(this).addClass("highlighted");jQuery("#searchMerchantContentTop").attr("aria-activedescendant",$(this).attr("id")+"_name");jQuery("#"+jQuery(this).attr("id")+"_span").show()}});jQuery("#bpMerchantAddressBody tr").bind("mouseleave",function(){if(!BPBM.ignoreMerchantMouseOver){jQuery(this).removeClass("highlighted");jQuery("#"+jQuery(this).attr("id")+"_span").hide()}});jQuery("#bpMerchantAddressBody tr a").bind("focus",function(){BPBM.onRowLinkElementFocus(this,"bpMerchantAddressBody")});jQuery("#bpMerchantAddressBody tr").click(function(){BPBM.onAddressClick(jQuery(this).index())})},onAddressClick:function(a){BPLightBox.close();BPBM.caller.onPayeeSelect(BPBM.merchants[BPBM.selectedMerchantIndex],BPBM.merchantAddresses[a])},constructAddress:function(a){jQuery.each(a,function(c,b){var d="merchant_address_"+b.id;var e=jQuery('<tr aria-selected="false" id="'+d+'"><td class="merchantRow"><span id="'+d+'_span" class="merchantRowLabel">Select address</span>'+(c==0?'<a href="#" id="'+d+'_link">':"")+'<span role="link" class="highlightedMerName" id="'+d+'_name">'+BPBM.constructAddressElement(b)+"</span>"+(c==0?"</a>":"")+"</td></tr>");jQuery("#bpMerchantAddressBody").append(e)})},constructAddressElement:function(a){return a.address1+"&nbsp;"+((a.address2=="null")?"":"&nbsp;"+a.address2+"&nbsp;")+"&nbsp;"+a.city+",&nbsp;"+a.state+"&nbsp;&nbsp;"+a.zipCode+((a.zipCodePlus=="null")?"":"-"+a.zipCodePlus)+"&nbsp;"}};var BPSM={MINIMUM_SEARCH_LENGTH:3,DEFAULT_MERCHANT_HINT:"Please enter the account number from your statement excluding hyphens and spaces.",highlightedMerchantIndex:-1,highlightedAddressIndex:-1,lastSearchString:"",ignoreMerchantMouseOver:false,ignoreAddressMouseOver:false,merchantAddresses:[],merchants:[],searchByZip:false,selectedMerchant:"",caller:"",eventQueue:[],lastSearchRequestCompleted:true,skipMerchantKeyUpEvent:false,initialize:function(a){if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!String.prototype.startsWith){String.prototype.startsWith=function(b){return !this.indexOf(b)}}jQuery("#searchPayeeButton").click(function(){BPSM.searchMerchantByZip()});this.caller=a;this.attachKeyEvents();this.attachFocusEvent("merchantSearch");this.attachFocusEvent("zipCode");this.attachFocusEvent("zipCodePlus");this.attachFocusEvent("searchPayeeButton");setInterval(function(){BPSM.processEvent()},10)},show:function(){this.resetPage();jQuery("#merchantSearch").focus();this.eventQueue=[];lastSearchRequestCompleted:true;$("#searchMerchantContentTop").height(220)},processEvent:function(){if(BPSM.lastSearchRequestCompleted&&this.eventQueue.length>0){this.eventQueue[this.eventQueue.length-1]();this.eventQueue=[]}},attachFocusEvent:function(a){document.getElementById(a).focused=false;jQuery("#"+a).focus(function(){this.focused=true});jQuery("#"+a).blur(function(){this.focused=false})},resetPage:function(){this.resetFields();this.clearMerchants();this.resetNavPanel();$("#searchPayeeErrorPanel").hide();jQuery("#manualPayeeText").text("Payee")},resetFields:function(){jQuery("#merchantSearch").val("");jQuery("#zipCode").val("");jQuery("#zipCodePlus").val("");this.decorateField("zipField");this.decorateField("searchField")},handleMerchantSearchKey:function(c){$("#searchPayeeErrorPanel").hide();this.decorateField("zipField");this.decorateField("searchField");$("#zipCode").val("");$("#zipCodePlus").val("");BPSM.selectedMerchant="";if(!(/[^A-Za-z0-9& ]/.test(String.fromCharCode(c.keyCode)))||c.keyCode==8||c.keyCode==46){var a=BPSM.getSearchString(jQuery("#merchantSearch").val());var f=a.split(" ");var e=false;for(var b=0;b<f.length;b++){if(f[b].trim().length>=this.MINIMUM_SEARCH_LENGTH){e=true}}if(e){if(a!==this.lastSearchString){this.lastSearchString=a;jQuery("#enterMoreCharPanel").hide();this.eventQueue.push(function(){BPSM.searchMerchants(a)})}}else{if(a.length>=1){this.eventQueue.push(function(){BPSM.clearMerchants();BPSM.lastSearchString=a;jQuery("#enterMoreCharPanel").show()})}else{this.eventQueue.push(function(){BPSM.lastSearchString="";jQuery("#enterMoreCharPanel").hide()})}}var d=jQuery("#merchantSearch").val().trim();jQuery("#manualPayeeText").text(d==""?"Payee":d)}},searchMerchants:function(a,b){this.searchByZip=false;BPSM.selectedMerchant="";BPSM.lastSearchRequestCompleted=false;BPAjax.getJSON("CuiJsonServlet/GetMerchants",{searchString:a.trim()},function(c){if(c.data.list=="null"||c.data.list.length==0){if(b){BPSM.decorateField("searchField",true);BPSM.showErrors("There are no matches for this payee name in our directory.")}else{BPSM.clearMerchants()}$("#selectPayeeMessagePanel").show()}else{BPSM.populateMerchants(c)}BPSM.setLookUpPageLayout();BPSM.lastSearchRequestCompleted=true},"searchMerchantContentTop")},lookUpMerchant:function(b,a,c,d){BPSM.skipMerchantKeyUpEvent=true;$("#searchPayeeErrorPanel").hide();jQuery("#manualPayeeText").text(b);BPSM.selectedMerchant="";if(d==0){this.searchMerchantByZip(true)}else{BPAjax.getJSON("CuiJsonServlet/GetMerchantById",{merchantID:d},function(e){BPSM.selectedMerchant=e.searchableMerchant;if(a==""){BPSM.showSelectedMerchant(e.searchableMerchant)}else{BPSM.searchMerchantByZip(true)}},"searchMerchantContentTop")}},showSelectedMerchant:function(b){var a={data:{list:[]}};a.data.list.push(b);BPSM.populateMerchants(a);BPSM.onMerchantRowClick(0)},searchMerchantByZip:function(b){jQuery("#searchPayeeErrorPanel").hide();if(!this.validateInput(b)){BPSM.setLookUpPageLayout();return}if(jQuery("#zipCode").val().trim()==""){this.searchMerchants(jQuery("#merchantSearch").val(),true);return}var c=jQuery("#zipCodePlus").val().trim();var a=jQuery("#zipCode").val().trim()+(c!=""?("-"+c):"");if(BPSM.selectedMerchant!=""){BPAjax.getJSON("CuiJsonServlet/GetRemittanceAddresses",{merchantID:BPSM.selectedMerchant.id},function(e){var d=[];jQuery.each(e.data.list,function(g,f){if(f.zipCode.startsWith(jQuery("#zipCode").val().trim())&&f.zipCodePlus.startsWith(c)){d.push(f)}});if(d.length==0){BPSM.decorateField("zipField",true);BPSM.showErrors("There are no payee matches for this ZIP code in our directory.&nbsp;View available results below.");BPSM.showSelectedMerchant(BPSM.selectedMerchant)}else{$("#resultMerchantAddressPanelBody").html("");$("#resultMerchantAddressPanel").show();$("#merchantSearch").attr("aria-owns","resultMerchantAddressPanel");BPSM.merchantAddresses=d;BPSM.constructAddress(d);BPSM.decorateAddressRow()}BPSM.setLookUpPageLayout()},"searchMerchantContentTop")}else{this.searchByZip=true;BPAjax.getJSON("CuiJsonServlet/GetMerchants",{searchString:BPSM.getSearchString(jQuery("#merchantSearch").val()),merZipCode:a},function(e){if(e.data.list=="null"||e.data.list.length==0){var d=jQuery("#resultMerchantPanelBody");if(d.prop("rows").length==0&&!b){BPSM.decorateField("searchField",true);BPSM.showErrors("There are no matches for this payee name in our directory.")}else{BPSM.decorateField("zipField",true);BPSM.showErrors("There are no payee matches for this ZIP code in our directory.&nbsp;View available results below.");BPSM.searchMerchants($("#merchantSearch").val())}}else{BPSM.populateMerchantsWithAddress(e)}BPSM.setLookUpPageLayout()},"searchMerchantContentTop")}},getSearchString:function(a){return a.trim().toUpperCase().replace(/[\- ]/g," ").replace(/[^A-Z0-9& ]/g,"")},setLookUpPageLayout:function(){var b=$("#searchModuleTopContent").height()+$("#lightBoxHeader").height()+$("#lightBoxFooter").height();var a=575-b-23;$("#searchMerchantContentTop").height(a)},validateInput:function(a){jQuery("#searchPayeeErrorPanel").html("");this.decorateField("zipField");this.decorateField("searchField");var b=false;if(jQuery("#merchantSearch").val().trim()==""){this.decorateField("searchField",true);this.addError("Please enter Payee Name.");b=true}if(jQuery("#merchantSearch").val().trim()!=""&&jQuery("#merchantSearch").val().trim().length>=BPSM.MINIMUM_SEARCH_LENGTH&&jQuery("#resultMerchantPanelBody").prop("rows").length==0&&!a){this.decorateField("searchField",true);this.addError("There are no matches for this payee name in our directory.");b=true}if(jQuery("#zipCodePlus").val().trim()!=""&&jQuery("#zipCode").val().trim()==""){this.addError("Please enter at least one digit for the ZIP code.");this.decorateField("zipField",true);b=true}if(this.validateInvalidCharacter()){this.addError("An invalid character has been entered:&nbsp;<span style='font-weight:normal;'>Please manually re-enter information for the indicated field(s).</span>");b=true}if(!b&&jQuery("#merchantSearch").val().trim().length<BPSM.MINIMUM_SEARCH_LENGTH){this.addError("There are too many results to display.&nbsp;<span style='font-weight:normal;'>Please enter at least 3 characters of the payee's name to refine your search.</span>");this.decorateField("searchField",true);b=true}if(b){return false}this.decorateField("searchField");this.decorateField("zipField");return true},validateInvalidCharacter:function(){var b=false;var c=new RegExp("^[a-zA-Z0-9 &!#%,<>';?\"()+\\-./:=@\\[\\]^_`|{}~\\\\]*$");if(jQuery("#merchantSearch").val().trim()!=""&&!c.test((jQuery("#merchantSearch").val().trim()))){this.decorateField("searchField",true);b=true}var a=new RegExp("^[0-9]*$");if(jQuery("#zipCode").val().trim()!=""&&!a.test(jQuery("#zipCode").val().trim())){this.decorateField("zipField",true);b=true}if(jQuery("#zipCodePlus").val().trim()!=""&&!a.test(jQuery("#zipCodePlus").val().trim())){this.decorateField("zipField",true);b=true}return b},decorateField:function(a,b){var d="normalField";var c="errorField";if(!b){d="errorField";c="normalField";jQuery("#"+a+" img").hide()}else{jQuery("#"+a+" img").show()}jQuery("#"+a).removeClass(d).addClass(c)},showErrors:function(b){jQuery("#searchPayeeErrorPanel").show();var a='<img src="'+BPLightBox.imageContentPath+'/images/icons/error.gif" alt="Error"/>';var c="<div>"+a+"&nbsp;"+b+"</div>";jQuery("#searchPayeeErrorPanel").html(c)},addError:function(b){jQuery("#searchPayeeErrorPanel").show();var a='<img src="'+BPLightBox.imageContentPath+'/images/icons/error.gif" alt="Error"/>';var c="<div>"+a+"&nbsp;"+b+"</div>";jQuery("#searchPayeeErrorPanel").append(c)},populateMerchants:function(a){this.merchants=a.data.list;this.clearMerchants();jQuery("#resultMerchantPanel").show();jQuery("#merchantSearch").attr("aria-owns","resultMerchantPanel");jQuery("#selectPayeeMessagePanel").show();this.resetNavPanel();this.updateNavPanel(this.lastSearchString);BPSM.highlightedMerchantIndex=-1;jQuery.each(a.data.list,function(b,e){var d="smerchant_"+e.id;var c=e.ebilled=="true"?'<img class="eBillSpan" border="0" alt="Electronic Bill" src="'+BPLightBox.imageContentPath+'/images/icons/ico_eBills_Avail_19x11.gif">':"";var f=jQuery('<tr role="option" role="listitem" id="'+d+'"><td class="merchantRow"><span id="'+d+'_span_sel" class="merchantRowLabel">Select payee</span>'+(b==0?'<a href="#" style="text-decoration: none;" id="'+d+'_link">':"")+'<span class="highlightedMerName" id="'+d+'_name">'+e.name+"</span>"+(b==0?"</a>":"")+c+"</td></tr>");jQuery("#resultMerchantPanelBody").append(f)});this.decorateMerchantRow("#resultMerchantPanelBody");jQuery("#resultMerchantPanelBody tr").click(function(){BPSM.onMerchantRowClick(jQuery(this).index())})},decorateMerchantRow:function(a){jQuery(a+" tr").bind("mouseenter",function(){if(!BPSM.ignoreMerchantMouseOver){if(BPSM.highlightedMerchantIndex>-1){var c=jQuery(a);var b=BPSM.highlightedMerchantIndex;jQuery("tr",c).eq(b>=0?b:0).removeClass("highlighted");jQuery("span.merchantRowLabel",c).eq(b>=0?b:0).hide()}BPSM.highlightedMerchantIndex=jQuery(this).index();jQuery(this).addClass("highlighted");jQuery("#resultMerchantPanel").attr("aria-activedescendant",$(this).attr("id")+"_name");jQuery("#"+jQuery(this).attr("id")+"_span_sel").show()}});jQuery(a+" tr").bind("mouseleave",function(){if(!BPSM.ignoreMerchantMouseOver){jQuery(this).removeClass("highlighted");jQuery("#"+jQuery(this).attr("id")+"_span_sel").hide()}});jQuery(a+" tr a").bind("focus",function(){var d="#"+$(this).attr("id").replace("_link","");var c=$(a);var b=BPSM.highlightedMerchantIndex;if(b>-1){$("tr",c).eq(b>=0?b:0).removeClass("highlighted");$("span.merchantRowLabel",c).eq(b>=0?b:0).hide()}else{$("tr",c).removeClass("highlighted");$("span.merchantRowLabel",c).hide()}$(d).addClass("highlighted");$(d+"_span_sel").show();BPSM.highlightedMerchantIndex=$(d).index()})},onMerchantRowClick:function(a){jQuery("#resultMerchantPanel").hide();BPSM.selectedMerchant=BPSM.merchants[a];jQuery("#merchantSearch").val(BPSM.merchants[a].name);jQuery("#manualPayeeText").text(BPSM.merchants[a].name);BPSM.populateAddress(BPSM.merchants[a]);BPSM.updateNavPanel(BPSM.merchants[a].name,BPSM.merchants[a].ebilled);BPSM.setLookUpPageLayout()},onMerchantAddressRowClick:function(b){BPLightBox.close();var a=BPSM.merchantAddresses[b];jQuery.getJSON("CuiJsonServlet/GetMerchantById",{merchantID:a.merchantId},function(c){jQuery("#manualPayeeText").text(c.searchableMerchant.name);BPSM.caller.onPayeeSelect(c.searchableMerchant,BPSM.merchantAddresses[b])})},populateMerchantsWithAddress:function(a){BPSM.merchantAddresses=[];this.clearMerchants();this.resetNavPanel();this.updateNavPanel(this.lastSearchString);jQuery("#resultMerchantPanel").show();jQuery("#merchantSearch").attr("aria-owns","resultMerchantPanel");jQuery("#selectPayeeMessagePanel").show();var b=true;jQuery.each(a.data.list,function(c,e){var d=e.ebilled=="true"?'<img  class="eBillSpan" border="0" alt="Electronic Bill" src="'+BPLightBox.imageContentPath+'/images/icons/ico_eBills_Avail_19x11.gif">':"";jQuery.each(e.addresses,function(g,f){BPSM.merchantAddresses.push(f);var h="smerchant_add_"+e.id+"_"+f.id;var j=jQuery('<tr role="option" role="listitem" id="'+h+'"><td class="merchantRow" width="280px">'+(b?'<a href="#" id="'+h+'_link">':"")+'<span id="'+h+'_name" class="highlightedMerName">'+e.name+"</span>"+(b?"</a>":"")+d+'</td><td class="merchantRow"><span id="'+h+'_span_sel" class="merchantRowLabel">Select address</span>'+BPSM.constructAddressElement(f,"addLineBreak")+"</td></tr>");b=false;jQuery("#resultMerchantPanelBody").append(j)})});this.decorateMerchantRow("#resultMerchantPanelBody");jQuery("#resultMerchantPanelBody tr").click(function(){BPSM.onMerchantAddressRowClick(jQuery(this).index())})},populateAddress:function(b){jQuery("#resultMerchantAddressPanelBody").html("");jQuery("#resultMerchantAddressPanel").show();jQuery("#merchantSearch").attr("aria-owns","resultMerchantAddressPanel");if(b.address!="null"){var a=[];a.push(b.address);BPSM.merchantAddresses=a;this.constructAddress(a);this.decorateAddressRow();this.onAddressRowClick(0)}else{jQuery.getJSON("CuiJsonServlet/GetRemittanceAddresses",{merchantID:b.id},function(c){BPSM.merchantAddresses=c.data.list;BPSM.constructAddress(c.data.list);BPSM.decorateAddressRow()})}},updateNavPanel:function(b,a){jQuery("#searchMerchantNavPanel").show();if(jQuery("#searchMerchantNavPanelText").html()==""){jQuery("#searchMerchantNavPanelText").text(b);jQuery("#navBack").hide()}else{var c=jQuery("#searchMerchantNavPanelText").html();jQuery("#searchMerchantNavPanelText").html('<a href="#" >'+c+"</a> > "+b);jQuery("#navBack").show()}jQuery("#searchMerchantNavPanel a").click(function(){jQuery("#resultMerchantAddressPanel").hide();jQuery("#resultMerchantPanel").show();jQuery("#merchantSearch").attr("aria-owns","resultMerchantPanel");BPSM.resetNavPanel();BPSM.updateNavPanel(BPSM.lastSearchString);jQuery("#navBack").hide();jQuery("#searchMerchantNavEbillImg").hide();jQuery("#merchantSearch").val(BPSM.lastSearchString)});jQuery("#searchMerchantNavPanel a").focus(function(){BPSM.removeHighlightedRow()});if(!a||a=="false"){jQuery("#searchMerchantNavEbillImg").hide()}else{jQuery("#searchMerchantNavEbillImg").show()}},removeHighlightedRow:function(){$.each($(".highlighted"),function(b,a){$("span.merchantRowLabel",this).hide();$(this).removeClass("highlighted").attr("aria-selected","false")});BPSM.highlightedMerchantIndex=-1;BPSM.highlightedAddressIndex=-1},resetNavPanel:function(){jQuery("#searchMerchantNavPanelText").html("");jQuery("#bpMerchantNavEbillImg").hide()},clearMerchants:function(){jQuery("#resultMerchantPanel").hide();jQuery("#selectPayeeMessagePanel").hide();jQuery("#resultMerchantAddressPanel").hide();jQuery("#searchMerchantNavPanel").hide();jQuery("#resultMerchantPanelBody").html("");jQuery("#resultMerchantAddressPanelBody").html("")},selectNextMerchant:function(){var c=jQuery("#resultMerchantPanelBody");var a=this.highlightedMerchantIndex;jQuery("tr",c).removeClass("highlighted");jQuery("span.merchantRowLabel",c).hide();a++;if(a>=c.prop("rows").length){a=0}var b=jQuery("tr",c).eq(a);var d=b.attr("id");b.addClass("highlighted");$("#resultMerchantPanel").attr("aria-activedescendant",d+"_name");jQuery("#"+d+"_span_sel").show();this.highlightedMerchantIndex=a;this.scrollToHighlightedMerchant()},selectPreviousMerchant:function(){var c=jQuery("#resultMerchantPanelBody");var a=this.highlightedMerchantIndex;jQuery("tr",c).removeClass("highlighted");jQuery("span.merchantRowLabel",c).hide();a--;if(a<0){a=c.prop("rows").length-1}var b=jQuery("tr",c).eq(a);var d=b.attr("id");b.addClass("highlighted");$("#resultMerchantPanel").attr("aria-activedescendant",d+"_name");jQuery("#"+d+"_span_sel").show();this.highlightedMerchantIndex=a;this.scrollToHighlightedMerchant()},scrollToHighlightedMerchant:function(){var b=jQuery("#searchMerchantContentTop");var c=jQuery("tr","#resultMerchantPanelBody").eq(this.highlightedMerchantIndex);var f=b.position().top;var a=c.position().top-f;var d=c.height();var e=b.scrollTop();if(this.highlightedMerchantIndex==0){b.scrollTop(0);return}if(this.highlightedMerchantIndex==jQuery("#resultMerchantPanelBody").prop("rows").length-1){b.scrollTop(b.prop("scrollHeight"));return}if(a>b.height()-d){b.scrollTop(e+d)}else{if(a<4){b.scrollTop(e-d)}}},selectNextAddress:function(){var d=jQuery("#resultMerchantAddressPanelBody");var a=this.highlightedAddressIndex;jQuery("tr",d).removeClass("highlighted");jQuery("span.merchantRowLabel",d).hide();a++;if(a>=d.prop("rows").length){a=0}var b=jQuery("tr",d).eq(a);var c=b.attr("id");b.addClass("highlighted");$("#resultMerchantAddressPanel").attr("aria-activedescendant",b.attr("id")+"_name");jQuery("#"+c+"_span_sel").show();this.highlightedAddressIndex=a;this.scrollToHighlightedAddress()},selectPreviousAddress:function(){var d=jQuery("#resultMerchantAddressPanelBody");var a=this.highlightedAddressIndex;jQuery("tr",d).removeClass("highlighted");jQuery("span.merchantRowLabel",d).hide();a--;if(a<0){a=d.prop("rows").length-1}var b=jQuery("tr",d).eq(a);var c=b.attr("id");b.addClass("highlighted");$("#resultMerchantAddressPanel").attr("aria-activedescendant",b.attr("id")+"_name");jQuery("#"+c+"_span_sel").show();this.highlightedAddressIndex=a;this.scrollToHighlightedAddress()},scrollToHighlightedAddress:function(){var b=jQuery("#searchMerchantContentTop");var f=jQuery("tr","#resultMerchantAddressPanelBody").eq(this.highlightedAddressIndex);var e=b.position().top;var a=f.position().top-e;var c=f.height();var d=b.scrollTop();if(this.highlightedAddressIndex==0){b.scrollTop(0);return}if(this.highlightedAddressIndex==jQuery("#resultMerchantAddressPanelBody").prop("rows").length-1){b.scrollTop(b.prop("scrollHeight"));return}if(a>b.height()-c){b.scrollTop(d+c)}else{if(a<4){b.scrollTop(d-c)}}},enableMerchantMouseOver:function(){jQuery("#resultMerchantPanel").unbind("mouseover");BPSM.ignoreMerchantMouseOver=false},disableMerchantMouseOver:function(){BPSM.ignoreMerchantMouseOver=true;jQuery("#resultMerchantPanel").mouseover(function(){BPSM.enableMerchantMouseOver()})},enableAddressMouseOver:function(){jQuery("#resultMerchantAddressPanel").unbind("mouseover");BPSM.ignoreAddressMouseOver=false},disableAddressMouseOver:function(){BPSM.ignoreAddressMouseOver=true;jQuery("#resultMerchantAddressPanel").mouseover(function(){BPSM.enableAddressMouseOver()})},handleMerchantListKeyPress:function(a){switch(a.keyCode){case BPLightBox.DOWN_ARROW_KEY:BPSM.disableMerchantMouseOver();BPSM.selectNextMerchant();a.preventDefault();jQuery("#searchMerchantContentTop").focus();break;case BPLightBox.UP_ARROW_KEY:BPSM.disableMerchantMouseOver();BPSM.selectPreviousMerchant();a.preventDefault();jQuery("#searchMerchantContentTop").focus();break;case BPLightBox.ENTER_KEY:BPSM.disableMerchantMouseOver();if(BPSM.highlightedMerchantIndex>=0){if(!BPSM.searchByZip){BPSM.onMerchantRowClick(BPSM.highlightedMerchantIndex)}else{BPSM.onMerchantAddressRowClick(BPSM.highlightedMerchantIndex)}}else{return true}break}return false},handleAddressListKeyPress:function(a){switch(a.keyCode){case BPLightBox.DOWN_ARROW_KEY:BPSM.disableAddressMouseOver();BPSM.selectNextAddress();a.preventDefault();jQuery("#searchMerchantContentTop").focus();break;case BPLightBox.UP_ARROW_KEY:BPSM.disableAddressMouseOver();BPSM.selectPreviousAddress();a.preventDefault();jQuery("#searchMerchantContentTop").focus();break;case BPLightBox.ENTER_KEY:BPSM.disableAddressMouseOver();if(BPSM.highlightedAddressIndex>=0){BPSM.onAddressRowClick(BPSM.highlightedAddressIndex)}else{return true}break}return false},attachKeyEvents:function(){jQuery(document).keydown(function(a){if(jQuery("#contentLookUpPayee").is(":visible")){BPSM.skipMerchantKeyUpEvent=false;if(a.keyCode==BPLightBox.ENTER_KEY&&document.getElementById("searchPayeeButton").focused){return true}else{if(a.keyCode==BPLightBox.ENTER_KEY&&(document.getElementById("merchantSearch").focused||document.getElementById("zipCode").focused||document.getElementById("zipCodePlus").focused)){BPSM.skipMerchantKeyUpEvent=true;BPSM.searchMerchantByZip()}else{if(jQuery("#resultMerchantPanel").is(":visible")){BPSM.handleMerchantListKeyPress(a)}else{if(jQuery("#resultMerchantAddressPanel").is(":visible")){BPSM.handleAddressListKeyPress(a)}else{if(a.keyCode==BPLightBox.UP_ARROW_KEY||a.keyCode==BPLightBox.DOWN_ARROW_KEY){}}}}}}});jQuery("#merchantSearch").keyup(function(a){if(!BPSM.skipMerchantKeyUpEvent){BPSM.handleMerchantSearchKey(a)}})},onZipCodeChange:function(a){$("#searchPayeeErrorPanel").hide();this.decorateField("zipField");this.decorateField("searchField")},decorateAddressRow:function(){jQuery("#resultMerchantAddressPanelBody tr").bind("mouseenter",function(){if(!BPSM.ignoreAddressMouseOver){if(BPSM.highlightedAddressIndex>-1){var b=jQuery("#resultMerchantAddressPanelBody");var a=BPSM.highlightedAddressIndex;jQuery("tr",b).eq(a>=0?a:0).removeClass("highlighted");jQuery("span.merchantRowLabel",b).eq(a>=0?a:0).hide()}BPSM.highlightedAddressIndex=jQuery(this).index();jQuery(this).addClass("highlighted");jQuery("#resultMerchantAddressPanel").attr("aria-activedescendant",$(this).attr("id")+"_name");jQuery("#"+jQuery(this).attr("id")+"_span_sel").show()}});jQuery("#resultMerchantAddressPanelBody tr").bind("mouseleave",function(){jQuery(this).removeClass("highlighted");jQuery("#"+jQuery(this).attr("id")+"_span_sel").hide()});jQuery("#resultMerchantAddressPanelBody tr a").bind("focus",function(){var c="#"+$(this).attr("id").replace("_link","");var b=$("#resultMerchantAddressPanelBody");var a=BPSM.highlightedAddressIndex;if(a>-1){$("tr",b).eq(a>=0?a:0).removeClass("highlighted");$("span.merchantRowLabel",b).eq(a>=0?a:0).hide()}else{$("tr",b).removeClass("highlighted");$("span.merchantRowLabel",b).hide()}$(c).addClass("highlighted");$(c+"_span_sel").show();BPSM.highlightedAddressIndex=$(c).index()});jQuery("#resultMerchantAddressPanelBody tr").click(function(){BPSM.onAddressRowClick(jQuery(this).index())})},onAddressRowClick:function(a){BPLightBox.close();BPSM.caller.onPayeeSelect(BPSM.selectedMerchant,BPSM.merchantAddresses[a])},constructAddress:function(a){jQuery.each(a,function(c,b){var d="smerchant_address_"+b.id;var e=jQuery('<tr role="option" role="listitem" id="'+d+'"><td class="merchantRow"><span id="'+d+'_span_sel" class="merchantRowLabel">Select address</span>'+(c==0?'<a href="#" id="'+d+'_link">':"")+'<span class="highlightedMerName" id="'+d+'_name">'+BPSM.constructAddressElement(b)+"</span>"+(c==0?"</a>":"")+"</td></tr>");jQuery("#resultMerchantAddressPanelBody").append(e)})},constructAddressElement:function(b,a){var c=b.address1+"&nbsp;"+((b.address2=="null")?"":"&nbsp;"+b.address2+"&nbsp;")+"&nbsp;"+(a?"<br/>":"")+b.city+",&nbsp;"+b.state+"&nbsp;&nbsp;"+b.zipCode+((b.zipCodePlus=="null")?"":"-"+b.zipCodePlus)+"&nbsp;";if(b.addressOnFile=="true"){return"Address on File"+(a?"<br/>":"")+b.phone}return c}};var BPAjax={getJSON:function(c,d,a,b){if(b){jQuery("#"+b).hide();jQuery("#"+b+"Loading").show()}jQuery.getJSON(c,d,function(f){if(b){jQuery("#"+b).show();jQuery("#"+b+"Loading").hide()}if(f==null||f.jSONEventError){var e=f.jSONEventError.errorMessage.indexOf("session is no longer active")==-1?false:true;if(e){BPLightBox.close();window.location=timeoutPage;return}BPLightBox.onError()}else{a(f)}startCountdown()}).error(function(){if(b){jQuery("#"+b).show();jQuery("#"+b+"Loading").hide()}BPLightBox.onError()}).complete(function(e){})}};var BPLightBox={caller:"",imageContentPath:"",ENTER_KEY:13,UP_ARROW_KEY:38,DOWN_ARROW_KEY:40,initialize:function(a){this.caller=a;BPBM.initialize(a);BPSM.initialize(a);BillPayCommon.restrictTabbing($("#lightBoxCloseImg"),$("#lightBoxCloseBtn"));$(".resetHighlightedIndex").focus(function(){BPBM.highlightedMerchantIndex=-1;BPSM.highlightedMerchantIndex=-1;BPSM.highlightedAddressIndex=-1;$.each($(".highlighted"),function(c,b){$("span.merchantRowLabel",this).hide();$(this).removeClass("highlighted")})})},onAddManualPayee:function(b){var d=jQuery("#manualPayeeText").html().trim();var a="";var c="";this.close();if(b){d="Payee"}if($("#lookUpPayeeTab").attr("class").indexOf("tabA")!=-1){a=$("#zipCode").val();c=$("#zipCodePlus").val()}this.caller.onAddManualPayee(d!="Payee"?d:"",a,c)},onLocalPayee:function(a){this.close();this.caller.onLocalPayee(a)},close:function(){$("#lightBox").bPopup().close()},open:function(){$("#lightBox").bPopup({scrollBar:true,follow:[false,false],position:["",""]})},onError:function(){this.close();this.caller.onError()},onLocalPayeeTab:function(){$("#contentLocalPayee").show().attr("aria-hidden","false");$("#contentBrowsePayee").hide().attr("aria-hidden","true");$("#contentLookUpPayee").hide().attr("aria-hidden","true");$("#localPayeeTab").addClass("tabA").attr("aria-selected","true");$("#browsePayeeTab").removeClass("tabA").attr("aria-selected","false");$("#lookUpPayeeTab").removeClass("tabA").attr("aria-selected","false");$("#manualPayeeText").text("Payee");$("#popularPayeeList").hide();$("#popularPayeeListLoading").show();BPAjax.getJSON("CuiJsonServlet/PingServer",{},function(a){$("#popularPayeeList").load("../application/GetPopularPayees",function(d,e,c){var b=d.indexOf("session is no longer active")==-1?false:true;if(b){BPLightBox.close();window.location=timeoutPage}else{if(e=="error"){BPLightBox.onError()}}$("#popularPayeeList").show();$("#popularPayeeListLoading").hide();startCountdown()})},"popularPayeeList");$("#lightBoxCloseImg").focus()},onLookUpPayeeTab:function(){$("#contentLocalPayee").hide().attr("aria-hidden","true");$("#contentBrowsePayee").hide().attr("aria-hidden","true");$("#contentLookUpPayee").show().attr("aria-hidden","false");$("#localPayeeTab").removeClass("tabA").attr("aria-selected","false");$("#browsePayeeTab").removeClass("tabA").attr("aria-selected","false");$("#lookUpPayeeTab").addClass("tabA").attr("aria-selected","true");$("#manualPayeeText").text("Payee");BPSM.show();$("#merchantSearch").focus()},onBrowsePayeeTab:function(){$("#contentLocalPayee").hide().attr("aria-hidden","true");$("#contentBrowsePayee").show().attr("aria-hidden","false");$("#contentLookUpPayee").hide().attr("aria-hidden","true");$("#localPayeeTab").removeClass("tabA").attr("aria-selected","false");$("#browsePayeeTab").addClass("tabA").attr("aria-selected","true");$("#lookUpPayeeTab").removeClass("tabA").attr("aria-selected","false");$("#manualPayeeText").text("Payee");BPBM.show();$("#lightBoxCloseImg").focus()}};var FTUE={onPayeeSelect:function(b,a){document.location.href="PayNewPayee?merchId="+a.merchantId+"&remaddrId="+a.id+"&ticket="+tickedId+"&rand="+randId},onAddManualPayee:function(b,a,c){document.location.href="PayNewPayee?payeeName="+encodeURIComponent(b)+"&lightBoxZipCode="+a+"&lightBoxZipCodePlus="+c+"&ticket="+tickedId+"&rand="+randId},onLocalPayee:function(a){document.location.href="PayNewPayee?merchId="+a+"&ticket="+tickedId+"&rand="+randId},onError:function(){BPSM.lastSearchRequestCompleted=true;var a='<img src="'+BPLightBox.imageContentPath+'/images/icons/error.gif" alt="Error"/>';var b="<div class='errorMessage'>"+a+"&nbsp;The system is temporarily unable to process your request. Please try again later.</div>";$("#aboveError").html(b);$("#aboveError").show()}};